(function(b,c,a,d){if(typeof define==="function"&&(define.amd||define.cmd)){define(function(){return b(c,a,d)})}else{c.Q=b(c,a,d)}})(function(h0,iu,iC){function ib(b,a,f){if(b.hasChildren()){var d=b._g0||b.getChildren();if(d){d=d._k2||d;for(var c=0,g=d.length;g>c;c++){if(a.call(f,d[c])===!1||ib(d[c],a,f)===!1){return !1}}return !0}}}function h4(b){if(!b.hasChildren()){return b instanceof jc?b:null}for(var a,c=b._g0._k2,d=c.length-1;d>=0;){if(a=c[d],a=h4(a)){return a}d--}return null}function h2(b,a,c,d){return d?h8(b,a,c):iJ(b,a,c)}function h8(b,a,f){b=b._k2||b;for(var g,d=0,c=b.length;c>d;d++){if(g=b[d],g.hasChildren()&&!h8(g.children,a,f)||a.call(f,g)===!1){return !1}}return !0}function iJ(b,a,f){b=b._k2||b;for(var g,d=0,c=b.length;c>d;d++){if(g=b[d],a.call(f,g)===!1||g.hasChildren()&&!iJ(g.children,a,f)){return !1}}return !0}function iw(b,a,c,d){return d?ij(b,a,c):iK(b,a,c)}function ij(b,a,f){b=b._k2||b;for(var g,d=b.length,c=d-1;c>=0;c--){if(g=b[c],g.hasChildren()&&!ij(g.children,a,f)||a.call(f,g)===!1){return !1}}return !0}function iK(b,a,f){b=b._k2||b;for(var g,d=b.length,c=d-1;c>=0;c--){if(g=b[c],a.call(f,g)===!1||g.hasChildren()&&!iK(g.children,a,f)){return !1}}return !0}function hZ(b,a,f){for(var h,d=(b._k2||b).slice(0);d.length;){h=d[0],d=d.splice(1);var c=a.call(f,h);if(c===!1){return !1}if(h.hasChildren()){var g=h.children;g=g._k2||g,d=d.concat(g)}}return !0}function iE(b,a,f){for(var h,d=(b._k2||b).slice(0);d.length;){h=d[d.length-1],d=d.splice(0,d.length-1);var c=a.call(f,h);if(c===!1){return !1}if(h.hasChildren()){var g=h.children;g=g._k2||g,d=d.concat(g)}}return !0}function iD(b,a){function c(q,m){for(var i=q.length,f=m.length,u=i+f,g=new Array(u),p=0,k=0,j=0;u>j;){g[j++]=p===i?m[k++]:k===f||a(q[p],m[k])<=0?q[p++]:m[k++]}return g}function d(f){var e=f.length,g=Math.ceil(e/2);return 1>=e?f:c(d(f.slice(0,g)),d(f.slice(g)))}return d(b)}function iz(b,a,f,h){b instanceof c2&&(b=b._k2);for(var d=0,c=(b._k2||b).length;c>d;d++){var g=a.call(f,b[d],d,h);if(g===!1){return !1}}return !0}function ix(d,c,h){for(var k=d instanceof c2,g=d._k2||d,f=0,j=g.length;j>f;f++){var b=g[f];c.call(h,b)&&(k?d.remove(b):d.splice(f,1),f--,j--)}}function hY(b,a,f,g){b instanceof c2&&(b=b._k2);for(var d=(b._k2||b).length-1;d>=0;d--){var c=a.call(f,b[d],d,g);if(c===!1){return !1}}return !0}function ju(b){if(b.clone instanceof Function){return b.clone(!0)}var a,c=[];return iz(b,function(d){a=d&&d.clone instanceof Function?d.clone():d,c.push(a)},this),c}function id(b,a,c){c===iC||0>c?b.push(a):b.splice(c,0,a)}function h7(b,a){var c=b.indexOf(a);return 0>c||c>=b.length?!1:b.splice(c,1)}function hV(b,a){var c=!1;return iz(b,function(d){return a==d?(c=!0,!1):void 0}),c}function iU(b,a){var f=b;for(var g in a){if(a.__lookupGetter__){var d=a.__lookupGetter__(g),c=a.__lookupSetter__(g);d||c?(d&&f.__defineGetter__(g,d),c&&f.__defineSetter__(g,c)):f[g]=a[g]}else{f[g]=a[g]}}return f}function i2(b,a,f){if(!(b instanceof Function)){throw new Error("subclass must be type of Function")}var g=null;"object"==typeof a&&(g=a,a=b,b=function(){a.apply(this,arguments)});var d=b.prototype,c=function(){};return c.prototype=a.prototype,b.prototype=new c,b.superclass=a.prototype,b.superclass.constructor=a,iU(b.prototype,d),g&&iU(b.prototype,g),f&&iU(b.prototype,f),b.prototype["class"]=b,b}function hX(b,a,c){return jB(b,a,"constructor",c)}function jB(b,a,f,g){var d=a.superclass;if(d){var c=d[f];return c?c.apply(b,g):void 0}}function i7(b,a,d,f){if("constructor"==d){return iG(b,a,f)}if(a.super_ instanceof Function){var c=a.super_.prototype[d];return c instanceof Function?c.apply(b,f):void 0}}function iG(b,a,c){return a.super_ instanceof Function?a.super_.apply(b,c):void 0}function iW(b,a){return b.super_=a,b.prototype=Object.create(a.prototype,{super_:{value:a,enumerable:!1},constructor:{value:b,enumerable:!1}}),b}function jg(b,a,f){if(!(b instanceof Function)&&b instanceof Object){a=b["super"];var g;return b.hasOwnProperty("constructor")?(g=b.constructor,delete b.constructor):g=a?function(){a.apply(this,arguments)}:function(){},jg(g,a,b)}if(a&&!(a instanceof Function)&&a instanceof Object){return jg(b,a["super"],a)}if(a&&iW(b,a),f){var d=b.prototype;for(var c in f){d[c]=f[c]}}return b}function hW(d,c,h,f,e){if(f){return void Object.defineProperty(d,c,{value:h,enumerable:!0})}var g={configurable:!0,enumerable:!0},b="$"+c;h!==iC&&(d[b]=h),g.get=function(){return this[b]},g.set=function(a){var i=this[b];if(i==a){return !1}var j=new gV(this,c,a,i);return this.beforeEvent(j)?(this[b]=a,e&&e.call(this,a,i),this.onEvent(j),!0):!1},Object.defineProperty(d,c,g)}function jx(b,a){for(var d=0,f=a.length;f>d;d++){var c=a[d];hW(b,c.name||c,c.defaultValue||c.value,c.readOnly,c.onSetting)}}function iX(b,a,c){return a instanceof Object?b=b.bind(a):a&&!c&&(c=parseInt(a)),a&&!c&&(c=parseInt(a)),c?setTimeout(b,c):setTimeout(b)}function jv(a,b){return b&&(a=a.bind(b)),h0.requestAnimationFrame(a)}function i0(b,a){return b.className=a,b}function i4(b,a){if(!b.hasOwnProperty("classList")){var f=b.getAttribute("class");if(!f){return i0(b,a)}for(var g=f.split(" "),d=0,c=g.length;c>d;d++){if(g[d]==a){return}}return f+=" "+a,i0(b,f)}b.classList.add(a)}function ik(b,a){if(!b.hasOwnProperty("classList")){var f=b.getAttribute("class");if(!f||!f.indexOf(a)){return}for(var h="",d=f.split(" "),c=0,g=d.length;g>c;c++){d[c]!=a&&(h+=d[c]+" ")}return i0(b,h)}b.classList.remove(a)}function i6(a){return !isNaN(a)&&a instanceof Number||"number"==typeof a}function jA(a){return a!==iC&&(a instanceof String||"string"==typeof a)}function jm(a){return a!==iC&&(a instanceof Boolean||"boolean"==typeof a)}function jt(a){return Array.isArray(a)}function j1(a){a||(a=h0.event),a.preventDefault?a.preventDefault():a.returnValue=!1}function hT(a){a||(a=h0.event),a.stopPropagation?a.stopPropagation():a.cancelBubble||(a.cancelBubble=!0)}function iO(a){j1(a),hT(a)}function ip(a){return Math.floor(Math.random()*a)}function jj(){return Math.random()>=0.5}function iT(b){var a=!0;for(var c in b){a=!1;break}return a}function iQ(b){if(b&&b>0&&1>b){var a=Math.floor(16777215*Math.random());return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(255&a)+","+b.toFixed(2)+")"}return iR(Math.floor(16777215*Math.random()))}function h5(a){return a>0?Math.floor(a):Math.ceil(a)}function iP(a){return a>0?Math.ceil(a):Math.floor(a)}function iR(a){return 16777216>a?"#"+("000000"+a.toString(16)).slice(-6):"rgba("+(a>>16&255)+","+(a>>8&255)+","+(255&a)+","+((a>>24&255)/255).toFixed(2)+")"}function i9(b,a,c){"object"!=typeof c||c.hasOwnProperty("enumerable")||(c.enumerable=!0),Object.defineProperty(b,a,c)}function iN(b,a){for(var c in a){if("_"!=c[0]){var d=a[c];"object"!=typeof d||d.hasOwnProperty("enumerable")||(d.enumerable=!0)}}Object.defineProperties(b,a)}function jd(a,d){d||(d=h0);for(var g=a.split("."),c=0,b=g.length;b>c;c++){var f=g[c];d=d[f]}return d}function iZ(a){return a instanceof MouseEvent||a instanceof Object&&a.touches!==iC}function bQ(a){h0.console&&console.log(a)}function fY(a){h0.console&&console.trace(a)}function hp(a){h0.console&&console.error(a)}function ef(b,a,f){var h,d,c;0==b._ml?(h=-1,c=0,d=a):0==b._mo?(h=0,c=1,d=f):(h=-1/b._ml,d=(b._ml-h)*a+b._mm,c=1);var g=new fF;return g._ml=h,g._mm=d,g._mo=c,g._mi=a,g._mh=f,g._kx=Math.atan2(h,c),g._moos=Math.cos(g._kx),g._sin=Math.sin(g._kx),g}function cL(x,j,m,f,b){var y,d;j>f?y=-1:f>j&&(y=1),m>b?d=-1:b>m&&(d=1);var q,k;if(!y){return k=0>d?x.y:x.bottom,{x:j,y:k}}if(!d){return q=0>y?x.x:x.right,{x:q,y:m}}var g=(m-b)/(j-f),v=m-g*j,w=0>y?j-x.x:j-x.right,p=0>d?m-x.y:m-x.bottom;return Math.abs(g)>=Math.abs(p/w)?(k=0>d?x.y:x.bottom,q=(k-v)/g):(q=0>y?x.x:x.right,k=g*q+v),{x:q,y:k}}function cc(d,c,h,k,g,f,j,b){return 0>=j||0>=b||0>=h||0>=k?!1:(j+=g,b+=f,h+=d,k+=c,(g>j||j>d)&&(f>b||b>c)&&(d>h||h>g)&&(c>k||k>f))}function dN(b,a,f,g,d,c){return d>=b&&b+f>=d&&c>=a&&a+g>=c}function jU(l,f,j,d,b,m,c,k,g){return g&&(l-=g,f-=g,j+=g+g,d+=g+g),b>=l&&m>=f&&l+j>=b+c&&f+d>=m+k}function gm(v,g,k,d,b,w,c,m){var j=v;j+=k;var f=g;f+=d;var p=b;p+=c;var q=w;return q+=m,b>v&&(v=b),w>g&&(g=w),j>p&&(j=p),f>q&&(f=q),j-=v,f-=g,0>j||0>f?null:new fU(v,g,j,f)}function eY(d,c,h){if(jA(d)&&(d=d7.fromString(d)),!d){return{x:0,y:0}}if(d.x!==iC){return{x:d.x,y:d.y}}var f,e,g=d.horizontalPosition,b=d.verticalPosition;switch(g){case cG:f=0;break;case dI:f=c;break;default:f=c/2}switch(b){case jN:e=0;break;case eT:e=h;break;default:e=h/2}return{x:f,y:e}}function az(b,a,c){b.children.add(a,c),b.onChildAdd(a,c)}function by(b,a){b._g0&&(b._g0.remove(a),b.onChildRemove(a))}function iq(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(c,b){return b.toUpperCase()})}function hJ(a){return a.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function g0(b,a){var d=b.style;if(!d){return !1}var f,c;for(f in a){a.hasOwnProperty(f)&&(c=bE(f))&&(d[c]=a[f])}return b}function gI(b){var a,c,d="";for(a in b){b.hasOwnProperty(a)&&(c=bE(a))&&(d+=hJ(c)+":"+b[a]+";")}return d?d.substring(0,d.length-1):d}function a7(b,a,c){(a=bE(a))&&(b.style[a]=c)}function aY(b,a){return jf?(a&&!jA(a)&&(a=gI(a)),jf.insertRule?void jf.insertRule(b+"{"+a+"}",0):void (jf.addRule&&jf.addRule(b,a,0))):!1}function eG(a,d){a.touches&&(a=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a.touches[0]);var f=d.getBoundingClientRect(),c=a.clientX||0,b=a.clientY||0;return jR&&aw&&(h0.pageXOffset&&c==a.pageX&&(c-=h0.pageXOffset),h0.pageYOffset&&b==a.pageY&&(b-=h0.pageYOffset)),{x:c-f.left,y:b-f.top}}function dv(b,a,c){this._lr=b,this._scope=c,this._handler=a,this._dragPoints=new eN,this._install()}function kc(a){return dX&&a.metaKey||!dX&&a.ctrlKey}function eN(){this.points=[]}function gx(b,a,d,f,c){cA(b,function(g){if(a){var e=g.responseXML;if(!e){return void (d||gw)("'"+b+"' XML format error.")}a(e)}},d,f,c)}function aP(b,a,d,f,c){cA(b,function(i){if(a){var g,e=i.responseText;if(!e){return(d||gw)("'"+b+"' JSON format error."),g=new Error("'"+b+"' JSON format error."),a(e,g)}try{e=JSON.parse(e)}catch(h){(d||gw)(h),g=h}a(e,g)}},d,f,c)}function cA(l,f,j,d,b){(j===!1||d===!1)&&(b=!1);try{var m=new XMLHttpRequest,c=encodeURI(l);if(b!==!1){var k;k=c.indexOf("?")>0?"&":"?",c+=k+"__time="+Date.now()}m.open("GET",c),m.onreadystatechange=function(){return 4==m.readyState?m.status&&200!=m.status?void (j||gw)("'"+l+"' load error"):void (f&&f(m)):void 0},m.send(d)}catch(g){(j||gw)("'"+l+"' load error",g)}}function cc(d,c,h,k,g,f,j,b){return 0>=j||0>=b||0>=h||0>=k?!1:(j+=g,b+=f,h+=d,k+=c,(g>j||j>d)&&(f>b||b>c)&&(d>h||h>g)&&(c>k||k>f))}function jU(d,c,h,k,g,f,j,b){return g>=d&&f>=c&&d+h>=g+j&&c+k>=f+b}function hy(b,a,c){return b instanceof Object&&b.x?e5(b,a,0,0):jb(b,a,c,0,0)}function jb(l,f,j,d,b){var m=Math.sin(j),c=Math.cos(j),k=l-d,g=f-b;return l=k*c-g*m+d,f=k*m+g*c+b,new b9(l,f,j)}function e5(d,c,h,k){h=h||0,k=k||0;var g=Math.sin(c),f=Math.cos(c),j=d.x-h,b=d.y-k;return d.x=j*f-b*g+h,d.y=j*g+b*f+k,d}function jy(b,a,c){return am(b,a,c,0,0)}function am(l,f,j,d,b){var m=jb(l.x,l.y,f,d,b),c=jb(l.x+l.width,l.y,f,d,b),k=jb(l.x+l.width,l.y+l.height,f,d,b),g=jb(l.x,l.y+l.height,f,d,b);return j?j.clear():j=new fU,j.addPoint(m),j.addPoint(c),j.addPoint(k),j.addPoint(g),j}function bH(b,a){var c=this.ratio||1;this.style.width=b+"px",this.style.height=a+"px",this.width=b*c,this.height=a*c}function fw(b){var a=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return bD/a}function bk(a,d,f){var c=iu.createElement("canvas");if(c.g=c.getContext("2d"),a!==!0&&!f){return a&&d&&(c.width=a,c.height=d),c}var b=c.g;return b.ratio=c.ratio=fw(b),c.setSize=bH,b._l0=function(){this.canvas.width=this.canvas.width},a&&d&&c.setSize(a,d),c}function f5(b,a){return iF||(iF=bk()),b&&a&&(iF.width=b,iF.height=a),iF.g}function gP(b,a,c){return(c||cX.FONT_STYLE)+" "+(a||cX.FONT_SIZE)+"px "+(b||cX.FONT_FAMILY)}function fk(D,p,x,k,b,E,j,A,q,m){if(D.save(),D.translate(x,k),hP&&g6>j){var B=j/g6;D.scale(B,B),j=g6,m=null}q||(q=cX.LINE_HEIGHT),j||(j=cX.FONT_SIZE),q*=j,D.font=m||gP(E,j,A),D.textAlign=b,D.textBaseline="middle";for(var C=q/2,z=p.split("\n"),y=0,w=z.length;w>y;y++){var v=z[y];D.fillText(v,0,C),C+=q}D.restore()}function g7(D,p,x,k,b,E){if(!D){return{width:0,height:0}}if(p||(p=cX.FONT_SIZE),hP&&g6>p){var j=p/g6,A=g7(D,g6,x,k,b);return A.width*=j,A.height*=j,A}var q=f5();q.font=E||gP(x,p,k),b||(b=cX.LINE_HEIGHT);for(var m=p*b,B=0,C=0,z=D.split("\n"),y=0,w=z.length;w>y;y++){var v=z[y];B=Math.max(q.measureText(v).width,B),C+=m}return{width:B,height:C}}function b0(b,a,f,h,d){var c;if(bb){try{c=b.getImageData(a,f,h,d)}catch(g){}}else{c=b.getImageData(a,f,h,d)}return c}function kt(a){return Math.log(a+Math.sqrt(a*a+1))}function aG(b,a){a=a||b(1);var d=1/a,f=0.5*d,c=Math.min(1,a/100);return function(j){if(0>=j){return 0}if(j>=a){return 1}for(var k=j*d,g=0;g++<10;){var i=b(k),e=j-i;if(Math.abs(e)<=c){return k}k+=e*f}return k}}function d5(d,c,h){var k=1-d,g=k*k*c[0]+2*k*d*c[2]+d*d*c[4],f=k*k*c[1]+2*k*d*c[3]+d*d*c[5];if(h){var j=(c[0]+c[4]-2*c[2])*d+c[2]-c[0],b=(c[1]+c[5]-2*c[3])*d+c[3]-c[1];return{x:g,y:f,rotate:Math.atan2(b,j)}}return{t:d,x:g,y:f}}function jL(b,a,c){var d=b-2*a+c;return 0!=d?(b-a)/d:-1}function cS(b,a){a.add(b[4],b[5]);var d=jL(b[0],b[2],b[4]);if(d>0&&1>d){var f=d5(d,b);a.add(f.x,f.y)}var c=jL(b[1],b[3],b[5]);if(c>0&&1>c){var f=d5(c,b);a.add(f.x,f.y)}return a}function fH(b,a){return Math.abs(b-a)<1e-7}function j2(q){if(fH(q[1],q[3])&&(fH(q[0],q[2])||fH(q[1],q[5]))){var D=q[0],I=q[1],A=q[4],x=q[5],w=Math.sqrt(gO(D,I,A,x));return function(a){return w*a}}var z=q[0],L=q[2],F=q[4],C=z-2*L+F,M=2*L-2*z;z=q[1],L=q[3],F=q[5];var j=z-2*L+F,K=2*L-2*z,J=4*(C*C+j*j),H=4*(C*M+j*K),G=M*M+K*K,w=4*J*G-H*H,b=1/w,k=0.125*Math.pow(J,-1.5),B=2*Math.sqrt(J),y=(w*kt(H/Math.sqrt(w))+2*Math.sqrt(J)*H*Math.sqrt(G))*k;return function(c){var a=H+2*c*J,d=a/Math.sqrt(w),f=a*a*b;return(w*Math.log(d+Math.sqrt(f+1))+B*a*Math.sqrt(G+c*H+c*c*J))*k-y}}function eu(v,g,k){var d=1-v,b=g[0],w=g[2],c=g[4],m=g[6],j=b*d*d*d+3*w*v*d*d+3*c*v*v*d+m*v*v*v;if(k){var f=3*v*v*m+(6*v-9*v*v)*c+(9*v*v-12*v+3)*w+(-3*v*v+6*v-3)*b}b=g[1],w=g[3],c=g[5],m=g[7];var p=b*d*d*d+3*w*v*d*d+3*c*v*v*d+m*v*v*v;if(k){var q=3*v*v*m+(6*v-9*v*v)*c+(9*v*v-12*v+3)*w+(-3*v*v+6*v-3)*b;return{x:j,y:p,rotate:Math.atan2(q,f)}}return{x:j,y:p}}function dC(d,c,h,k){var g=-d+3*c-3*h+k;if(0==g){return[(d-c)/(2*h-4*c+2*d)]}var f=2*d-4*c+2*h,j=c-d,b=f*f-4*g*j;return 0>b?void 0:0==b?[-f/(2*g)]:(b=Math.sqrt(b),[(b-f)/(2*g),(-b-f)/(2*g)])}function c4(b,a){a.add(b[6],b[7]);var f=dC(b[0],b[2],b[4],b[6]);if(f){for(var g=0;g<f.length;g++){var d=f[g];if(!(0>=d||d>=1)){var c=eu(d,b);a.add(c.x,c.y)}}}if(f=dC(b[1],b[3],b[5],b[7])){for(var g=0;g<f.length;g++){var d=f[g];if(!(0>=d||d>=1)){var c=eu(d,b);a.add(c.x,c.y)}}}}function dc(w){var G={x:w[0],y:w[1]},K={x:w[2],y:w[3]},C={x:w[4],y:w[5]},z={x:w[6],y:w[7]},x=G.x-0,B=G.y-0,N=K.x-0,H=K.y-0,F=C.x-0,O=C.y-0,k=z.x-0,M=z.y-0,L=3*(-x+3*N-3*F+k),J=6*(x-2*N+F),I=3*(-x+N),j=3*(-B+3*H-3*O+M),q=6*(B-2*H+O),D=3*(-B+H),A=function(c){var a=L*c*c+J*c+I,d=j*c*c+q*c+D;return Math.sqrt(a*a+d*d)},b=(A(0)+4*A(0.5)+A(1))/6;return b}function dU(b,a){function f(k,j,p,u){var m=-k+3*j-3*p+u,l=2*k-4*j+2*p,q=j-k;return function(e){return 3*(m*e*e+l*e+q)}}function h(k,j){var l=d(k),m=c(k);return Math.sqrt(l*l+m*m)*j}var d=f(b[0],b[2],b[4],b[6]),c=f(b[1],b[3],b[5],b[7]);a=a||100;var g=1/a;return function(k){if(!k){return 0}for(var j,m=0,l=0;;){if(j=m+g,j>=k){return l+=h(m,j-m)}l+=h(m,g),m=j}}}function hQ(b,a,c){return gO(a,c,b.cx,b.cy)<=b._squareR+bd}function ct(b,a,c,d){return c=c||iH(b,a),new fO((b.x+a.x)/2,(b.y+a.y)/2,c/2,b,a,null,d)}function iH(b,a){return ig(b.x,b.y,a.x,a.y)}function fO(b,a,f,h,d,c,g){this.cx=b,this.cy=a,this.r=f,this._squareR=f*f,this.p1=h,this.p2=d,this.p3=c,this._otherPoint=g}function bS(b,a,c,d){this.cx=b,this.cy=a,this.width=c,this.height=d}function f2(b){var a=b[0],d=b[1],f=b[2],c=fO._moreateCircle(a,d,f);return ep(b,a,d,f,c)}function hv(d,c){c=c||cP(d);for(var h,k=c.width/c.height,g=[],f=d.length,j=0;f>j;j++){h=d[j],g.push({x:h.x,y:h.y*k})}var b=f2(g);return b?new bS(b.cx,b.cy/k,2*b.r,2*b.r/k):void 0}function ep(B,m,v,j,b){for(var C,g,y=B.length,p=b._squareR,k=0;y>k;k++){if(C=B[k],C!=m&&C!=v&&C!=j){var z=gO(b.cx,b.cy,C.x,C.y);z-bd>p&&(p=z,g=C)}}if(!g){return b}var A,x=fO._moreateCircle(g,m,v),w=fO._moreateCircle(g,m,j),q=fO._moreateCircle(g,j,v);return hQ(x,j.x,j.y)&&(A=x),hQ(w,v.x,v.y)&&(!A||A.r>w.r)&&(A=w),hQ(q,m.x,m.y)&&(!A||A.r>q.r)&&(A=q),m=A.p1,v=A.p2,j=A.p3||A._otherPoint,ep(B,m,v,j,A)}function cP(b){for(var a,d=b.length,f=new fU,c=0;d>c;c++){a=b[c],f.add(a.x,a.y)}return f}function cj(v,g,k,d,b){this._63&&this.validate();var w=b?this.getBounds(b):this.bounds,c=k/w.width,m=v-c*w.x,j=d/w.height,f=g-j*w.y,p=this._fm,q=[];return iz(p,function(l){var h=l.clone(),x=h.points;if(x&&x.length){for(var z=x.length,u=[],o=0;z>o;o++){var a=x[o];o++;var y=x[o];a=c*a+m,y=j*y+f,u.push(a),u.push(y)}h.points=u}q.push(h)},this),new db(q)}function dR(x,j,m,f,b,y){if(b=b||0,m=m||0,!b&&!y){return !1}if(!f){var d=this.getBounds(b);if(!d.intersectsPoint(x,j,m)){return !1}}var q=Math.round(2*m)||1,k=f5(q,q),g=(k.canvas,-x+m),v=-j+m;if(k.setTransform(1,0,0,1,g,v),!k.isPointInStroke){this._lh(k),b&&k.stroke(),y&&k.fill();var w=b0(k,0,0,q,q);if(!w){return !1}w=w.data;for(var p=w.length/4;p>0;){if(w[4*p-1]>dF){return !0}--p}return !1}return k.lineWidth=(b||0)+2*m,this._lh(k),b&&k.isPointInStroke(m,m)?!0:y?k.isPointInPath(m,m):!1}function jY(m,z,D){if(!this._jf){return null}var x=this._fm;if(x.length<2){return null}D===!1&&(m+=this._jf);var q=x[0];if(0>=m){return bC(q.points[0],q.points[1],x[1].points[0],x[1].points[1],m,z)}if(m>=this._jf){q=x[x.length-1];var p,w,H=q.points,A=H.length,y=H[A-2],I=H[A-1];if(A>=4){p=H[A-4],w=H[A-3]}else{q=x[x.length-2];var j=q.lastPoint;p=j.x,w=j.y}return bC(y,I,y+y-p,I+I-w,m-this._jf,z)}for(var G,F=0,C=1,A=x.length;A>C;C++){if(G=x[C],G._jf){if(!(F+G._jf<m)){var B,j=q.lastPoint;if(G.type==fN){var b=G.points;B=gu(m-F,G,j.x,j.y,b[0],b[1],b[2],b[3],G._r)}else{if(!G._lf){return bC(j.x,j.y,G.points[0],G.points[1],m-F,z)}var k=aG(G._lf,G._jf)(m-F),b=G.points;B=G.type==cW&&6==b.length?eu(k,[j.x,j.y].concat(b),!0):d5(k,[j.x,j.y].concat(b),!0)}return z&&(B.x-=z*Math.sin(B.rotate||0),B.y+=z*Math.cos(B.rotate||0)),B}F+=G._jf,q=G}else{q=G}}}function gu(p,g,k,d,b,q,c,m){if(p<=g._l1){return bC(k,d,b,q,p,p)}if(p>=g._jf){return p-=g._jf,bC(g._p2x,g._p2y,c,m,p,p)}if(p-=g._l1,g._o){var j=p/g._r;g._CCW&&(j=-j);var f=jb(g._p1x,g._p1y,j,g._o.x,g._o.y);return f.rotate+=g._ml1||0,f.rotate+=Math.PI,f}return bC(g._p1x,g._p1y,g._p2x,g._p2y,p,p)}function ef(b,a,f){var h,d,c;0==b._ml?(h=-1,c=0,d=a):0==b._mo?(h=0,c=1,d=f):(h=-1/b._ml,d=(b._ml-h)*a+b._mm,c=1);var g=new fF;return g._ml=h,g._mm=d,g._mo=c,g._mi=a,g._mh=f,g}function e2(a){return a%=2*Math.PI,0>a&&(a+=2*Math.PI),a}function aD(U,an,be,ah,Y,W,ae,bn){var ao=ig(an,be,ah,Y),al=ig(ah,Y,W,ae);if(!ao||!al){return U._d=0,U._r=0,U._l1=ao,U._l2=al,U._jf=0}var bo=iA(ah,Y,an,be),N=iA(ah,Y,W,ae);U._ml1=bo,U._ml2=N;var bi=bo-N;bi=e2(bi),bi>Math.PI&&(bi=2*Math.PI-bi,U._CCW=!0);var bh=Math.PI-bi,ba=Math.tan(bi/2),ar=bn/ba,M=Math.min(ao,al);ar>M&&(ar=M,bn=ba*ar);var Q,ai=ah+Math.cos(bo)*ar,aa=Y+Math.sin(bo)*ar,G=ah+Math.cos(N)*ar,j=Y+Math.sin(N)*ar,B=new fF(an,be,ah,Y),K=new fF(ah,Y,W,ae),Z=ef(B,ai,aa),F=ef(K,G,j),bl=Z._33(F),k=Math.atan2(aa-bl.y,ai-bl.x),J=Math.atan2(j-bl.y,G-bl.x);Q=U._CCW?J:k;for(var H,X=0;4>X;){var q=X*dL;if(e2(q-Q)<=bh){var V,z;if(H?H++:H=1,0==X?(V=bl.x+bn,z=bl.y):1==X?(V=bl.x,z=bl.y+bn):2==X?(V=bl.x-bn,z=bl.y):(V=bl.x,z=bl.y-bn),U["$boundaryPoint"+H]={x:V,y:z},2==H){break}}X++}return U._p1x=ai,U._p1y=aa,U._p2x=G,U._p2y=j,U._o=bl,U._d=ar,U._r=bn,U._l1=ao-ar,U._l2=al-ar,U._jf=U._l1+bh*bn}function bA(p,g,k,d,b,q,c){var m=iA(k,d,p,g),j=iA(k,d,b,q),f=m-j;return c?f:(0>f&&(f=-f),f>Math.PI&&(f-=Math.PI),f)}function iA(b,a,c,d){return Math.atan2(d-a,c-b)}function hN(b){var a=eM.exec(b);if(a){return a[1]}var c=b.lastIndexOf(".");return c>=0&&c<b.length-1?b.substring(c+1):void 0}function g4(b){if(!b){return null}if(b instanceof db){return hC}if(b.draw instanceof Function){return cF}if(jA(b)){var a=hN(b);if(a){if(!bb&&dB.test(a)){return aU}if(kk.test(a)){return gA}}return eQ}}function gM(b,a,c){if(this._lt=g4(b),!this._lt){throw new Error("the image format is not supported",b)}this._lg=b,this._mld=a,this._96=c,this.width=a||cX.IMAGE_WIDTH,this.height=c||cX.IMAGE_HEIGHT,this._ji={}}function a9(b,a,c,d){return a?(ay[b]=new gM(a,c,d),b):void delete ay[b]}function a0(b){if(b._l6){return b._l6}var a=jA(b);if(!a&&!b.name){return b._l6=new gM(b)}var c=b.name||b;return c in ay?ay[c]:ay[c]=new gM(b)}function eK(a){return a in ay}function dz(q,D,I){I=I||{};var A=q.getBounds(I.lineWidth);if(!A.width||!A.height){return !1}var x=D.getContext("2d"),w=D.ratio||1,z=I.scaleMode||"full.uniform",L=/full/i.test(z),F=/uniform/i.test(z),C=1,M=1;if(L){var j=D.width,K=D.height,J=I.padding,H=0,G=0;if(J){var b,k,B,y;i6(J)?b=k=B=y=J:(b=J.top||0,k=J.bottom||0,B=J.left||0,y=J.right||0),j-=B+y,K-=b+k,H+=B,G+=b}C=j/A.width,M=K/A.height,F&&(C>M?(H+=(j-M*A.width)/2,C=M):M>C&&(G+=(K-C*A.height)/2,M=C)),(H||G)&&x.translate(H,G)}x.translate(-A.x*C,-A.y*M),q.draw(x,w,I,C,M,!0)}function kf(b,a,c){var d=a0(b);return d?(d.validate(),(d._lt==aU||d._6y())&&d._mlo(function(e){e.source&&(this.width=this.width,dz(e.source,this,c))},a),void dz(d,a,c)):(e4.error("draw image error - "+b),!1)}function eP(w,G,C,z){var x=w.length;if(x&&!(0>x)){z=z||1;for(var B,M,H,F=[],N=0;N++<x;){if(B=w.getLocation(N,0),B&&ig(G,C,B.x,B.y)<=z){M=N,H=B.rotate;break}}if(M!==iC){for(var B,k,L,K=0,N=0,J=w._fm.length;J>N;N++){if(B=w._fm[N],!k&&(K+=B._jf||0,K>M)){if(k=!0,B.type==ej||B.type==j7){F.push(new ey(ej,[G,C]))}else{var I=Math.max(10,B._jf/6),j=I*Math.sin(H),q=I*Math.cos(H);if(B.type==cW){var D=B.points[0],A=B.points[1];if(L){var e=new fF(G,C,G+q,C+j),b=e._33(new fF(L.lastPoint.x,L.lastPoint.y,B.points[0],B.points[1]));b.x!==iC&&(D=b.x,A=b.y)}F.push(new ey(cW,[D,A,G-q,C-j,G,C]))}else{F.push(new ey(jT,[G-q,C-j,G,C]))}if(B.points){if(B.type==cW){B.points[0]=G+q,B.points[1]=C+j;var e=new fF(G,C,G+q,C+j),b=e._33(new fF(B.points[2],B.points[3],B.points[4],B.points[5]));b.x!==iC&&(B.points[2]=b.x,B.points[3]=b.y)}else{if(B.type==jT){B.type=cW,B.points=[G+q,C+j].concat(B.points);var e=new fF(G,C,G+q,C+j),b=e._33(new fF(B.points[2],B.points[3],B.points[4],B.points[5]));b.x!==iC&&(B.points[2]=b.x,B.points[3]=b.y)}else{B.type==ej&&(B.type=jT,B.points=[G+q,C+j].concat(B.points),N==J-1&&(B.invalidTerminal=!0))}}}}}F.push(B),L=B}return F}}}function gz(b){var a=b.width,c=b.height,d=b0(b.g,0,0,a,c);return d?cC(d.data,a,c):void 0}function aR(b,a,c){this._13(b,a,c)}function cC(b,a,c){return new aR(b,a,c)}function hB(b){if("#"==b[0]){if(b=b.substring(1),3==b.length){b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]}else{if(6!=b.length){return}}return b=parseInt(b,16),[b>>16&255,b>>8&255,255&b]}if(/^rgb/i.test(b)){var a=b.indexOf("("),f=b.indexOf(")");if(0>a||a>f){return}if(b=b.substring(a+1,f),b=b.split(","),b.length<3){return}var h=parseInt(b[0]),d=parseInt(b[1]),c=parseInt(b[2]),g=3==b.length?255:parseInt(b[3]);return[h,d,c,g]}}function jp(b,a,c){return c||(c=cX.BLEND_MODE),c==aF.BLEND_MODE_MULTIPLY?b*a:c==aF.BLEND_MODE_DARKEN?Math.min(b,a):c==aF.BLEND_MODE_COLOR_BURN?1-(1-a)/b:c==aF.BLEND_MODE_LINEAR_BURN?b+a-1:c==aF.BLEND_MODE_LIGHTEN?Math.max(b,a):c==aF.BLEND_MODE_SCREEN?b+a-b*a:a}function e7(v,g,k){var d=hB(g);if(!d){return void e4.error("color error, ["+g+"]")}var b=b0(v.g,0,0,v.width,v.height);if(b){var w=b.data;if(k instanceof Function){w=k(v,w,d)||w}else{var c=d[0]/255,m=d[1]/255,j=d[2]/255;if(k==aF.BLEND_MODE_GRAY){for(var f=0,p=w.length;p>f;f+=4){var q=77*w[f]+151*w[f+1]+28*w[f+2]>>8;w[f]=q*c|0,w[f+1]=q*m|0,w[f+2]=q*j|0}}else{for(var f=0,p=w.length;p>f;f+=4){w[f]=255*jp(c,w[f]/255,k)|0,w[f+1]=255*jp(m,w[f+1]/255,k)|0,w[f+2]=255*jp(j,w[f+2]/255,k)|0}}}var v=bk(v.width,v.height);return v.g.putImageData(b,0,0),v}}function jC(b,a,c,d){return 1>c&&(c=1),au(b-c,a-c,2*c,2*c,d)}function au(d,c,h,k,g){h=Math.round(h)||1,k=Math.round(k)||1;var f=f5(h,k);f.setTransform(1,0,0,1,-d,-c),g.draw(f);var j=b0(f,0,0,h,k);if(!j){return !1}j=j.data;for(var b=j.length/4;b-->0;){if(j[4*b-1]>dF){return !0}}return !1}function bJ(q,g,k,d,b,u){q-=b.$x,g-=b.$y;var c=b._g7.intersection(q,g,k,d);if(!c){return !1}q=c.x*u,g=c.y*u,k=c.width*u,d=c.height*u,k=Math.round(k)||1,d=Math.round(d)||1;var m=f5(),j=m.canvas;j.width<k||j.height<d?(j.width=k,j.height=d):(m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,k,d)),m.setTransform(1,0,0,1,-q-b.$x*u,-g-b.$y*u),m.scale(u,u),b._jp(m,1);var f=b0(m,0,0,k,d);if(!f){return !1}f=f.data;for(var p=f.length/4;p-->0;){if(f[4*p-1]>dF){return !0}}return !1}function fy(H,V,Z,Q,K,J,P,ai,W){if(dN(H,V,Z,Q,ai,W)){return null}var U,al,F,ae=new ey(ej,[H+Z-K,V]),aa=new ey(jT,[H+Z,V,H+Z,V+J]),Y=new ey(ej,[H+Z,V+Q-J]),X=new ey(jT,[H+Z,V+Q,H+Z-K,V+Q]),D=new ey(ej,[H+K,V+Q]),G=new ey(jT,[H,V+Q,H,V+Q-J]),R=new ey(ej,[H,V+J]),N=new ey(jT,[H,V,H+K,V]),z=(new ey(j7),[ae,aa,Y,X,D,G,R,N]),j=new fU(H+K,V+J,Z-K-K,Q-J-J);H>ai?(U=cG,F=5):ai>H+Z?(U=dI,F=1):(U=b6,F=0),V>W?(al=jN,U==cG&&(F=7)):W>V+Q?(al=eT,U==dI?F=3:U==b6&&(F=4)):(al=gd,U==cG?F=6:U==dI&&(F=2));var q=b2(F,H,V,Z,Q,K,J,P,ai,W,j),C=q[0],M=q[1],x=new db,ah=x._fm;ah.push(new ey(aL,[C.x,C.y])),ah.push(new ey(ej,[ai,W])),ah.push(new ey(ej,[M.x,M.y])),M._m6&&(ah.push(M._m6),M._m6NO++);for(var k=M._m6NO%8,B=C._m6NO;;){if(ah.push(z[k]),++k,k%=8,k==B){break}}return C._m6&&ah.push(C._m6),x.closePath(),x}function bp(A,J,G,C,B,F,Q,K,I,R,x,P,N,M){var L=new fF(P,N,G,C),q=new fF(J[0],J[1],J[4],J[5]),z=q._33(L,x),H=z[0],D=z[1];if(H._rest!==iC){H._m6NO=(A-1)%8,D._m6NO=(A+1)%8;var j=H._rest;7==A?(H.y=F+R+Math.min(M.height,j),D.x=B+I+Math.min(M.width,j)):5==A?(H.x=B+I+Math.min(M.width,j),D.y=F+K-R-Math.min(M.height,j)):3==A?(H.y=F+K-R-Math.min(M.height,j),D.x=B+Q-I-Math.min(M.width,j)):1==A&&(H.x=B+Q-I-Math.min(M.width,j),D.y=F+R+Math.min(M.height,j))}else{L._mf(L._mi,L._mh,H.x,H.y),H=L._$f(J),L._mf(L._mi,L._mh,D.x,D.y),D=L._$f(J);var b=kv(J,[H,D]),e=b[0],k=b[2];H._m6NO=A,D._m6NO=A,H._m6=new ey(jT,e.slice(2)),D._m6=new ey(jT,k.slice(2))}return[H,D]}function f8(D,p,x,k,b,E,j,A,q,m){var B,C;if(q-A>=p+E){B={y:x,x:q-A},B._m6NO=0}else{B={y:x+j,x:Math.max(p,q-A)};var z=[p,x+j,p,x,p+E,x],y=new fF(q,m,B.x,B.y);if(B=y._$f(z)){jt(B)&&(B=B[0].t>B[1].t?B[0]:B[1]);var w=kv(z,[B]);w=w[0],w&&(B._m6=new ey(jT,w.slice(2))),B._m6NO=7}else{B={y:x,x:p+E},B._m6NO=0}}if(p+k-E>=q+A){C={y:x,x:q+A},C._m6NO=0}else{C={y:x+j,x:Math.min(p+k,q+A)};var v=[p+k-E,x,p+k,x,p+k,x+j],y=new fF(q,m,C.x,C.y);if(C=y._$f(v)){jt(C)&&(C=C[0].t<C[1].t?C[0]:C[1]);var w=kv(v,[C]);w&&w[w.length-1]&&(C._m6=new ey(jT,w[w.length-1].slice(2))),C._m6NO=1}else{C={y:x,x:p+k-E},C._m6NO=0}}return[B,C]}function gR(D,p,x,k,b,E,j,A,q,m){var B,C;if(m-A>=x+j){B={x:p+k,y:m-A},B._m6NO=2}else{B={x:p+k-E,y:Math.max(x,m-A)};var z=[p+k-E,x,p+k,x,p+k,x+j],y=new fF(q,m,B.x,B.y);if(B=y._$f(z)){jt(B)&&(B=B[0].t>B[1].t?B[0]:B[1]);var w=kv(z,[B]);w=w[0],w&&(B._m6=new ey(jT,w.slice(2))),B._m6NO=1}else{B={x:p+k,y:x+j},B._m6NO=2}}if(x+b-j>=m+A){C={x:p+k,y:m+A},C._m6NO=2}else{C={x:p+k-E,y:Math.min(x+b,m+A)};var v=[p+k,x+b-j,p+k,x+b,p+k-E,x+b],y=new fF(q,m,C.x,C.y);if(C=y._$f(v)){jt(C)&&(C=C[0].t<C[1].t?C[0]:C[1]);var w=kv(v,[C]);w[1]&&(C._m6=new ey(jT,w[1].slice(2))),C._m6NO=3}else{C={x:p+k,y:x+b-j},C._m6NO=2}}return[B,C]}function ft(D,p,x,k,b,E,j,A,q,m){var B,C;if(q-A>=p+E){C={y:x+b,x:q-A},C._m6NO=4}else{C={y:x+b-j,x:Math.max(p,q-A)};var z=[p+E,x+b,p,x+b,p,x+b-j],y=new fF(q,m,C.x,C.y);if(C=y._$f(z)){jt(C)&&(C=C[0].t<C[1].t?C[0]:C[1]);var w=kv(z,[C]);w=w[w.length-1],w&&(C._m6=new ey(jT,w.slice(2))),C._m6NO=5}else{C={y:x+b,x:p+E},C._m6NO=4}}if(p+k-E>=q+A){B={y:x+b,x:q+A},B._m6NO=4}else{B={y:x+b-j,x:Math.min(p+k,q+A)};var v=[p+k,x+b-j,p+k,x+b,p+k-E,x+b],y=new fF(q,m,B.x,B.y);if(B=y._$f(v)){jt(B)&&(B=B[0].t>B[1].t?B[0]:B[1]);var w=kv(v,[B]);w[0]&&(B._m6=new ey(jT,w[0].slice(2))),B._m6NO=3}else{B={y:x+b,x:p+k-E},B._m6NO=4}}return[B,C]}function g9(D,p,x,k,b,E,j,A,q,m){var B,C;if(m-A>=x+j){C={x:p,y:m-A},C._m6NO=6}else{C={x:p+E,y:Math.max(x,m-A)};var z=[p,x+j,p,x,p+E,x],y=new fF(q,m,C.x,C.y);if(C=y._$f(z)){jt(C)&&(C=C[0].t<C[1].t?C[0]:C[1]);var w=kv(z,[C]);w=w[w.length-1],w&&(C._m6=new ey(jT,w.slice(2)))}else{C={x:p,y:x+j}}C._m6NO=7}if(x+b-j>=m+A){B={x:p,y:m+A},B._m6NO=6}else{B={x:p+E,y:Math.min(x+b,m+A)};var v=[p+E,x+b,p,x+b,p,x+b-j],y=new fF(q,m,B.x,B.y);if(B=y._$f(v)){jt(B)&&(B=B[0].t>B[1].t?B[0]:B[1]);var w=kv(v,[B]);w[0]&&(B._m6=new ey(jT,w[0].slice(2))),B._m6NO=5}else{B={x:p,y:x+b-j},B._m6NO=6}}return[B,C]}function b2(B,m,v,j,b,C,g,y,p,k,z){var A=y/2;switch(C=C||0.0001,g=g||0.0001,B){case 7:var x=[m,v+g,m,v,m+C,v],w=m+C,q=v+g;return bp(B,x,w,q,m,v,j,b,C,g,y,p,k,z);case 5:return x=[m+C,v+b,m,v+b,m,v+b-g],w=m+C,q=v+b-g,bp(B,x,w,q,m,v,j,b,C,g,y,p,k,z);case 3:return x=[m+j,v+b-g,m+j,v+b,m+j-C,v+b],w=m+j-C,q=v+b-g,bp(B,x,w,q,m,v,j,b,C,g,y,p,k,z);case 1:return x=[m+j-C,v,m+j,v,m+j,v+g],w=m+j-C,q=v+g,bp(B,x,w,q,m,v,j,b,C,g,y,p,k,z);case 0:return f8(B,m,v,j,b,C,g,A,p,k,z);case 2:return gR(B,m,v,j,b,C,g,A,p,k,z);case 4:return ft(B,m,v,j,b,C,g,A,p,k,z);case 6:return g9(B,m,v,j,b,C,g,A,p,k,z)}}function kv(D,m){for(var j,b,E,e,z,p,k=D[0],B=D[1],C=D[2],y=D[3],x=D[4],w=D[5],q=[],A=0;A<m.length;A++){z=m[A],p=z.t,0!=p&&1!=p?(j=k+(C-k)*p,b=B+(y-B)*p,E=C+(x-C)*p,e=y+(w-y)*p,q.push([k,B,j,b,z.x,z.y]),k=z.x,B=z.y,C=E,y=e):q.push(null)}return E!==iC&&q.push([z.x,z.y,E,e,x,w]),q}function aI(a){return this.$layoutByAnchorPoint&&this._mlm&&(a.x-=this._mlm.x,a.y-=this._mlm.y),this.$rotate&&e5(a,this.$rotate),a.x+=this.$offsetX||0,a.y+=this.$offsetY||0,this.$rotatable&&this.$_hostRotate?e5(a,this.$_hostRotate):a}function eb(a){return this.$rotatable&&this.$_hostRotate&&e5(a,-this.$_hostRotate),a.x-=this.$offsetX||0,a.y-=this.$offsetY||0,this.$rotate&&e5(a,-this.$rotate),this.$layoutByAnchorPoint&&this._mlm&&(a.x+=this._mlm.x,a.y+=this._mlm.y),a}function jP(){var b=this.$invalidateSize;this.$invalidateSize&&(this.$invalidateSize=!1,this.$invalidateAnchorPoint=!0,this._80.setByRect(this._js),this.$padding&&this._80.grow(this.$padding),this.$border&&this._80.grow(this.$border));var a=this._$u();if(a){var c=this.showPointer&&this.$pointerWidth}return this.$invalidateAnchorPoint&&this.$layoutByAnchorPoint&&(this.$invalidateAnchorPoint=!1,c&&(b=!0),this._mlm=eY(this.$anchorPosition,this._80.width,this._80.height),this._mlm.x+=this._80.x,this._mlm.y+=this._80.y),a?(b&&(this._mmackgroundGradientInvalidateFlag=!0,cV.call(this,c)),this._mmackgroundGradientInvalidateFlag&&(this._mmackgroundGradientInvalidateFlag=!1,this._mmackgroundGradient=this.backgroundGradient&&this._liShape&&this._liShape.bounds?bM.prototype.generatorGradient.call(this.backgroundGradient,this._liShape.bounds):null),b):(this.__m1Pointer=!1,b)}function cV(d){var c=this._80.x+this.$border/2,h=this._80.y+this.$border/2,k=this._80.width-this.$border,g=this._80.height-this.$border,f=0,j=0;if(this.$borderRadius&&(i6(this.$borderRadius)?f=j=this.$borderRadius:(f=this.$borderRadius.x||0,j=this.$borderRadius.y||0),f=Math.min(f,k/2),j=Math.min(j,g/2)),d&&(this._pointerX=this._mlm.x-this.$offsetX+this.$pointerX,this._pointerY=this._mlm.y-this.$offsetY+this.$pointerY,!this._80.intersectsPoint(this._pointerX,this._pointerY))){var b=new dZ(c,h,k,g,f,j,this.$pointerWidth,this._pointerX,this._pointerY);return this._liShape=b._m6,this._liShape.bounds.set(c,h,k,g),void (this.__m1Pointer=!0)}this._liShape&&this._liShape.clear(),this._liShape=jz.getRect(c,h,k,g,f,j,this._liShape),this._liShape.bounds.set(c,h,k,g)}function fL(b,a,c,d){return d&&(b.width<0||b.height<0)?(b.x=a,b.y=c,void (b.width=b.height=0)):(a<b.x?(b.width+=b.x-a,b.x=a):a>b.x+b.width&&(b.width=a-b.x),void (c<b.y?(b.height+=b.y-c,b.y=c):c>b.y+b.height&&(b.height=c-b.y)))}function j4(b,a,f){var d,c=b.position,e=b.layoutByPath===iC?this.layoutByPath:b.layoutByPath;return this.$data instanceof db&&e?(d=a3._mmy(c,this.$data,this.lineWidth,a,f),d.x*=this._jx,d.y*=this._jy):(d=eY(c,this._80.width,this._80.height),d.x+=this._80.x,d.y+=this._80.y),aI.call(this,d)}function ex(b,a){if(a){if(a._80.isEmpty()){b.$x=a.$x,b.$y=a.$y}else{var c=j4.call(a,b);b.$x=c.x,b.$y=c.y,b._hostRotate=c.rotate}}else{b.$x=0,b.$y=0}b.$invalidateRotate&&iM.call(b)}function dE(b){if(b.lineDash===iC){var a,e;if(b.setLineDash){a=b.getLineDash,e=b.setLineDash}else{var d;if(b.mozDash!==iC){d="mozDash"}else{if(b.webkitLineDash===iC){return !1}d="webkitLineDash"}e=function(f){this[d]=f},a=function(){return this[d]}}i9(b,"lineDash",{get:function(){return a.call(this)},set:function(f){e.call(this,f)}})}if(b.lineDashOffset===iC){var c;if(b.mozDashOffset!==iC){c="mozDashOffset"}else{if(b.webkitLineDashOffset===iC){return}c="webkitLineDashOffset"}i9(b,"lineDashOffset",{get:function(){return this[c]},set:function(f){this[c]=f}})}}function c8(x,H,L,D,A){var z,C,O,I,G,P,q,N,M=function(a){return function(c){a(c)}},K=function(){C=null,O=null,I=G,G=null,P=null},J=function(a){z=a,q||(q=bk()),q.width=z.width,q.height=z.height,H.width=z.width,H.height=z.height},k=function(a){w(),K(),C=a.transparencyGiven?a.transparencyIndex:null,O=10*a.delayTime,G=a.disposalMethod},w=function(){if(P){var a=P.getImageData(0,0,z.width,z.height),c={data:a,_pixels:cC(a.data,z.width,z.height),delay:O};A.call(H,c)}},F=function(c){P||(P=q.getContext("2d"));var a=c.lctFlag?c.lct:z.gct,d=P.getImageData(c.leftPos,c.topPos,c.width,c.height);c.pixels.forEach(function(e,f){C!==e?(d.data[4*f+0]=a[e][0],d.data[4*f+1]=a[e][1],d.data[4*f+2]=a[e][2],d.data[4*f+3]=255):(2===I||3===I)&&(d.data[4*f+3]=0)}),P.putImageData(d,c.leftPos,c.topPos)},B=function(){},j={hdr:M(J),gce:M(k),com:M(B),app:{NETSCAPE:M(B)},img:M(F,!0),eof:function(){w(),L.call(H)}},b=new XMLHttpRequest;bb||b.overrideMimeType("text/plain; charset=x-user-defined"),b.onload=function(){N=new eg(b.responseText);try{cd(N,j)}catch(a){D.call(H,"parse")}},b.onerror=function(){D.call(H,"xhr")},b.open("GET",x,!0),b.send()}function df(b){var a=bk(!0);return dE(a.g),a.onselectstart=function(){return !1},b.appendChild(a),a.className=gp,a}function iD(b,a){function c(q,m){for(var i=q.length,f=m.length,u=i+f,g=new Array(u),p=0,k=0,j=0;u>j;){g[j++]=p===i?m[k++]:k===f||a(q[p],m[k])<=0?q[p++]:m[k++]}return g}function d(f){var e=f.length,g=Math.ceil(e/2);return 1>=e?f:c(d(f.slice(0,g)),d(f.slice(g)))}return d(b)}function dW(a){a.width=a.width}function hS(a){g1||(g1="imageSmoothingEnabled" in CanvasRenderingContext2D.prototype?"imageSmoothingEnabled":"mozImageSmoothingEnabled" in CanvasRenderingContext2D.prototype?"mozImageSmoothingEnabled":"msImageSmoothingEnabled" in CanvasRenderingContext2D.prototype?"msImageSmoothingEnabled":"webkitImageSmoothingEnabled" in CanvasRenderingContext2D.prototype?"webkitImageSmoothingEnabled":"imageSmoothingEnabled"),a[g1]=!1}function cx(b,a,d,f,c){f=iP(a+f)-(a=h5(a)),c=iP(d+c)-(d=h5(d)),b.clearRect(a,d,f,c),b.rect(a,d,f,c)}function h5(a){return Math.floor(a)}function iP(a){return Math.ceil(a)}function iL(b){var a=[];return b.forEach(function(c){a.push(-c)}),a}function fQ(a){return a%=eH,0>a&&(a+=eH),a}function bO(p,g,k,d,b,q,c,m){var j=((p*d-g*k)*(b-c)-(p-k)*(b*m-q*c))/((p-k)*(q-m)-(g-d)*(b-c)),f=((p*d-g*k)*(q-m)-(g-d)*(b*m-q*c))/((p-k)*(q-m)-(g-d)*(b-c));if(isNaN(j)||isNaN(f)){return !1}if(p>=k){if(!(j>=k&&p>=j)){return !1}}else{if(!(j>=p&&k>=j)){return !1}}if(g>=d){if(!(f>=d&&g>=f)){return !1}}else{if(!(f>=g&&d>=f)){return !1}}if(b>=c){if(!(j>=c&&b>=j)){return !1}}else{if(!(j>=b&&c>=j)){return !1}}if(q>=m){if(!(f>=m&&q>=f)){return !1}}else{if(!(f>=q&&m>=f)){return !1}}return !0}function hg(l,f){for(var j=0,d=l.length;d>j;){for(var b=l[j],m=l[(j+1)%d],c=0;4>c;){var k=f[c],g=f[(c+1)%d];if(bO(b[0],b[1],m[0],m[1],k[0],k[1],g[0],g[1])){return !0}c++}j++}return !1}function d8(b,a,c,d){return[b*d-a*c,b*c+a*d]}function cH(a){return a.parent?(a=a.parent,a._e1?a._e1:a instanceof ap&&a._hp===!1?a:null):null}function b7(b,a,c){if(c=c||a.toAgent,c==b){return !1}var d=b.getEdgeBundle(c);return d||(d=new c9(b,c),b._linkedNodes[c.id]=d),d._ja(a,b)}function dJ(b,a,c){if(c=c||a.toAgent,c==b){return !1}var d=b.getEdgeBundle(c);return d?d._moz(a,b):void 0}function jO(b,a,c){return c===iC&&(c=a.toAgent),c!=b?(b._7t||(b._7t=new c2),b._7t.add(a)===!1?!1:void b._9m++):void 0}function gf(b,a,c){return b._7t&&b._7t.remove(a)!==!1?(b._9m--,void dJ(b,a,c)):!1}function eU(b,a){return a.fromAgent!=b?(b._98||(b._98=new c2),b._98.add(a)===!1?!1:void b._mmf++):void 0}function at(b,a){return b._98&&b._98.remove(a)!==!1?(b._mmf--,void dJ(a.fromAgent,a,b)):!1}function bw(b,a){if(a===iC&&(a=b instanceof hz),a){if(b.isInvalid()){return null}var e=bw(b.from,!1);if(b.isLooped()){return e}for(var d=bw(b.to,!1);null!=e&&null!=d;){if(e==d){return e}if(e.isDescendantOf(d)){return d}if(d.isDescendantOf(e)){return e}e=bw(e,!1),d=bw(d,!1)}return null}for(var c=b.parent;null!=c;){if(c._i5()){return c}c=c.parent}return null}function h9(b,a,c){b._i5()&&b.hasChildren()&&b.children.forEach(function(d){d instanceof jc&&a.add(d)&&h9(d,a,c)},this),b.hasFollowers()&&b._dz.forEach(function(d){(null==c||c.accept(d))&&a.add(d)&&h9(d,a,c)})}function hF(b,a){a.parent?a.parent.setChildIndex(a,a.parent.childrenCount-1):b.roots.setIndex(a,b.roots.length-1)}function gW(b,a){a.parent?a.parent.setChildIndex(a,0):b.roots.setIndex(a,0)}function gE(b,a){if(a instanceof hz){return void (a.isInvalid()||aW(b,a))}for(hF(b,a);a=a.parent;){hF(b,a)}}function a5(b,a){if(a instanceof hz){return void (a.isInvalid()||eC(b,a))}for(gW(b,a);a=a.parent;){gW(b,a)}}function aW(b,a){var c=a.fromAgent;if(a.isLooped()){hF(b,c)}else{var d=a.toAgent;hF(b,c),hF(b,d)}}function eC(b,a){var c=a.fromAgent;if(a.isLooped()){gW(b,c)}else{var d=a.toAgent;gW(b,c),gW(b,d)}}function dp(b,a){return b._9m++,b._fy?(a._ie=b._ik,b._ik._ia=a,void (b._ik=a)):(b._fy=a,void (b._ik=a))}function j9(b,a){b._9m--,b._ik==a&&(b._ik=a._ie),a._ie?a._ie._ia=a._ia:b._fy=a._ia,a._ia&&(a._ia._ie=a._ie),a._ie=null,a._ia=null,dJ(b,a,a.$to)}function eJ(b,a){return b._mmf++,b._ii?(a._kd=b._jq,b._jq._kg=a,void (b._jq=a)):(b._ii=a,void (b._jq=a))}function gt(b,a){b._mmf--,b._jq==a&&(b._jq=a._kd),a._kd?a._kd._kg=a._kg:b._ii=a._kg,a._kg&&(a._kg._kd=a._kd),a._kd=null,a._kg=null}function aN(b,a){return a=a||new c2,b.forEachEdge(function(c){a.add({id:c.id,edge:c,fromAgent:c.$from._e1,toAgent:c.$to._e1})}),b.forEachChild(function(c){c instanceof jc&&aN(c,a)}),a}function cw(b,a,c){return i1(b,a,c)===!1?!1:hu(b,a,c)}function hu(b,a,c){if(b._fy){for(var d=b._fy;d;){if(a.call(c,d)===!1){return !1}d=d._ia}}}function i1(b,a,c){if(b._ii){for(var d=b._ii;d;){if(a.call(c,d)===!1){return !1}d=d._kg}}}function e1(d,c,h,f,e,g,b){return g||b?(g=g||0,b=b===iC?g:b||0,g=Math.min(g,f/2),b=Math.min(b,e/2),d.moveTo(c+g,h),d.lineTo(c+f-g,h),d.quadTo(c+f,h,c+f,h+b),d.lineTo(c+f,h+e-b),d.quadTo(c+f,h+e,c+f-g,h+e),d.lineTo(c+g,h+e),d.quadTo(c,h+e,c,h+e-b),d.lineTo(c,h+b),d.quadTo(c,h,c+g,h),d.closePath(),d):(d.moveTo(c,h),d.lineTo(c+f,h),d.lineTo(c+f,h+e),d.lineTo(c,h+e),d.closePath(),d)}function jk(b,a){var f=a.r||1,h=a.cx||0,d=a.cy||0,c=f*Math.tan(Math.PI/8),g=f*Math.sin(Math.PI/4);b.moveTo(h+f,d),b.quadTo(h+f,d+c,h+g,d+g),b.quadTo(h+c,d+f,h,d+f),b.quadTo(h-c,d+f,h-g,d+g),b.quadTo(h-f,d+c,h-f,d),b.quadTo(h-f,d-c,h-g,d-g),b.quadTo(h-c,d-f,h,d-f),b.quadTo(h+c,d-f,h+g,d-g),b.quadTo(h+f,d-c,h+f,d)}function af(v,g,k,d,b){g instanceof bS&&(d=g.width,b=g.height,k=g.cy-b/2,g=g.cx-d/2);var w=0.5522848,c=d/2*w,m=b/2*w,j=g+d,f=k+b,p=g+d/2,q=k+b/2;return v.moveTo(g,q),v.curveTo(g,q-m,p-c,k,p,k),v.curveTo(p+c,k,j,q-m,j,q),v.curveTo(j,q+m,p+c,f,p,f),v.curveTo(p-c,f,g,q+m,g,q),v}function bF(l,f,j,d,b){var m=2*d,c=2*b,k=f+d/2,g=j+b/2;return l.moveTo(k-m/4,g-c/12),l.lineTo(f+0.306*d,j+0.579*b),l.lineTo(k-m/6,g+c/4),l.lineTo(f+d/2,j+0.733*b),l.lineTo(k+m/6,g+c/4),l.lineTo(f+0.693*d,j+0.579*b),l.lineTo(k+m/4,g-c/12),l.lineTo(f+0.611*d,j+0.332*b),l.lineTo(k+0,g-c/4),l.lineTo(f+0.388*d,j+0.332*b),l.closePath(),l}function fq(b,a,d,f,c){return b.moveTo(a,d),b.lineTo(a+f,d+c/2),b.lineTo(a,d+c),b.closePath(),b}function bg(b,a,d,f,c){return b.moveTo(a,d+c/2),b.lineTo(a+f/2,d),b.lineTo(a+f,d+c/2),b.lineTo(a+f/2,d+c),b.closePath(),b}function f1(b,a,f,g,d,c){return b.moveTo(a,f),b.lineTo(a+g,f+d/2),b.lineTo(a,f+d),c||(b.lineTo(a+0.25*g,f+d/2),b.closePath()),b}function gL(p,g,k,d,b){if(!p||3>p){throw new Error("edge number must greater than 2")}p=0|p,d=d||50,b=b||0,g=g||0,k=k||0;for(var q,c,m=0,j=2*Math.PI/p,f=new db;p>m;){q=g+d*Math.cos(b),c=k+d*Math.sin(b),m?f.lineTo(q,c):f.moveTo(q,c),++m,b+=j}return f.closePath(),f}function fd(){var a=new db;return a.moveTo(75,40),a.curveTo(75,37,70,25,50,25),a.curveTo(20,25,20,62.5,20,62.5),a.curveTo(20,80,40,102,75,120),a.curveTo(110,102,130,80,130,62.5),a.curveTo(130,62.5,130,25,100,25),a.curveTo(85,25,75,37,75,40),a}function g3(){var a=new db;return a.moveTo(20,0),a.lineTo(80,0),a.lineTo(100,100),a.lineTo(0,100),a.closePath(),a}function bY(){var a=new db;return a.moveTo(100,0),a.lineTo(100,80),a.lineTo(0,100),a.lineTo(0,20),a.closePath(),a}function kp(){var a=new db;return a.moveTo(20,0),a.lineTo(100,0),a.lineTo(80,100),a.lineTo(0,100),a.closePath(),a}function aC(){var a=new db;return a.moveTo(43,23),a.lineTo(28,10),a.lineTo(37,2),a.lineTo(63,31),a.lineTo(37,59),a.lineTo(28,52),a.lineTo(44,38),a.lineTo(3,38),a.lineTo(3,23),a.closePath(),a}function d1(){var a=new db;return a.moveTo(1,8),a.lineTo(7,2),a.lineTo(32,26),a.lineTo(7,50),a.lineTo(1,44),a.lineTo(18,26),a.closePath(),a.moveTo(27,8),a.lineTo(33,2),a.lineTo(57,26),a.lineTo(33,50),a.lineTo(27,44),a.lineTo(44,26),a.closePath(),a}function jH(){var a=new db;return a.moveTo(0,15),a.lineTo(23,15),a.lineTo(23,1),a.lineTo(47,23),a.lineTo(23,43),a.lineTo(23,29),a.lineTo(0,29),a.closePath(),a}function cO(){var a=new db;return a.moveTo(0,21),a.lineTo(30,21),a.lineTo(19,0),a.lineTo(25,0),a.lineTo(47,25),a.lineTo(25,48),a.lineTo(19,48),a.lineTo(30,28),a.lineTo(0,28),a.closePath(),a}function fD(){var a=new db;return a.moveTo(0,0),a.lineTo(34,24),a.lineTo(0,48),a.lineTo(14,24),a.closePath(),a}function jX(){var a=new db;return a.moveTo(20,0),a.lineTo(34,14),a.lineTo(20,28),a.lineTo(22,18),a.lineTo(1,25),a.lineTo(10,14),a.lineTo(1,3),a.lineTo(22,10),a.closePath(),a}function em(){var a=new db;return a.moveTo(4,18),a.lineTo(45,18),a.lineTo(37,4),a.lineTo(83,25),a.lineTo(37,46),a.lineTo(45,32),a.lineTo(4,32),a.closePath(),a}function dy(){var a=new db;return a.moveTo(17,11),a.lineTo(27,11),a.lineTo(42,27),a.lineTo(27,42),a.lineTo(17,42),a.lineTo(28,30),a.lineTo(4,30),a.lineTo(4,23),a.lineTo(28,23),a.closePath(),a}function c0(){jz.register(aF.SHAPE_CIRCLE,af(new db,0,0,100,100)),jz.register(aF.SHAPE_RECT,e1(new db,0,0,100,100)),jz.register(aF.SHAPE_ROUNDRECT,e1(new db,0,0,100,100,20,20)),jz.register(aF.SHAPE_STAR,bF(new db,0,0,100,100)),jz.register(aF.SHAPE_TRIANGLE,fq(new db,0,0,100,100)),jz.register(aF.SHAPE_PENTAGON,gL(5)),jz.register(aF.SHAPE_HEXAGON,gL(6)),jz.register(aF.SHAPE_DIAMOND,bg(new db,0,0,100,100)),jz.register(aF.SHAPE_HEART,fd()),jz.register(aF.SHAPE_TRAPEZIUM,g3()),jz.register(aF.SHAPE_RHOMBUS,bY()),jz.register(aF.SHAPE_PARALLELOGRAM,kp());var a=new db;a.moveTo(20,0),a.lineTo(40,0),a.lineTo(40,20),a.lineTo(60,20),a.lineTo(60,40),a.lineTo(40,40),a.lineTo(40,60),a.lineTo(20,60),a.lineTo(20,40),a.lineTo(0,40),a.lineTo(0,20),a.lineTo(20,20),a.closePath(),jz.register(aF.SHAPE_CROSS,a),jz.register(aF.SHAPE_ARROW_STANDARD,f1(new db,0,0,100,100)),jz.register(aF.SHAPE_ARROW_1,aC()),jz.register(aF.SHAPE_ARROW_2,d1()),jz.register(aF.SHAPE_ARROW_3,jH()),jz.register(aF.SHAPE_ARROW_4,cO()),jz.register(aF.SHAPE_ARROW_5,fD()),jz.register(aF.SHAPE_ARROW_6,jX()),jz.register(aF.SHAPE_ARROW_7,em()),jz.register(aF.SHAPE_ARROW_8,dy()),jz.register(aF.SHAPE_ARROW_OPEN,f1(new db,0,0,100,100,!0))}function c7(){hX(this,c7,arguments),this.busLayout=!0}function dQ(){hX(this,dQ),this._$w=new j8}function hM(){if(this._hp===!0){var b=this._7t,a=this._98;if(b){for(b=b._k2;b.length;){var c=b[0];gf(this,c,c.toAgent)}}if(a){for(a=a._k2;a.length;){var c=a[0];at(this,c,c.fromAgent)}}return void this.forEachChild(function(e){e._i5()&&hM.call(e)})}var d=aN(this);d.forEach(function(g){g=g.edge;var f=g.$from,j=g.$to,k=f.isDescendantOf(this),h=j.isDescendantOf(this);k&&!h?(jO(this,g),b7(this,g)):h&&!k&&(eU(this,g),b7(g.fromAgent,g,this))},this)}function cg(){hX(this,cg,arguments),this.$image=null}function iy(b,a,c,d){return b[a]=c,d?{get:function(){return this[a]},set:function(f){if(f!==this[a]){this[a]=f,!this._mlf,this._1e=!0;for(var g=d.length;--g>=0;){this[d[g]]=!0}}}}:{get:function(){return this[a]},set:function(e){e!==this[a]&&(this[a]=e)}}}function fK(b,a){var f={},h={};for(var d in a){var c=a[d];c.validateFlags&&c.validateFlags.forEach(function(k,j,l){l[j]="$invalidate"+k,h[k]=!0}),f[d]=iy(b,"$"+d,c.value,c.validateFlags)}for(var g in h){b["$invalidate"+g]=!0}Object.defineProperties(b,f)}function bL(b,a,f,h){if(Array.isArray(a)){for(var d=a.length;--d>=0;){bL(b,a[d],f,h)}}else{var c=a.target;if(c){if(c instanceof bI||(c=b[c]),!c){return}}else{c=b}if(h||(h=b.getProperty(a.property,f)),a.bindingProperty&&(c[a.bindingProperty]=h),a.callback){var g=a.callback;g instanceof Function||(g=b[g]),g instanceof Function&&g.call(b,h,c)}}}function fT(){fx.forEach(function(a){this[a]={}},this)}function hd(b,a,c,d){return d==aF.PROPERTY_TYPE_ACCESSOR?void (b[c]=a):d==aF.PROPERTY_TYPE_CLIENT?void b.set(c,a):d==aF.PROPERTY_TYPE_STYLE?void b.setStyle(c,a):!1}function d4(){hX(this,d4,arguments)}function cE(){hX(this,cE,arguments)}function b4(d,c,h,k){var g=dH(d,c,h,k),f=[];if(ak(d)){jK(g,c,h,f,k.getStyle(bm.EDGE_EXTEND))}else{j6(d,c,h,f,g,k);var j=gc(d,k),b=j?gC(d,g,c,h,k.getStyle(bm.EDGE_SPLIT_PERCENT)):k.getStyle(bm.EDGE_SPLIT_VALUE);0==b&&(g=!g)}return f}function dH(b,a,d){if(null!=b){if(b==aF.EDGE_TYPE_ELBOW_HORIZONTAL||b==aF.EDGE_TYPE_ORTHOGONAL_HORIZONTAL||b==aF.EDGE_TYPE_HORIZONTAL_VERTICAL||b==aF.EDGE_TYPE_EXTEND_LEFT||b==aF.EDGE_TYPE_EXTEND_RIGHT){return !0}if(b==aF.EDGE_TYPE_ELBOW_VERTICAL||b==aF.EDGE_TYPE_ORTHOGONAL_VERTICAL||b==aF.EDGE_TYPE_VERTICAL_HORIZONTAL||b==aF.EDGE_TYPE_EXTEND_TOP||b==aF.EDGE_TYPE_EXTEND_BOTTOM){return !1}}var f=hE(a,d),c=gU(a,d);return f>=c}function jK(b,a,d,f,c){b?hm(a,d,f,c):iV(a,d,f,c)}function gc(b,a){return a.getStyle(bm.EDGE_SPLIT_BY_PERCENT)}function eS(a){return null!=a&&(a==aF.EDGE_TYPE_EXTEND_TOP||a==aF.EDGE_TYPE_EXTEND_LEFT||a==aF.EDGE_TYPE_EXTEND_BOTTOM||a==aF.EDGE_TYPE_EXTEND_RIGHT)}function ak(a){return a&&(a==aF.EDGE_TYPE_ELBOW||a==aF.EDGE_TYPE_ELBOW_HORIZONTAL||a==aF.EDGE_TYPE_ELBOW_VERTICAL)}function bt(x,j,m,f,b){if(x==aF.EDGE_TYPE_HORIZONTAL_VERTICAL||x==aF.EDGE_TYPE_VERTICAL_HORIZONTAL){return new b9(f.x+f.width/2,f.y+f.height/2)}var y;if(eS(x)){var d=Math.min(m.y,f.y),q=Math.min(m.x,f.x),k=Math.max(m.bottom,f.bottom),g=Math.max(m.right,f.right);if(y=b.getStyle(bm.EDGE_EXTEND),x==aF.EDGE_TYPE_EXTEND_TOP){return new b9((q+g)/2,d-y)}if(x==aF.EDGE_TYPE_EXTEND_LEFT){return new b9(q-y,(d+k)/2)}if(x==aF.EDGE_TYPE_EXTEND_BOTTOM){return new b9((q+g)/2,k+y)}if(x==aF.EDGE_TYPE_EXTEND_RIGHT){return new b9(g+y,(d+k)/2)}}var v=gc(x,b);if(y=v?gC(x,j,m,f,b.getStyle(bm.EDGE_SPLIT_PERCENT)):b.getStyle(bm.EDGE_SPLIT_VALUE),y==Number.NEGATIVE_INFINITY||y==Number.POSITIVE_INFINITY){return new b9(f.x+f.width/2,f.y+f.height/2)}if(0==y){return new b9(m.x+m.width/2,m.y+m.height/2)}if(j){var w=m.x+m.right<f.x+f.right;return new b9(eA(w,y,m.x,m.width),m.y+m.height/2)}var p=m.y+m.bottom<f.y+f.bottom;return new b9(m.x+m.width/2,eA(p,y,m.y,m.height))}function h3(b,a,d,f){var c=Math.max(a,f)-Math.min(b,d);return c-(a-b+f-d)}function hE(b,a){var c=Math.max(b.x+b.width,a.x+a.width)-Math.min(b.x,a.x);return c-b.width-a.width}function gU(b,a){var c=Math.max(b.y+b.height,a.y+a.height)-Math.min(b.y,a.y);return c-b.height-a.height}function gC(b,a,f,g,d){var c=a2(d,a,f,g,null);return c*d}function a2(b,a,c,d){return a?aT(b,c.x,c.right,d.x,d.right):aT(b,c.y,c.bottom,d.y,d.bottom)}function aT(b,a,f,h,d){var c=h3(a,f,h,d),g=h+d>a+f;if(c>0){if(1==b){return c+(d-h)/2}if(b>=0&&1>b){return c}if(0>b){return g?h-a:f-d}}return Math.abs(g&&b>0||!g&&0>b?f-d:a-h)}function eA(b,a,c,d){return b==a>0?c+d+Math.abs(a):c-Math.abs(a)}function dk(C,K){var Q=C.length;if(!(3>Q)){var I=K.getStyle(bm.EDGE_CORNER);if(I!=aF.EDGE_CORNER_NONE){var F=K.getStyle(bm.EDGE_CORNER_RADIUS),D=0,H=0;F&&(i6(F)?D=H=F:(D=F.x||0,H=F.y||0));for(var V,M,J,W,z=C[0],S=C[1],R=null,P=2;Q>P;P++){var N=C[P],x=S.x-z.x,B=S.y-z.y,p=N.x-S.x,j=N.y-S.y,k=!x||x>-bd&&bd>x,q=!B||B>-bd&&bd>B,G=!p||p>-bd&&bd>p,m=!j||j>-bd&&bd>j,U=q;(k&&m||q&&G)&&(U?(V=Math.min(2==P?Math.abs(x):Math.abs(x)/2,D),M=Math.min(P==Q-1?Math.abs(j):Math.abs(j)/2,H),J=new b9(S.x-(x>0?V:-V),S.y),W=new b9(S.x,S.y+(j>0?M:-M))):(V=Math.min(P==Q-1?Math.abs(p):Math.abs(p)/2,D),M=Math.min(2==P?Math.abs(B):Math.abs(B)/2,H),J=new b9(S.x,S.y-(B>0?M:-M)),W=new b9(S.x+(p>0?V:-V),S.y)),h7(C,S),P--,Q--,(J.x!=z.x||J.y!=z.y)&&(id(C,J,P),P++,Q++),I==aF.EDGE_CORNER_BEVEL?(id(C,W,P),P++,Q++):I==aF.EDGE_CORNER_ROUND&&(id(C,[S,W],P),P++,Q++)),z=S,S=N}null!=R&&W.x==S.x&&W.y==S.y&&h7(C,S)}}}function j6(l,f,j,d,b,m){var c=m.getStyle(bm.EDGE_CONTROL_POINT),k=null==c;if(null!=c){var g=(new fU).union(f).union(j);g.intersects(c)||(b=eF(c.x,c.y,g.y,g.x,g.bottom,g.right))}else{c=bt(l,b,f,j,m)}b?cp(f,j,c,d,k):aK(f,j,c,d,k)}function eF(b,a,f,g,d,c){return f>a&&f-a>g-b&&f-a>b-c||a>d&&a-d>g-b&&a-d>b-c?!1:!0}function gk(b,a,c){return a>=b.x&&a<=b.right&&c>=b.y&&c<=b.bottom}function aK(v,g,k,d,b){var w=Math.max(v.y,g.y),c=Math.min(v.y+v.height,g.y+g.height),m=null!=k?k.y:c+(w-c)/2,j=v.x+v.width/2,f=g.x+g.width/2;if(0==b&&null!=k&&(k.x>=v.x&&k.x<=v.x+v.width&&(j=k.x),k.x>=g.x&&k.x<=g.x+g.width&&(f=k.x)),gk(g,j,m)||gk(v,j,m)||d.push(new b9(j,m)),gk(g,f,m)||gk(v,f,m)||d.push(new b9(f,m)),0==d.length){if(null!=k){gk(g,k.x,m)||gk(v,k.x,m)||d.push(new b9(k.x,m))}else{var p=Math.max(v.x,g.x),q=Math.min(v.x+v.width,g.x+g.width);d.push(new b9(p+(q-p)/2,m))}}}function cp(v,g,k,d,b){var w=Math.max(v.x,g.x),c=Math.min(v.x+v.width,g.x+g.width),m=null!=k?k.x:c+(w-c)/2,j=v.y+v.height/2,f=g.y+g.height/2;if(0==b&&null!=k&&(k.y>=v.y&&k.y<=v.y+v.height&&(j=k.y),k.y>=g.y&&k.y<=g.y+g.height&&(f=k.y)),gk(g,m,j)||gk(v,m,j)||d.push(new b9(m,j)),gk(g,m,f)||gk(v,m,f)||d.push(new b9(m,f)),0==d.length){if(null!=k){gk(g,m,k.y)||gk(v,m,k.y)||d.push(new b9(m,k.y))}else{var p=Math.max(v.y,g.y),q=Math.min(v.y+v.height,g.y+g.height);d.push(new b9(m,p+(q-p)/2))}}}function hm(D,p,x,k){var b=p.x+p.width<D.x,E=D.x+D.width<p.x,j=b?D.x:D.x+D.width,A=D.y+D.height/2,q=E?p.x:p.x+p.width,m=p.y+p.height/2,B=k,C=b?-B:B,z=new b9(j+C,A);C=E?-B:B;var y=new b9(q+C,m);if(b==E){var w=b?Math.min(j,q)-k:Math.max(j,q)+k;x.push(new b9(w,A)),x.push(new b9(w,m))}else{if(z.x<y.x==b){var v=A+(m-A)/2;x.push(z),x.push(new b9(z.x,v)),x.push(new b9(y.x,v)),x.push(y)}else{x.push(z),x.push(y)}}}function iV(D,p,x,k){var b=p.y+p.height<D.y,E=D.y+D.height<p.y,j=D.x+D.width/2,A=b?D.y:D.y+D.height,q=p.x+p.width/2,m=E?p.y:p.y+p.height,B=k,C=b?-B:B,z=new b9(j,A+C);C=E?-B:B;var y=new b9(q,m+C);if(b==E){var w=b?Math.min(A,m)-k:Math.max(A,m)+k;x.push(new b9(j,w)),x.push(new b9(q,w))}else{if(z.y<y.y==b){var v=j+(q-j)/2;x.push(z),x.push(new b9(v,z.y)),x.push(new b9(v,y.y)),x.push(y)}else{x.push(z),x.push(y)}}}function eX(a){return a==aF.EDGE_TYPE_ORTHOGONAL||a==aF.EDGE_TYPE_ORTHOGONAL_HORIZONTAL||a==aF.EDGE_TYPE_HORIZONTAL_VERTICAL||a==aF.EDGE_TYPE_ORTHOGONAL_VERTICAL||a==aF.EDGE_TYPE_VERTICAL_HORIZONTAL||a==aF.EDGE_TYPE_EXTEND_TOP||a==aF.EDGE_TYPE_EXTEND_LEFT||a==aF.EDGE_TYPE_EXTEND_BOTTOM||a==aF.EDGE_TYPE_EXTEND_RIGHT||a==aF.EDGE_TYPE_ELBOW||a==aF.EDGE_TYPE_ELBOW_HORIZONTAL||a==aF.EDGE_TYPE_ELBOW_VERTICAL}function i8(b,a){var d,f;a&&a.width&&a.height?(d=a.width,f=a.height):d=f=isNaN(a)?cX.ARROW_SIZE:a;var c=jz.getShape(b,-d,-f/2,d,f);return c||(c=new db,c.moveTo(-d,-f/2),c.lineTo(0,0),c.lineTo(-d,f/2)),c}function ab(b,a){var f=Math.sin(a),g=Math.cos(a),d=b.x,c=b.y;return b.x=d*g-c*f,b.y=d*f+c*g,b}function bC(d,c,h,k,g,f){var j=Math.atan2(k-c,h-d),b=new b9(g,f);return b.rotate=j,ab(b,j),b.x+=d,b.y+=c,b}function fj(z,k,g,b,A){k=cL(b,k.x,k.y,g.x,g.y),g=cL(A,g.x,g.y,k.x,k.y);var e=Math.PI/2+Math.atan2(g.y-k.y,g.x-k.x),w=z*Math.cos(e),m=z*Math.sin(e),j=g.x-k.x,x=g.y-k.y,y=k.x+0.25*j,v=k.y+0.25*x,q=k.x+0.75*j,p=k.y+0.75*x;return[new ey(cW,[y+w,v+m,q+w,p+m,iC,iC])]}function bc(b,a,d){if(id(b,new ey(aL,[a.x,a.y]),0),d){if(b.length>1){var c=b[b.length-1];if(jT==c.type&&(c.invalidTerminal||c.points[2]===iC||null===c.points[2])){return c.points[2]=d.x,c.points[3]=d.y,void (c.invalidTerminal=!0)}if(cW==c.type&&(c.invalidTerminal||c.points[4]===iC||null===c.points[4])){return c.points[4]=d.x,c.points[5]=d.y,void (c.invalidTerminal=!0)}}b.push(new ey(ej,[d.x,d.y]))}}function fX(d,c,h,k,g,f,j,b){return c.hasPathSegments()?void (h._fm=c._9i.toDatas()):k==g?void d.drawLoopedEdge(h,k,f,j):void d.drawEdge(h,k,g,f,j,b)}function gH(B,K,P,H,D){var C=H==D,G=B.graph.getUI(H),S=C?G:B.graph.getUI(D);if(G&&S){var L=K.edgeType,J=G.bodyBounds.clone(),U=C?J:S.bodyBounds.clone(),z=B.getStyle(bm.EDGE_FROM_OFFSET),R=B.getStyle(bm.EDGE_TO_OFFSET);z&&(J.x+=z.x||0,J.y+=z.y||0),R&&(U.x+=R.x||0,U.y+=R.y||0);var Q=K.hasPathSegments();if(!C&&!L&&!Q){var N=H.busLayout,M=D.busLayout;if(N!=M){var x,A,I,F,k=K.angle;N?(x=G,A=J,I=S,F=U):(x=S,A=U,I=G,F=J);var b=dY(A,x,N,I,F,k);if(b&&2==b.length){var j=b[0],q=b[1];return P.moveTo(j.x,j.y),q.x==j.x&&q.y==j.y&&(q.y+=0.01),P.lineTo(q.x,q.y),void (P._63=!0)}}}fX(B,K,P,G,S,L,J,U),(!C||Q)&&fb(B,K,P,G,S,L,J,U),P._63=!0}}function fb(A,J,G,C,B,F,Q,K){var I=Q.center,R=K.center,x=A.fromAtEdge,P=A.toAtEdge;if(!x&&!P){return void bc(G._fm,I,R)}var N=G._fm;if(N.length){if(x){var M=N[0],L=M.firstPoint;Q.contains(L.x,L.y)&&(M.type==cW?(I=L,L={x:M.points[2],y:M.points[3]},M.points=M.points.slice(2),M.type=jT):M.type==jT&&(I=L,L={x:M.points[0],y:M.points[1]},M.points=M.points.slice(2),M.type=ej)),gZ(C,Q,L,I,iC,iC)}if(P){var q,z=N[N.length-1],H=z.lastPoint,D=z.points.length,j=H.x===iC||H.y===iC;D>=4&&(j||K.contains(H.x,H.y))&&(j||(R=H),q=!0,H={x:z.points[D-4],y:z.points[D-3]},K.contains(H.x,H.y)&&(R=H,D>=6?(H={x:z.points[D-6],y:z.points[D-5]},z.points=z.points.slice(0,4),z.type=jT):1==N.length?(H={x:I.x,y:I.y},z.points=z.points.slice(0,2),z.type=ej):(z=N[N.length-2],H=z.lastPoint))),gZ(B,K,H,R,iC,iC),q&&(D=z.points.length,z.points[D-2]=R.x,z.points[D-1]=R.y,R=null)}}else{var b=Math.atan2(R.y-I.y,R.x-I.x),e=Math.cos(b),k=Math.sin(b);x&&gZ(C,Q,R,I,e,k),P&&gZ(B,K,I,R,-e,-k)}bc(G._fm,I,R)}function gZ(d,c,h,f,e,g){if(e===iC){var b=Math.atan2(h.y-f.y,h.x-f.x);e=Math.cos(b),g=Math.sin(b)}for(h={x:h.x,y:h.y},c.contains(h.x,h.y)||(h=cL(c,f.x,f.y,h.x,h.y));;){if(!c.contains(h.x,h.y)){return f}if(d.hitTest(h.x-e,h.y-g,cX.LOOKING_EDGE_ENDPOINT_TOLERANCE)){f.x=h.x-e/2,f.y=h.y-g/2;break}h.x-=e,h.y-=g}return f}function bU(B,m,v,j,b,C,g,y){if(m.hasPathSegments()){return m._9i}var p=m.edgeType;if(eX(p)){var k=b4(p,v,j,B,b,C);if(!k||!k.length){return null}id(k,g,0),k.push(y),p!=aF.EDGE_TYPE_ELBOW&&dk(k,B);for(var z=[],A=k.length,x=1;A-1>x;x++){var w=k[x];z.push(jt(w)?new ey(jT,[w[0].x,w[0].y,w[1].x,w[1].y]):new ey(ej,[w.x,w.y]))}return z}if(m.$bundleEnabled){var q=B._2e();if(!q){return}return fj(q,g,y,v,j)}}function kj(K,X,ae){var U=K.getStyle(bm.EDGE_LOOPED_EXTAND),N=K._2e(),M=U+0.2*N,R=X.x+X.width-M,an=X.y,Y=X.x+X.width,W=X.y+M;U+=N;var ao=0.707,H=-0.707,ai=X.x+X.width,ah=X.y,aa=ai+ao*U,Z=ah+H*U,G={x:R,y:an},J={x:aa,y:Z},V={x:Y,y:W},Q=G.x,B=J.x,j=V.x,q=G.y,F=J.y,P=V.y,z=((P-q)*(F*F-q*q+B*B-Q*Q)+(F-q)*(q*q-P*P+Q*Q-j*j))/(2*(B-Q)*(P-q)-2*(j-Q)*(F-q)),al=((j-Q)*(B*B-Q*Q+F*F-q*q)+(B-Q)*(Q*Q-j*j+q*q-P*P))/(2*(F-q)*(j-Q)-2*(P-q)*(B-Q)),M=Math.sqrt((Q-z)*(Q-z)+(q-al)*(q-al)),k=Math.atan2(G.y-al,G.x-z),D=Math.atan2(V.y-al,V.x-z),C=D-k;return 0>C&&(C+=2*Math.PI),ax(z,al,k,C,M,M,!0,ae)}function ax(q,D,I,A,x,w,z,L){var F,C,M,j,K,J,H,G,b,k,B;if(Math.abs(A)>2*Math.PI&&(A=2*Math.PI),K=Math.ceil(Math.abs(A)/(Math.PI/4)),F=A/K,C=F,M=I,K>0){J=q+Math.cos(M)*x,H=D+Math.sin(M)*w,moveTo?L.moveTo(J,H):L.lineTo(J,H);for(var y=0;K>y;y++){M+=C,j=M-C/2,G=q+Math.cos(M)*x,b=D+Math.sin(M)*w,k=q+Math.cos(j)*(x/Math.cos(C/2)),B=D+Math.sin(j)*(w/Math.cos(C/2)),L.quadTo(k,B,G,b)}}}function dY(w,G,C,z,x,B){var M=x.cx,H=x.cy,F=M<w.x,N=M>w.right,k=H<w.y,L=H>w.bottom,K=w.cx,J=w.cy,I=F||N,j=k||L,q=B===iC||null===B;q&&(B=Math.atan2(H-J,M-K),I||j||(B+=Math.PI));var D=Math.cos(B),A=Math.sin(B),e=cK(G,w,{x:M,y:H},-D,-A);e||(B=Math.atan2(H-J,M-K),I||j||(B+=Math.PI),D=Math.cos(B),A=Math.sin(B),e=cK(G,w,{x:M,y:H},-D,-A)||{x:K,y:J});var b=cK(z,x,{x:e.x,y:e.y},-e.perX||D,-e.perY||A,!1)||{x:M,y:H};return C?[e,b]:[b,e]}function jE(z,k,p,g,b,A){var f=k<z.x,w=k>z.right,m=p<z.y,j=p>z.bottom;if(f&&g>0){var x=z.x-k,y=p+x*b/g;if(y>=z.y&&y<=z.bottom){return{x:z.x,y:y,perX:g,perY:b}}}if(w&&0>g){var x=z.right-k,y=p+x*b/g;if(y>=z.y&&y<=z.bottom){return{x:z.right,y:y,perX:g,perY:b}}}if(m&&b>0){var v=z.y-p,q=k+v*g/b;if(q>=z.x&&q<=z.right){return{x:q,y:z.y,perX:g,perY:b}}}if(j&&0>b){var v=z.bottom-p,q=k+v*g/b;if(q>=z.x&&q<=z.right){return{x:q,y:z.bottom,perX:g,perY:b}}}return A!==!1?jE(z,k,p,-g,-b,!1):void 0}function cK(b,a,f,g,d,c){if(!a.contains(f.x,f.y)){if(f=jE(a,f.x,f.y,g,d,c),!f){return}return fB(b,a,f,f.perX,f.perY)}return c===!1?fB(b,a,f,g,d):fB(b,a,{x:f.x,y:f.y,perX:g,perY:d},g,d)||fB(b,a,f,-g,-d)}function fB(b,a,d,f,c){for(;;){if(!a.contains(d.x,d.y)){return}if(b.hitTest(d.x+f,d.y+c)){break}d.x+=f,d.y+=c}return d}function jS(a){return eK(a)?a:a.match(/.(gif|jpg|jpeg|png)$/gi)?a:(a=jd(a),a instanceof Object&&a.draw?a:void 0)}function ed(b){for(var a=b.parent;a;){if(a.enableSubNetwork){return a}a=a.parent}return null}function du(){hX(this,du,arguments)}function cY(k,i,d,b,m,c,j){var g=iu.createElement("div");g.className="Q-Graph-Nav-Button",g0(g,hR),i&&g0(g,i);var f=iu.createElement("img");return c&&(jR&&(f.ontouchstart=c),bX||(f.onclick=c)),f.name=j,f.src=d,g0(f,cu),m&&g0(f,m),b&&a7(f,"transform","rotate(180deg)"),g._img=f,g.appendChild(f),k.appendChild(g),g}function c3(a,b){this._navPane=iu.createElement("div"),this._navPane.className="Q-Graph-Nav",g0(this._navPane,{"background-color":"rgba(0, 0, 0, 0)",overflow:"hidden","user-select":"none",position:"relative"}),this._top=cY(this._navPane,{width:"100%"},cX.NAVIGATION_IMAGE_TOP,!1,null,b,"top"),this._left=cY(this._navPane,{height:"100%"},cX.NAVIGATION_IMAGE_LEFT,!1,iI,b,"left"),this._right=cY(this._navPane,{height:"100%",right:"0px"},cX.NAVIGATION_IMAGE_LEFT,!0,iI,b,"right"),this._mmottom=cY(this._navPane,{width:"100%",bottom:"0px"},cX.NAVIGATION_IMAGE_TOP,!0,null,b,"bottom"),a.appendChild(this._navPane)}function dM(b,a){if(!cX.NAVIGATION_IMAGE_LEFT){var g=bk(20,40),h=g.g;h.scale(h.ratio,h.ratio),h.moveTo(16,4),h.lineTo(4,20),h.lineTo(16,36),h.lineWidth=3,h.lineCap="round",h.lineJoin="round",h.strokeStyle="#FFF",h.shadowColor="#888",h.shadowBlur=5,h.stroke(),cX.NAVIGATION_IMAGE_LEFT=g.toDataURL();var f=bk(g.height,g.width,!1);try{f.g.translate(f.width,0),f.g.rotate(Math.PI/2),f.g.drawImage(g,0,0),cX.NAVIGATION_IMAGE_TOP=f.toDataURL()}catch(d){console.log(d)}}this._mmaseCanvas=b;var c=function(j){iO(j);var m,o,l=j.target,k=l.name;if("left"==k){m=1}else{if("right"==k){m=-1}else{if("top"==k){o=1}else{if("bottom"!=k){return}o=-1}}}jR&&(l.className="hover",setTimeout(function(){l.className=""},100)),iO(j),b._kr._mla(m,o)};c3.call(this,a,c),this._3a(a.clientWidth,a.clientHeight)}function hI(b,a){this._mmaseCanvas=b,this.init(a,b)}function cb(){hX(this,cb,arguments)}function im(b,a){this._mmaseCanvas=b,this._jg=df(a),this.g=this._jg.g,this._9v=new c2}function fG(b){var a=b.selectionModel,c=[];return b.graphModel.forEach(function(d){b.isVisible(d)&&b.isSelectable(d)&&c.push(d)}),a.set(c)}function bK(d,c,h){var k=d.bounds;h=h||k,c=c||1;var g=null;g&&h.width*h.height*c*c>g&&(c=Math.sqrt(g/h.width/h.height));var f=bk();dE(f.g),f.width=h.width*c,f.height=h.height*c,d._85._gi(f.g,c,h);var j=null;try{j=f.toDataURL("image/png")}catch(b){e4.error(b)}return{canvas:f,data:j,width:f.width,height:f.height}}function fS(a){this.graph=a,this.topCanvas=a.topCanvas}function hc(b,a){this.interactions=b,this.defaultCursor=a||"default"}function d3(){hX(this,d3,arguments)}function cD(b,a){if(!b){return a}var d={};for(var c in b){d[c]=b[c]}for(var c in a){d[c]===iC&&(d[c]=a[c])}return d}function b3(){hX(this,b3,arguments)}function dG(){hX(this,dG,arguments)}function jJ(){hX(this,jJ,arguments)}function gb(){hX(this,gb,arguments)}function eR(a,c,d){a+=h0.pageXOffset,c+=h0.pageYOffset;var b=d.getBoundingClientRect();return{x:a+b.left,y:c+b.top}}function aj(b,a,d){var f=b.offsetWidth,c=b.offsetHeight;b.style.left=a-f/2+"px",b.style.top=d-c/2+"px"}function bq(m){var i=iu.createElement("canvas"),d=i.getContext("2d"),b=getComputedStyle(m,null),p=b.font;p||(p=b.fontStyle+" "+b.fontSize+" "+b.fontFamily),d.font=p;var c=m.value,j=c.split("\n"),g=parseInt(b.fontSize),f=0,k=0;return e4.forEach(j,function(e){var a=d.measureText(e).width;a>f&&(f=a),k+=1.2*g}),{width:f,height:k}}function h1(a,d){if("number"==typeof a.selectionStart&&"number"==typeof a.selectionEnd){var f=a.value,c=a.selectionStart;a.value=f.slice(0,c)+d+f.slice(a.selectionEnd),a.selectionEnd=a.selectionStart=c+d.length}else{if("undefined"!=typeof iu.selection){var b=iu.selection.createRange();b.text=d,b.collapse(!1),b.select()}}}function hD(a){if(bb){var b=h0.scrollX||h0.pageXOffset,c=h0.scrollY||h0.pageYOffset;return a.select(),void h0.scrollTo(b,c)}a.select()}function gT(){}function gB(a){this.graph=a,this.topCanvas=a.topCanvas,this.handlerSize=jR?8:5}function a1(a){return a.type==jT||a.type==cW}function aS(a){this.graph=a,this.topCanvas=a.topCanvas,this.handlerSize=jR?8:4,this._rotateHandleLength=jR?30:20}function ez(b,a){var c=new fU;return c.addPoint(aI.call(b,{x:a.x,y:a.y})),c.addPoint(aI.call(b,{x:a.x+a.width,y:a.y})),c.addPoint(aI.call(b,{x:a.x+a.width,y:a.y+a.height})),c.addPoint(aI.call(b,{x:a.x,y:a.y+a.height})),c}function dj(b){b%=2*Math.PI;var a=Math.round(b/fV);return 0==a||4==a?"ew-resize":1==a||5==a?"nwse-resize":2==a||6==a?"ns-resize":"nesw-resize"}function j5(g,j,f){var d=iu.documentElement,i=new e4.Rect(h0.pageXOffset,h0.pageYOffset,d.clientWidth-2,d.clientHeight-2),b=g.offsetWidth,c=g.offsetHeight;j+b>i.x+i.width&&(j=i.x+i.width-b),f+c>i.y+i.height&&(f=i.y+i.height-c),j<i.x&&(j=i.x),f<i.y&&(f=i.y),g.style.left=j+"px",g.style.top=f+"px"}function eE(b,a,d,f,c){this.source=b,this.type="interaction",this.kind=a,this.event=d,this.data=f,this.datas=c}function gj(a){this._40={},this._kr=a,this._kr._1l.addListener(this._9q,this),this.currentMode=aF.INTERACTION_MODE_DEFAULT}function aJ(a){return a>=100&&200>a}function cm(a){return a==kb||a==jq||a==e3||a==aO||a==fu||a==bj}function hk(){var F,p,y={},k=[],b=0,G={},j=0;this.graph.forEach(function(d){if(this.isLayoutable(d)){if(d instanceof jc){var e={node:d,id:d.id,x:d.x,y:d.y};for(this.appendNodeInfo&&this.appendNodeInfo(d,e),y[d.id]=e,k.push(e),b++,p=d.parent;p instanceof ap;){F||(F={});var c=F[p.id];c||(c=F[p.id]={id:p.id,children:[]}),c.children.push(e),p=p.parent}}else{if(d instanceof hz&&!d.isLooped()&&d.fromAgent&&d.toAgent){var e={edge:d};G[d.id]=e,j++}}}},this);var B={};for(var q in G){var m=G[q],D=m.edge,E=D.fromAgent,A=D.toAgent,z=E.id+"-"+A.id,x=A.id+"-"+E.id;if(y[E.id]&&y[A.id]&&!B[z]&&!B[x]){var w=y[E.id],C=y[A.id];m.from=w,m.to=C,B[z]=m,this.appendEdgeInfo&&this.appendEdgeInfo(D,m)}else{delete G[q],j--}}return{groups:F,nodesArray:k,nodes:y,nodeCount:b,edges:G,edgeCount:j,minEnergy:this.minEnergyFunction(b,j)}}function iS(a){this.graph=a,this.currentMovingNodes={}}function eW(){hX(this,eW,arguments)}function i5(b,a,d,f,c){f?b.forEachEdge(function(g){var e=g.otherNode(b);e!=d&&e._marker!=c&&a(e,b)},this,!0):b.forEachOutEdge(function(g){var e=g.toAgent;e!=d&&e._marker!=c&&a(e,b)})}var kw=0;if(h0.navigator){var bB=navigator.userAgent,fg=/opera/i.test(bB),bb=!fg&&/msie/i.test(bB),fW=/rv:11.0/i.test(bB),gG=/MSIE 10./i.test(bB);if(fW&&(bb=!0),/msie\s[6,7,8]/i.test(bB)){throw new Error("your browser is not supported")}var e9=/webkit|khtml/i.test(bB),gY=!e9&&/gecko/i.test(bB),bT=/firefox\//i.test(bB),kg=/Chrome\//i.test(bB),aw=!kg&&/Safari\//i.test(bB),dX=/Macintosh;/i.test(bB),jD=/(iPad|iPhone|iPod)/g.test(bB),cJ=/Android/g.test(bB),fA=/Windows Phone/g.test(bB),jR=(jD||cJ||fA)&&"ontouchstart" in h0,ec=bB.match(/AppleWebKit\/([0-9\.]*)/);if(ec&&ec.length>1){var dt=parseFloat(ec[1])}if(cJ){parseFloat(bB.match(/Android\s([0-9\.]*)/)[1]);if(dt&&534.3>=dt){}}}h0.requestAnimationFrame||(h0.requestAnimationFrame=h0.webkitRequestAnimationFrame||h0.mozRequestAnimationFrame||h0.oRequestAnimationFrame||h0.msRequestAnimationFrame||function(a){return h0.setTimeout(function(){a()},1000/60)}),h0.cancelAnimationFrame||(h0.cancelAnimationFrame=h0.webkitCancelAnimationFrame||h0.mozCancelAnimationFrame||h0.oCancelAnimationFrame||h0.msCancelAnimationFrame||function(a){return h0.clearTimeout(a)});var cX={SELECTION_TOLERANCE:jR?5:2,LABEL_COLOR:"#333"};iN(cX,{FONT_STYLE:{get:function(){return this._fontStyle||(this._fontStyle="normal")},set:function(a){this._fontStyle!=a&&(this._fontStyle=a,this._fontChanged=!0)}},FONT_SIZE:{get:function(){return this._fontSize||(this._fontSize=12)},set:function(a){this._fontSize!=a&&(this._fontSize=a,this._fontChanged=!0)}},FONT_FAMILY:{get:function(){return this._fontFamily||(this._fontFamily="Verdana,helvetica,arial,sans-serif")},set:function(a){this._fontFamily!=a&&(this._fontFamily=a,this._fontChanged=!0)}},FONT:{get:function(){return(this._fontChanged||this._fontChanged===iC)&&(this._fontChanged=!1,this._font=this.FONT_STYLE+" "+this.FONT_SIZE+"px "+this.FONT_FAMILY),this._font}}});var c2=function(a){this._k2=[],this._lk={},a&&this.add(a)};c2.prototype={_k2:null,_lk:null,get:function(a){return this.getByIndex(a)},getById:function(a){return this._lk[a]},getByIndex:function(a){return this._k2[a]},forEach:function(b,a,c){return iz(this._k2,b,a,c)},forEachReverse:function(b,a,c){return hY(this._k2,b,a,c)},size:function(){return this._k2.length},contains:function(a){return this.containsById(a.id)},containsById:function(a){return this._lk.hasOwnProperty(a)},setIndex:function(b,a){var c=this._k2.indexOf(b);if(0>c){throw new Error("'"+b.id+"' not exist")}return c==a?!1:(this._k2.splice(c,1),this._k2.splice(a,0,b),!0)},setIndexAfter:function(b,a){var c=this._k2.indexOf(b);if(0>c){throw new Error("'"+b.id+"' not exist")}return c==a?a:c==a+1?a+1:(c>a&&(a+=1),this._k2.splice(c,1),this._k2.splice(a,0,b),a)},setIndexBefore:function(b,a){var c=this._k2.indexOf(b);if(0>c){throw new Error("'"+b.id+"' not exist")}return c==a?a:c==a-1?a-1:(a>c&&(a-=1),this._k2.splice(c,1),this._k2.splice(a,0,b),a)},indexOf:function(a){return this._k2.indexOf(a)},getIndexById:function(b){var a=this.getById(b);return a?this._k2.indexOf(a):-1},add:function(b,a){return jt(b)?this._hb(b,a):this._kn(b,a)},addFirst:function(a){return this.add(a,0)},_hb:function(d,c){if(0==d.length){return !1}var h=!1,f=c>=0;d=d._k2||d;for(var e=0,g=d.length;g>e;e++){var b=d[e];null!==b&&b!==iC&&this._kn(b,c,!0)&&(h=!0,f&&c++)}return h},_kn:function(b,a){var c=b.id;return c===iC||this.containsById(c)?!1:(id(this._k2,b,a),this._lk[c]=b,b)},remove:function(a){return jt(a)?this._mm3(a):a.id?this._ha(a.id,a):this.removeById(a)},_mm3:function(b){if(0==b.length){return !1}var a=!1;b=b._k2||b;for(var f=0,d=b.length;d>f;f++){var c=b[f];if(null!==c&&c!==iC){c.id===iC&&(c=this._lk[c]);var e=c.id;this._ha(e,c,!0)&&(a=!0)}}return a},_ha:function(b,a){return b!==iC&&this.containsById(b)?((null===a||a===iC)&&(a=this.getById(b)),delete this._lk[b],h7(this._k2,a),!0):!1},removeById:function(b){var a=this._lk[b];return a?this._ha(b,a):!1},set:function(b){if(!b||0==b){return void this.clear()}if(this.isEmpty()||!jt(b)){return this.clear(),this.add(b)}var a=[],d={},f=0;if(iz(b,function(e){this._lk[e.id]?(d[e.id]=e,f++):a.push(e)},this),f!=this.length){var c=[];this.forEach(function(e){d[e.id]||c.push(e)},this),c.length&&this._mm3(c)}return a.length&&this._hb(a),!0},clear:function(){return this.isEmpty()?!1:(this._k2.length=0,this._lk={},!0)},toDatas:function(){return this._k2.slice(0)},isEmpty:function(){return 0==this._k2.length},valueOf:function(){return this._k2.length},clone:function(b){var a=new c2;return a.add(b?ju(this._k2):this.toDatas()),a}},iN(c2.prototype,{datas:{get:function(){return this._k2}},random:{get:function(){return this._k2&&this._k2.length?this._k2[ip(this._k2.length)]:null}},length:{get:function(){return this._k2?this._k2.length:0}}});var dL=(2*Math.PI,0.5*Math.PI),hH=function(b,a){a=a.toUpperCase();for(var c=bb?b.firstChild:b.firstElementChild;c&&(1!=c.nodeType||c.tagName&&c.tagName.toUpperCase()!=a);){c=bb?c.nextSibling:c.nextElementSibling}return c&&1==c.nodeType&&c.tagName&&c.tagName.toUpperCase()==a?c:null},b9=function(b,a,c){b instanceof b9&&(a=b.y,b=b.x,c=b.rotate),this.set(b,a,c)},ig=function(b,a,f,g){var d=b-f,c=a-g;return Math.sqrt(d*d+c*c)};b9.prototype={x:0,y:0,rotate:iC,set:function(b,a,c){this.x=b||0,this.y=a||0,this.rotate=c||0},negate:function(){this.x=-this.x,this.y=-this.y},offset:function(b,a){this.x+=b,this.y+=a},equals:function(a){return this.x==a.x&&this.y==a.y},distanceTo:function(a){return ig(this.x,this.y,a.x,a.y)},toString:function(){return"Point("+this.x+", "+this.y+")"},clone:function(){return new b9(this.x,this.y)}},Object.defineProperty(b9.prototype,"distance",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}});var fF=function(b,a,d,c){b!==iC&&this._mf(b,a,d,c)};fF.prototype={_mi:null,_mh:null,_mk:null,_mj:null,_ml:null,_mm:null,_mo:1,_mf:function(b,a,c,d){this._mi=b,this._mh=a,this._mk=c,this._mj=d,b==c?(this._ml=-1,this._mo=0,this._mm=b):(this._ml=(a-d)/(b-c),this._mm=a-this._ml*b,this._mo=1),this._kx=Math.atan2(this._mj-this._mh,this._mk-this._mi),this._moos=Math.cos(this._kx),this._sin=Math.sin(this._kx)},_mo9:function(a){return 0==this._mo?Number.NaN:this._ml*a+this._mm},_mob:function(a){return 0==this._ml?Number.NaN:(a-this._mm)/this._ml},_$f:function(F){var p,y,k,b,G,j=F[0],B=F[2],q=F[4],m=F[1],D=F[3],E=F[5],A=this._ml,z=this._mm,x=this._mo;if(0==x?(k=Math.sqrt((-A*A*j-A*z)*q+A*A*B*B+2*A*z*B-A*z*j),b=-A*B+A*j,G=A*q-2*A*B+A*j):(k=Math.sqrt((-m+A*j+z)*E+D*D+(-2*A*B-2*z)*D+(A*q+z)*m+(-A*A*j-A*z)*q+A*A*B*B+2*A*z*B-A*z*j),b=-D+m+A*B-A*j,G=E-2*D+m-A*q+2*A*B-A*j),0!=G){p=(k+b)/G,y=(-k+b)/G;var w,C;return p>=0&&1>=p&&(w=d5(p,F)),y>=0&&1>=y&&(C=d5(y,F)),w&&C?[w,C]:w?w:C?C:void 0}},_33:function(v,g,k){if(this._ml==v._ml||0==this._mo&&0==v._mo){return null}var d,b;if(d=0==this._mo?this._mm:0==v._mo?v._mm:(v._mm-this._mm)/(this._ml-v._ml),b=0==this._ml?this._mm:0==v._ml?v._mm:this._mo?this._ml*d+this._mm:v._ml*d+v._mm,!g){return{x:d,y:b}}var w,c,m;if(k){w=-g/2,c=-w}else{w=-ig(this._mi,this._mh,d,b),c=ig(this._mk,this._mj,d,b);var j=-w+c;if(j>g){var f=g/j;w*=f,c*=f}else{m=(g-j)/2}}var p=this._6n(d,b,w),q=this._6n(d,b,c);return m&&(p._rest=m,q._rest=m),[p,q]},_6n:function(b,a,c){return 0==this._mo?{x:b,y:a+c}:{x:b+c*this._moos,y:a+c*this._sin}}};var bN=function(b,a){this.width=b,this.height=a};bN.prototype={width:0,height:0,isEmpty:function(){return this.width<=0||this.height<=0},clone:function(){return new bN(this.width,this.height)},toString:function(){return"Size("+this.width+", "+this.height+")"}};var fU=function(b,a,d,c){b instanceof Object&&!i6(b)&&(a=b.y,d=b.width,c=b.height,b=b.x),d===iC&&(d=-1),c===iC&&(c=-1),this.x=b||0,this.y=a||0,this.width=d,this.height=c};fU.prototype={x:0,y:0,width:-1,height:-1,setByRect:function(a){this.x=a.x||0,this.y=a.y||0,this.width=a.width||0,this.height=a.height||0},set:function(b,a,c,d){this.x=b||0,this.y=a||0,this.width=c||0,this.height=d||0},offset:function(b,a){return this.x+=b,this.y+=a,this},contains:function(b,a){return b instanceof fU?jU(this.x,this.y,this.width,this.height,b.x,b.y,b.width,b.height,a):b>=this.x&&b<=this.x+this.width&&a>=this.y&&a<=this.y+this.height},intersectsPoint:function(b,a,c){return this.width<=0&&this.height<=0?!1:c?this.intersectsRect(b-c,a-c,2*c,2*c):b>=this.x&&b<=this.x+this.width&&a>=this.y&&a<=this.y+this.height},intersectsRect:function(b,a,c,d){return cc(this.x,this.y,this.width,this.height,b,a,c,d)},intersects:function(b,a){return i6(b.width)?this.intersectsRect(b.x,b.y,b.width,b.height):this.intersectsPoint(b,a)},intersection:function(p,g,k,d){var b=this.x,q=this.y,c=b;c+=this.width;var m=q;m+=this.height;var j=p;j+=k;var f=g;return f+=d,p>b&&(b=p),g>q&&(q=g),c>j&&(c=j),m>f&&(m=f),c-=b,m-=q,0>c||0>m?null:new fU(b,q,c,m)},addPoint:function(a){this.add(a.x,a.y)},add:function(b,a){if(i6(b.width)){return this.addRect(b.x,b.y,b.width,b.height)}if(i6(b.x)&&(a=b.y,b=b.x),this.width<0||this.height<0){return this.x=b,this.y=a,void (this.width=this.height=0)}var f=this.x,g=this.y,d=this.width,c=this.height;d+=f,c+=g,f>b&&(f=b),g>a&&(g=a),b>d&&(d=b),a>c&&(c=a),d-=f,c-=g,d>Number.MAX_VALUE&&(d=Number.MAX_VALUE),c>Number.MAX_VALUE&&(c=Number.MAX_VALUE),this.set(f,g,d,c)},addRect:function(v,g,k,d){var b=this.width,w=this.height;(0>b||0>w)&&this.set(v,g,k,d);var c=k,m=d;if(!(0>c||0>m)){var j=this.x,f=this.y;b+=j,w+=f;var p=v,q=g;c+=p,m+=q,j>p&&(j=p),f>q&&(f=q),c>b&&(b=c),m>w&&(w=m),b-=j,w-=f,b>Number.MAX_VALUE&&(b=Number.MAX_VALUE),w>Number.MAX_VALUE&&(w=Number.MAX_VALUE),this.set(j,f,b,w)}},shrink:function(b,a,c,d){return i6(b)?1==arguments.length?d=a=c=b||0:2==arguments.length?(c=b||0,d=a||0):(b=b||0,a=a||0,c=c||0,d=d||0):(a=b.left||0,c=b.bottom||0,d=b.right||0,b=b.top||0),this.x+=a,this.y+=b,this.width-=a+d,this.height-=b+c,this},grow:function(b,a,c,d){return i6(b)?1==arguments.length?d=a=c=b||0:2==arguments.length?(c=b||0,d=a||0):(b=b||0,a=a||0,c=c||0,d=d||0):(a=b.left||0,c=b.bottom||0,d=b.right||0,b=b.top||0),this.x-=a,this.y-=b,this.width+=a+d,this.height+=b+c,this},scale:function(a){return this.x*=a,this.y*=a,this.width*=a,this.height*=a,this},isEmpty:function(){return this.width<=0&&this.height<=0},toString:function(){return this.x+" , "+this.y+" , "+this.width+" , "+this.height},union:function(l){var f=this.width,j=this.height;if(0>f||0>j){return new fU(l.x,l.y,l.width,l.height)}var d=l.width,b=l.height;if(0>d||0>b){return new fU(this.x,this.y,this.width,this.height)}var m=this.x,c=this.y;f+=m,j+=c;var k=l.x,g=l.y;return d+=k,b+=g,m>k&&(m=k),c>g&&(c=g),d>f&&(f=d),b>j&&(j=b),f-=m,j-=c,f>Number.MAX_VALUE&&(f=Number.MAX_VALUE),j>Number.MAX_VALUE&&(j=Number.MAX_VALUE),new fU(m,c,f,j)},clear:function(){this.set(0,0,-1,-1)},equals:function(a){return a&&this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},clone:function(b,a){return new fU(this.x+(b||0),this.y+(a||0),this.width,this.height)},toArray:function(){return[this.x,this.y,this.width,this.height]},getIntersectionPoint:function(b,a,c,d){return cL(this,b,a,c,d)}},i2(fU,bN),fU.equals=function(b,a){return b==a||b&&a&&b.x==a.x&&b.y==a.y&&b.width==a.width&&b.height==a.height},iN(fU.prototype,{left:{get:function(){return this.x}},top:{get:function(){return this.y}},bottom:{get:function(){return this.y+this.height}},right:{get:function(){return this.x+this.width}},cx:{get:function(){return this.x+this.width/2}},cy:{get:function(){return this.y+this.height/2}},center:{get:function(){return new b9(this.cx,this.cy)}}}),fU.intersects=cc,fU.intersection=gm,fU.intersectsPoint=dN;var hf=function(b,a,c,d){1==arguments.length?a=c=d=b:2==arguments.length&&(c=b,d=a),this.set(b,a,c,d)};hf.prototype={top:0,bottom:0,left:0,right:0,set:function(b,a,c,d){this.top=b||0,this.left=a||0,this.bottom=c||0,this.right=d||0},clone:function(){return new hf(this.top,this.left,this.bottom,this.right)},equals:function(a){return a&&this.top==a.top&&this.bottom==a.bottom&&this.left==a.left&&this.right==a.right}};var d7=function(b,a){this.horizontalPosition=b,this.verticalPosition=a};d7.prototype={verticalPosition:!1,horizontalPosition:!1,toString:function(){return(this.horizontalPosition||"")+(this.verticalPosition||"")}},i9(d7.prototype,"sortName",{get:function(){return(this.horizontalPosition||"")+(this.verticalPosition||"")}});var cG="l",b6="c",dI="r",jN="t",gd="m",eT="b";d7.LEFT_TOP=new d7(cG,jN),d7.LEFT_MIDDLE=new d7(cG,gd),d7.LEFT_BOTTOM=new d7(cG,eT),d7.CENTER_TOP=new d7(b6,jN),d7.CENTER_MIDDLE=new d7(b6,gd),d7.CENTER_BOTTOM=new d7(b6,eT),d7.RIGHT_TOP=new d7(dI,jN),d7.RIGHT_MIDDLE=new d7(dI,gd),d7.RIGHT_BOTTOM=new d7(dI,eT);var aq=[d7.LEFT_TOP,d7.LEFT_MIDDLE,d7.LEFT_BOTTOM,d7.CENTER_TOP,d7.CENTER_MIDDLE,d7.CENTER_BOTTOM,d7.RIGHT_TOP,d7.RIGHT_MIDDLE,d7.RIGHT_BOTTOM];i9(d7,"random",{get:function(){return aq[ip(aq.length)]}}),d7.fromString=function(b){for(var a in d7){var c=d7[a];if(c&&"random"!=a&&c instanceof d7&&c.toString()==b){return c}}};var bv=function(b,a,d,f,c){this.set(b,a,d,f),this.radius=c};bv.prototype={radius:0,classify:function(b,a,c,d){return a>b?0:a+d>b?1:c-d>b?2:c>b?3:4},intersectsRect:function(D,p,x,k){if(jB(this,bv,"intersectsRect",arguments)===!1){return !1}var b=this.x,E=this.y,j=b+this.width,A=E+this.height,q=2*radius,m=2*radius,B=Math.min(this.width,Math.abs(q))/2,C=Math.min(this.height,Math.abs(m))/2,z=this.classify(D,b,j,B),y=this.classify(D+x,b,j,B),w=this.classify(p,E,A,C),v=this.classify(p+k,E,A,C);return 2==z||2==y||2==w||2==v?!0:2>z&&y>2||2>w&&v>2?!0:(D=1==y?D=D+x-(b+B):D-=j-B,p=1==v?p=p+k-(E+C):p-=A-C,D/=B,p/=C,1>=D*D+p*p)},intersectsPoint:function(p,g){if(jB(this,bv,"intersectsPoint",arguments)===!1){return !1}var k=this.x,d=this.y,b=k+this.width,q=d+this.height;if(k>p||d>g||p>=b||g>=q){return !1}var c=2*radius,m=2*radius,j=Math.min(this.width,Math.abs(c))/2,f=Math.min(this.height,Math.abs(m))/2;return p>=(k+=j)&&p<(k=b-j)?!0:g>=(d+=f)&&g<(d=q-f)?!0:(p=(p-k)/j,g=(g-d)/f,1>=p*p+g*g)},clone:function(){return new bv(this.x,this.y,this.width,this.height,this.radius)}},i2(bv,fU);var h6=function(b,a,c,d){this.source=b,this.type=a,this.kind=c,this.value=d};h6.prototype={source:null,type:null,kind:null,value:null,toString:function(){return"source: "+this.source+", type: "+this.type+", kind: "+this.kind}};var gV=function(b,a,d,f,c){this.source=b,this.kind=a,this.oldValue=f,this.value=d,this.propertyType=c};gV.prototype={type:"property.change",propertyType:null,toString:function(){return"source: "+this.source+", type: "+this.type+", propertyName: "+this.kind+", oldValue: "+this.oldValue+", value: "+this.value}},i2(gV,h6),i9(gV.prototype,"propertyName",{get:function(){return this.kind},set:function(a){this.kind=a}});var gD=function(b,a,c){this.source=b,this.oldValue=b.parent,this.value=a,this.newIndex=c,this.oldValue&&(this.oldIndex=this.oldValue.getChildIndex(b))};gD.prototype={kind:"parent"},i2(gD,gV);var a4=function(b,a){this.source=b,this.value=a};a4.prototype.kind="child.add",i2(a4,gV);var aV=function(b,a){this.source=b,this.value=a};aV.prototype.kind="child.remove",i2(aV,gV);var eB=function(b,a,c,d){this.source=a,this.oldValue=c,this.value=d,this.parent=b,this.child=a,this.oldIndex=c,this.newIndex=d};eB.prototype.kind="child.index",i2(eB,gV);var dm=function(){};dm.prototype={listener:null,beforeEvent:function(a){return null!=this.listener&&this.listener.beforeEvent?this.listener.beforeEvent(a):!0},onEvent:function(a){null!=this.listener&&this.listener.onEvent&&this.listener.onEvent(a)}};var j8=function(){hX(this,j8,arguments),this.events={},this.listeners=[]},eI=function(b,a){this.listener=b,this.scope=a,b instanceof Function?this.onEvent=b:(this.onEvent=b.onEvent,this.beforeEvent=b.beforeEvent),this.equals=function(c){return c&&this.listener==c.listener&&this.scope==c.scope}};eI.prototype={equals:function(a){return a&&this.listener==a.listener&&this.scope==a.scope},destroy:function(){delete this.scope,delete this.listener}},j8.prototype={listeners:null,_mo2:function(){return this.listeners&&this.listeners.length>0},_6w:function(b,a){return b instanceof j8?b:new eI(b,a)},_ml1:function(b,a){if(b instanceof j8){return this.listeners.indexOf(b)}for(var f=this.listeners,g=0,d=f.length;d>g;g++){var c=f[g];if(c.listener==b&&c.scope==a){return g}}return -1},contains:function(b,a){return this._ml1(b,a)>=0},addListener:function(b,a){return this.contains(b,a)?!1:void this.listeners.push(this._6w(b,a))},removeListener:function(b,a){var c=this._ml1(b,a);c>=0&&this.listeners.splice(c,1)},on:function(b,a){this.addListener(b,a)},un:function(b,a,c){this.removeListener(b,a,c)},onEvent:function(a){return this.listeners?void iz(this.listeners,function(b){b.onEvent&&(b.scope?b.onEvent.call(b.scope,a):b.onEvent(a))},this):!1},beforeEvent:function(a){return this.listeners?iz(this.listeners,function(b){return b.beforeEvent?b.scope?b.beforeEvent.call(b.scope,a):b.beforeEvent(a):!0},this):!0},_f9:function(a){return this.beforeEvent(a)===!1?!1:(this.onEvent(a),!0)},clear:function(){this.listeners=[]},destroy:function(){this.clear()}},i2(j8,dm);var gq={onEvent:function(){},beforeEvent:function(){}},aM=function(b,a,d,f,c){this.source=b,this.type="list",this.kind=a,this.data=d,this.index=f,this.oldIndex=c};aM.prototype={index:-1,oldIndex:-1,toString:function(){return"source: "+this.source+", type: "+this.type+", kind: "+this.kind+", data: "+this.data+", index: "+this.index+", oldIndex: "+this.oldIndex}},i2(aM,h6),aM.KIND_ADD="add",aM.KIND_REMOVE="remove",aM.KIND_CLEAR="clear",aM.KIND_INDEX_CHANGE="index.change";var cv=function(){this.id=++kw,this._moc={}};cv.prototype={_moc:null,id:null,get:function(a){return this._moc[a]},set:function(b,a){var c=this.get(b);if(c===a){return !1}var d=new gV(this,b,a,c);return d.propertyType=aF.PROPERTY_TYPE_CLIENT,this._mlk(b,a,d,this._moc)},_mlk:function(b,a,d,c){return this.beforeEvent(d)===!1?!1:(c||(c=this._moc),a===iC?delete c[b]:c[b]=a,this.onEvent(d),!0)},remove:function(a){this.set(a,null)},valueOf:function(){return this.id},toString:function(){return this.id},_ds:function(b,a){if(a===iC&&(a=-1),this==b||b==this._k0){return !1}if(b&&this==b._k0&&!b._ds(null)){return !1}var f=new gD(this,b,a);if(!this.beforeEvent(f)){return !1}var d,c,e=this._k0;return b&&(d=new a4(b,this),!b.beforeEvent(d))?!1:null==e||(c=new aV(e,this),e.beforeEvent(c))?(this._k0=b,null!=b&&az(b,this,a),null!=e&&by(e,this),this.onEvent(f),null!=b&&b.onEvent(d),null!=e&&e.onEvent(c),this.onParentChanged(e,b),!0):!1},addChild:function(b,a){var c=b._ds(this,a);return c&&this.onChildAdd(b,a),c},onChildAdd:function(){},removeChild:function(b){if(!this._g0||!this._g0.contains(b)){return !1}var a=b._ds(null);return this.onChildRemove(b),a},onChildRemove:function(){},toChildren:function(){return this._g0?this._g0.toDatas():null},clearChildren:function(){if(this._g0&&this._g0.length){var a=this.toChildren();iz(a,function(b){b._ds(null)},this),this.onChildrenClear(a)}},forEachChild:function(b,a){return this.hasChildren()?this._g0.forEach(b,a):!1},onChildrenClear:function(){},getChildIndex:function(a){return this._g0&&this._g0.length?this._g0.indexOf(a):-1},setChildIndex:function(b,a){if(!this._g0||!this._g0.length){return !1}var c=this._g0.indexOf(b);if(0>c||c==a){return !1}var d=new eB(this,b,c,a);return this.beforeEvent(d)===!1?!1:(this._g0.remove(b)&&this._g0.add(b,a),this.onEvent(d),!0)},hasChildren:function(){return this._g0&&this._g0.length>0},getChildAt:function(a){return null==this._g0?null:this._g0._k2[a]},isDescendantOf:function(b){if(!b.hasChildren()){return !1}for(var a=this.parent;null!=a;){if(b==a){return !0}a=a.parent}return !1},onParentChanged:function(){},firePropertyChangeEvent:function(b,a,c,d){this.onEvent(new gV(this,b,a,c,d))}},i2(cv,dm),iN(cv.prototype,{childrenCount:{get:function(){return this._g0?this._g0.length:0}},children:{get:function(){return this._g0||(this._g0=new c2),this._g0}},parent:{get:function(){return this._k0},set:function(a){this._ds(a,-1)}},properties:{get:function(){return this._moc},set:function(a){this._moc!=a&&(this._moc=a)}}});var ht=function(){this._k2=[],this._lk={},this._1l=new j8};ht.prototype={beforeEvent:function(a){return null!=this._1l&&this._1l.beforeEvent?this._1l.beforeEvent(a):!0},onEvent:function(a){return this._1l instanceof Function?void this._1l(a):void (null!=this._1l&&this._1l.onEvent&&this._1l.onEvent(a))},_1l:null,setIndex:function(b,a){if(!this.contains(b)){throw new Error("'"+b.getId()+"' not exist")}var c=this.indexOf(b);if(c==a){return !1}var d=new aM(this,aM.KIND_INDEX_CHANGE,b,a,c);return this.beforeEvent(d)===!1?!1:(this._k2.remove(b)>=0&&this._k2.add(a,b),this.onEvent(d),!0)},_hb:function(k,f){if(0==k.length){return !1}var d=!1,b=f>=0,m=new aM(this,aM.KIND_ADD,k,f);if(this.beforeEvent(m)===!1){return !1}var c=[];k=k._k2||k;for(var j=0,g=k.length;g>j;j++){var e=k[j];null!==e&&e!==iC&&this._kn(e,f,!0)&&(c.push(e),d=!0,b&&f++)}return m.data=c,this.onEvent(m),d},_kn:function(b,a,c){if(this.accept(b)===!1){return !1}if(c){return jB(this,ht,"_kn",arguments)}var d=new aM(this,aM.KIND_ADD,b,a);return this.beforeEvent(d)===!1?!1:jB(this,ht,"_kn",arguments)?(this._kp(b,d),b):!1},_kp:function(b,a){this.onEvent(a)},_mm3:function(d){if(0==d.length){return !1}var c=new aM(this,aM.KIND_REMOVE,d);if(this.beforeEvent(c)===!1){return !1}var k=[],g=!1;d=d._k2||d;for(var f=0,j=d.length;j>f;f++){var b=d[f];if(null!==b&&b!==iC){var e=b.id||b;b.id===iC&&(b=null),this._ha(e,b,!0)&&(k.push(b),g=!0)}}return c.data=k,this.onEvent(c),g},_ha:function(b,a,c){if(c){return jB(this,ht,"_ha",arguments)}var d=new aM(this,aM.KIND_REMOVE,a);return this.beforeEvent(d)===!1?!1:jB(this,ht,"_ha",arguments)?(this.onEvent(d),!0):!1},clear:function(){if(this.isEmpty()){return !1}var a=new aM(this,aM.KIND_CLEAR,this.toDatas());return this.beforeEvent(a)===!1?!1:jB(this,ht,"clear")?(this.onEvent(a),!0):!1},accept:function(a){return this.filter&&this.filter(a)===!1?!1:!0}},i2(ht,c2),i9(ht.prototype,"listChangeDispatcher",{get:function(){return this._1l}});var iY=function(){hX(this,iY,arguments),this.selectionChangeDispatcher=new j8,this._selectionModel=new e0(this),this._selectionModel._1l=this.selectionChangeDispatcher,this.dataChangeDispatcher=new j8,this.dataChangeDispatcher.addListener({beforeEvent:this.beforeDataPropertyChange,onEvent:this.onDataPropertyChanged},this),this.parentChangeDispatcher=new j8,this.childIndexChangeDispatcher=new j8,this.$roots=new c2;var a=this;this.$roots.setIndex=function(b,d){if(!a.$roots.contains(b)){throw new Error("'"+b.id+"' not exist")}var f=a.$roots._k2.indexOf(b);if(f==d){return !1}a.$roots._k2.splice(f,1),a.$roots._k2.splice(d,0,b),a._modIndexFlag=!0;var c=new eB(a,b,f,d);return a._1z(c),!0}};iY.prototype={selectionModel:null,selectionChangeDispatcher:null,dataChangeDispatcher:null,parentChangeDispatcher:null,roots:null,_kp:function(b,a){b.listener=this.dataChangeDispatcher,b.parent||this.$roots.add(b),this.onEvent(a)},_ha:function(b,a){if(jB(this,iY,"_ha",arguments)){if(a instanceof hz){a.disconnect()}else{if(a instanceof jc){var c=a.getEdges();this.remove(c)}}var d=a.parent;return null==d?this.$roots.remove(a):(d.removeChild(a),d.__63=!0),a.hasChildren()&&this.remove(a.toChildren()),a.listener=null,!0}return !1},_59:function(b){var a=b.source;this.contains(a)&&(null==a.parent?this.$roots.add(a):null==b.oldValue&&this.$roots.remove(a),this.parentChangeDispatcher.onEvent(b))},_1z:function(a){this.childIndexChangeDispatcher.onEvent(a)},beforeDataPropertyChange:function(a){return a instanceof gD?this.parentChangeDispatcher.beforeEvent(a):!0},onDataPropertyChanged:function(a){return a instanceof gD?(this._modIndexFlag=!0,a.source._modIndexFlag=!0,void this._59(a)):void (a instanceof eB&&(this._modIndexFlag=!0,a.source._modIndexFlag=!0,this._1z(a)))},toRoots:function(){return this.$roots.toDatas()},_hd:function(b){var a,c=b._k0;a=c?c._g0:this.$roots;var d=a.indexOf(b);if(0>d){throw new Error("data '"+b+"' not exist in the box")}return 0==d?c:a.getByIndex(d-1)},_hc:function(b){var a,c=b._k0;a=c?c._g0:this.$roots;var d=a.indexOf(b);if(0>d){throw new Error("data '"+b+"' not exist in the box")}return d==a.length-1?c?this._hc(c):null:a.getByIndex(d+1)},forEachByDepthFirst:function(b,a,c){return this.$roots.length?h2(this.$roots,b,a,c):!1},forEachByDepthFirstReverse:function(b,a,c){return this.$roots.length?iw(this.$roots,b,a,c):!1},forEachByBreadthFirst:function(b,a){return this.$roots.length?hZ(this.$roots,b,a):!1},forEachByBreadthFirstReverse:function(b,a){return this.$roots.length?iE(this.$roots,b,a):!1},clear:function(){return jB(this,iY,"clear")?(this.$roots.clear(),this.selectionModel.clear(),!0):!1}},i2(iY,ht),iN(iY.prototype,{selectionModel:{get:function(){return this._selectionModel}},roots:{get:function(){return this.$roots}}});var e0=function(a){hX(this,e0),this.box=a,this._mmoxChangeListener={onEvent:function(b){aM.KIND_REMOVE==b.kind?null!=b.data?this.remove(b.data):null!=b.datas&&this.remove(b.datas):aM.KIND_CLEAR==b.kind&&this.clear()}},this.box.listChangeDispatcher.addListener(this._mmoxChangeListener,this)};e0.prototype={box:null,isSelected:function(a){return this.containsById(a.id||a)},select:function(a){return this.add(a)},unselect:function(a){return this.remove(a)},reverseSelect:function(a){return this.contains(a)?this.remove(a):this.add(a)},accept:function(a){return this.box.contains(a)}},i2(e0,ht);var jf=null,ad=null,bE=function(){if(!iu.createElement){return function(d){return d}}var a=iu.createElement("div"),c=a.style,b={};return function(e){if(b[e]){return b[e]}var d=iq(e);return c[d]!==iC||ad&&c[d=iq(ad+d)]!==iC?(b[e]=d,d):e}}(),fp={};!function(){if(!iu.head){return !1}for(var d=iu.head,b="Webkit Moz O ms Khtml".split(" "),k=0;k<b.length;k++){if(d.style[b[k]+"Transform"]!==iC){ad="-"+b[k].toLowerCase()+"-";break}}var c=iu.createElement("style");h0.createPopup||c.appendChild(iu.createTextNode("")),c.type="text/css",c.id="qunee-styles",d.appendChild(c),jf=c.sheet;var g,f;for(var e in fp){var i=fp[e];g=e,f="";for(var j in i){f+=bE(j)+":"+i[j]+";\n"}aY(g,f)}}();var bf=function(b,a,f,g,d){if(d){var c=function(e){c.handle.call(c.scope,e)};return c.scope=d,c.handle=f,b.addEventListener(a,c,g),c}return b.addEventListener(a,f,g),f},f0=function(b,a,c){b.removeEventListener(a,c)};if(cX.DOUBLE_CLICK_INTERVAL_TIME=200,cX.LONG_PRESS_INTERVAL=800,cX.DELAY_CLICK=!0,h0.navigator&&navigator.userAgent){var gK,fc=/mobile|tablet|ip(ad|hone|od)|android/i,g2="ontouchstart" in h0,bX=g2&&fc.test(navigator.userAgent);if(bX){gK="touchstart,touchmove,touchend,touchcancel"}else{var km="onmousewheel" in h0?"mousewheel":"DOMMouseScroll";gK="contextmenu,mousedown,mouseup,click,dblclick,mousemove,keydown,keyup,"+km,g2&&(gK+=",touchstart,touchmove,touchend,touchcancel")}gK=gK.split(/[\s,]+/);var aB=function(a){return h0.TouchEvent&&a instanceof h0.TouchEvent},d0=function(){return cX.DOUBLE_CLICK_INTERVAL_TIME},jG=function(){return cX.LONG_PRESS_INTERVAL},j1=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},hT=function(a){a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},iO=function(a){j1(a),hT(a)},cN=function(a){return a.defaultPrevented||a.returnValue===!1},fC=function(a){dP._mourrentItem&&dP._mourrentItem._onWindowMouseMove(a)},jW=function(b){if(dP._mourrentItem){var a=dP._mourrentItem;a._onWindowMouseUp(b),ek(null)}},ek=function(a){dP._mourrentItem!=a&&(dP._mourrentItem&&(dP._mourrentItem.__dragging=!1),dP._mourrentItem=a)},dx=function(a,b){gK.forEach(function(c){a.addEventListener(c,b,!1)}),jR||dP._mlf||(dP._mlf=!0,h0.addEventListener("mousemove",fC,!0),h0.addEventListener("mouseup",jW,!0))},cZ=function(b,a){gK.forEach(function(c){b.removeEventListener(c,a,!1)})},c6=function(a){return a.touches?{timeStamp:a.timeStamp,x:a.cx,y:a.cy}:{timeStamp:a.timeStamp,x:a.clientX,y:a.clientY}};dv.prototype={_install:function(){this.__mlction||(this.__mlction=function(a){this._mlction(a)}.bind(this),dx(this._lr,this.__mlction))},_uninstall:function(){this.__mlction&&cZ(this._lr,this.__mlction)},_mlction:function(b){b=this._toQEvent(b);var a=b.type;this._handleEvent(b,a)===!1&&this._onEvent(b,"on"+a)},_moancelLongPressTimer:function(){this.__longPressTimer&&(clearTimeout(this.__longPressTimer),this.__longPressTimer=null)},__l1LongPress:function(a){this.__onLongPressFunction||(this.__onLongPressFunction=function(){this._l1Event&&(this.__moancelClick=!0,this._l1Event.button?this._onEvent(this._l1Event,"onlongpress2"):this._onEvent(this._l1Event,"onlongpress"))}.bind(this)),this._moancelLongPressTimer(),this.__longPressTimer=setTimeout(this.__onLongPressFunction,jG(a))},__fixTouchEvent:function(v){for(var g,k,d=0,b=0,w=v.touches.length,c=0;w>c;){var m=v.touches[c++],j=m.clientX,f=m.clientY;if(2==c){var p=k[0]-j,q=k[1]-f;g=Math.sqrt(p*p+q*q)}k=[j,f],d+=j,b+=f}v.cx=d/w,v.cy=b/w,v.center={x:v.cx,y:v.cy,clientX:v.cx,clientY:v.cy},v.distance=g},__touchCountChange:function(a){this._dragPoints.clear(),this._94=c6(a)},_handleTouchEvent:function(b,a){switch(a){case"touchstart":hT(b),this.__fixTouchEvent(b),this.__touchCountChange(b);var c=b.touches.length;this._l1Event||(this._l1Event=b,this._onstart(b),this.__moancelClick=!1,this.__l1LongPress(b)),1==c&&(this.__l1MulTouchEvent=null),c>=2&&!this.__l1MulTouchEvent&&(this.__l1MulTouchEvent={cx:b.cx,cy:b.cy,distance:b.distance});break;case"touchmove":iO(b),this.__fixTouchEvent(b);var c=b.touches.length;if(c>=2&&this.__l1MulTouchEvent){var d=this.__l1MulTouchEvent.distance;b._scale=b.distance/d,b.dScale=this.__l1MulTouchEvent.prevScale?b._scale/this.__l1MulTouchEvent.prevScale:b._scale,this.__l1MulTouchEvent.prevScale=b._scale,this.__pinching||(this.__pinching=!0,this._onEvent(b,"startpinch"))}this.__dragging||(this.__dragging=!0,this._l1drag(b)),this._ondrag(b),this.__pinching&&this._onEvent(b,"onpinch");break;case"touchend":iO(b);var c=b.touches.length;c&&(this.__fixTouchEvent(b),this.__touchCountChange(b)),1>=c&&(this.__pinching&&(this.__pinching=!1,this._onEvent(b,"endpinch")),this.__l1MulTouchEvent=null),0==c&&(this.__dragging?(this._enddrag(b),this.__dragging=!1):b.timeStamp-this._l1Event.timeStamp<0.8*d0(b)&&this.__onclick(this._l1Event),this._onrelease(b));break;case"touchcancel":this.__dragging=!1,this.__pinching=!1,this.__l1MulTouchEvent=null}return !1},_handleEvent:function(b,a){if(aB(b)){return this._handleTouchEvent(b,a)}if("mousedown"==a){hT(b),ek(this),this._94=c6(b),this._l1Event||(this._l1Event=b,this._onstart(b)),this.__moancelClick=!1,this.__l1LongPress(b)}else{if("mouseup"==a){ek(),this._onrelease(b)}else{if("click"==a){if(this.__moancelClick){return !0}if(this._isDelayClick()){return this.__onclick(b),!0}}else{if("dblclick"==a){if(this._isDelayClick()){return !0}}else{if("contextmenu"==a){return this._onEvent(b,"oncontextmenu"),this._l1Event&&cN(b)&&ek(this),!0}if(a==km){var c=b.wheelDelta;if(c!==iC?c/=120:c=-b.detail,!c){return}return b.delta=c,this._onEvent(b,"onmousewheel")}}}}}return !1},_onEvent:function(b,a){if(this._handler){var c=this._handler;if(a=a||b.type,c instanceof Function){return c(b,a)}if(!(c.accept instanceof Function&&c.accept(a,b)===!1)){return c.onevent instanceof Function&&c.onevent(a,b,this._scope||this._lr),c[a] instanceof Function?c[a].call(c,b,this._scope||this._lr):void 0}}},_toQEvent:function(a){return a},_onWindowMouseUp:function(a){this.__dragging&&(iO(a),this.__dragging=!1,a=this._toQEvent(a),this._enddrag(a),this._onrelease(a),this._onEvent(a,"onmouseup"))},_l1DragDistance:4,_onWindowMouseMove:function(b){if(this._l1Event){if(iO(b),!this.__dragging){var a=this._l1Event.screenX-b.screenX,c=this._l1Event.screenY-b.screenY;if(a*a+c*c<this._l1DragDistance){return}this.__dragging=!0,this._l1drag(b)}this._ondrag(this._toQEvent(b))}},_isDelayClick:function(){return cX.DELAY_CLICK},__onclick:function(b){if(!this.__moancelClick){var a=d0(b);this.__molickTimer?this.__dblclicked||(clearTimeout(this.__molickTimer),this.__molickTimer=null,this._onEvent(b,"ondblclick"),this.__dblclicked=!0):(this.__dblclicked=!1,this.__molickTimer=setTimeout(function(c){this.__molickTimer=null,this.__dblclicked||this._onEvent(c,"onclick")}.bind(this,b,a),a))}},_onstart:function(a){a.button?this._onEvent(a,"onstart2"):this._onEvent(a,"onstart")},_onrelease:function(a){this._l1Event&&(this._moancelLongPressTimer(),a.button?this._onEvent(a,"onrelease2"):this._onEvent(a,"onrelease"),this._l1Event=null,this._94=null)},_mlppendDragInfo:function(b){var a=this._94;this._94=c6(b),this._dragPoints.add(a,this._94,b)},_l1drag:function(){this.__moancelClick=!0,this._moancelLongPressTimer(),this._l1Event.button?this._onEvent(this._l1Event,"startdrag2"):this._onEvent(this._l1Event,"startdrag")},_ondrag:function(a){this._mlppendDragInfo(a),this._l1Event.button?this._onEvent(a,"ondrag2"):this._onEvent(a,"ondrag")},_enddrag:function(b){if(b.timeStamp-this._94.timeStamp<100){var a=this._dragPoints.getCurrentSpeed();a&&(b.vx=a.x,b.vy=a.y)}this._l1Event.button?this._onEvent(b,"enddrag2"):this._onEvent(b,"enddrag"),this._dragPoints.clear()},_ig:function(){this._l0Status()},_l0Status:function(){dP._mourrentItem==this&&delete dP._mourrentItem,this._moancelLongPressTimer(),delete this._94,this._l1Event&&(delete this._l1Event.getData,delete this._l1Event.getUI,delete this._l1Event)}};var dP=jg(function(a){this._kr=a,dv.apply(this,[a.canvasPanel,null,a])},{"super":dv,_mgData:function(a){return this._kr.getElementByMouseEvent(a)},_le:function(a){return this._kr.getUIByMouseEvent(a)},_toQEvent:function(a){return(a instanceof MouseEvent||h0.TouchEvent&&a instanceof h0.TouchEvent)&&(a.getData=this._mgData.bind(this,a),a.getUI=this._le.bind(this,a)),a},_onElementRemoved:function(a){this._izListeners(function(b){b.onElementRemoved instanceof Function&&b.onElementRemoved(a,this._kr)})},_onElementClear:function(){this._izListeners(function(a){a.onClear instanceof Function&&a.onClear(this._kr)})},_ig:function(a){this._20s&&this._igInteractions(this._20s,a),this._moustomInteractionListeners&&this._igInteractions(this._moustomInteractionListeners,a),this._l0Status()},_kr:null,_20s:null,_moustomInteractionListeners:null,_mfInteraction:function(a){return this._20s==a?!1:(this._20s&&this._20s.length&&this._igInteractions(this._20s),void (this._20s=a))},_maCustomInteractionListener:function(a){this._moustomInteractionListeners||(this._moustomInteractionListeners=[]),this._moustomInteractionListeners.push(a)},_kkCustomInteractionListener:function(a){this._moustomInteractionListeners&&0!=this._moustomInteractionListeners.length&&h7(this._moustomInteractionListeners,a)},_onEvent:function(b,a,c){this._kr[a] instanceof Function&&this._kr[a].call(this._kr,b,c),this._20s&&this.__onEvent(b,a,this._20s,c),this._moustomInteractionListeners&&this.__onEvent(b,a,this._moustomInteractionListeners,c)},_izListeners:function(a){this._20s&&iz(this._20s,a,this),this._moustomInteractionListeners&&iz(this._moustomInteractionListeners,a,this)},__onEvent:function(b,a,f,g){if(!jt(f)){return void this.__handleEvent(b,a,f,g)}for(var d=0;d<f.length;d++){var c=f[d];this.__handleEvent(b,a,c,g)}},__handleEvent:function(b,a,d,f){if(!(d.accept instanceof Function&&d.accept(a,b,this._kr,f)===!1)){d.onevent instanceof Function&&d.onevent(a,b,this._kr,f);var c=d[a];c instanceof Function&&c.call(d,b,this._kr,f)}},_igInteraction:function(a){a.destroy instanceof Function&&a.destroy.call(a,this._kr)},_igInteractions:function(b,a){if(!jt(b)){return void this._igInteraction(b,a)}for(var c=0;c<b.length;c++){var d=b[c];d&&this._igInteraction(d,a)}}})}eN.prototype={limitCount:10,points:null,add:function(b,a,f){0==this.points.length&&(this._l1X=b.x,this._l1Y=b.y);var g=a.timeStamp-b.timeStamp||1;f.interval=g;var d=a.x-b.x,c=a.y-b.y;f.dx=d,f.dy=c,f.startX=this._l1X,f.startY=this._l1Y,f.totalDeltaX=a.x-this._l1X,f.totalDeltaY=a.y-this._l1Y,this.points.splice(0,0,{interval:g,dx:d,dy:c}),this.points.length>this.limitCount&&this.points.pop()},getCurrentSpeed:function(){if(!this.points.length){return null}for(var b=0,a=0,f=0,h=0,d=this.points.length;d>h;h++){var c=this.points[h],g=c.interval;if(g>150){b=0;break}if(b+=g,a+=c.dx,f+=c.dy,b>300){break}}return 0==b||0==a&&0==f?null:{x:a/b,y:f/b}},clear:function(){this.points=[]}};var hL,cf,iv,fJ;e9?(hL="-webkit-zoom-in",cf="-webkit-zoom-out",iv="-webkit-grab",fJ="-webkit-grabbing"):gY?(hL="-moz-zoom-in",cf="-moz-zoom-out",iv="-moz-grab",fJ="-moz-grabbing"):(hL="crosshair",cf="crosshair",iv="default",fJ="move");var bV="url(data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFVJREFUeNpi/P//PwMlgBGfAYyMIOn/jGQZANIMoskyAKYZGeAyiGgX4PIOSWGAzRBGUmMBw1CqGUBMlA1yA4gxhKhYwBnfpKQDqqREquRGYgBAgAEAD8h/4adTIzwAAAAASUVORK5CYII=) 8 8,crosshair",f4=Math.PI,hx=Math.pow,et=Math.sin,cR=1.70158,cq={swing:function(a){return -Math.cos(a*f4)/2+0.5},easeNone:function(a){return a},easeIn:function(a){return a*a},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return(a*=2)<1?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return(a*=2)<1?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(b){var a=0.3,c=a/4;return 0===b||1===b?b:-(hx(2,10*(b-=1))*et(2*(b-c)*f4/a))},elasticOut:function(b){var a=0.3,c=a/4;return 0===b||1===b?b:hx(2,-10*b)*et(2*(b-c)*f4/a)+1},elasticBoth:function(b){var a=0.45,c=a/4;return 0===b||2===(b*=2)?b:1>b?-0.5*hx(2,10*(b-=1))*et(2*(b-c)*f4/a):hx(2,-10*(b-=1))*et(2*(b-c)*f4/a)*0.5+1},backIn:function(a){return 1===a&&(a-=0.001),a*a*((cR+1)*a-cR)},backOut:function(a){return(a-=1)*a*((cR+1)*a+cR)+1},backBoth:function(a){return(a*=2)<1?0.5*a*a*(((cR*=1.525)+1)*a-cR):0.5*((a-=2)*a*(((cR*=1.525)+1)*a+cR)+2)},bounceIn:function(a){return 1-cq.bounceOut(1-a)},bounceOut:function(b){var a,c=7.5625;return a=1/2.75>b?c*b*b:2/2.75>b?c*(b-=1.5/2.75)*b+0.75:2.5/2.75>b?c*(b-=2.25/2.75)*b+0.9375:c*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(a){return 0.5>a?0.5*cq.bounceIn(2*a):0.5*cq.bounceOut(2*a-1)+0.5}},dT=function(a){this._je=a};dT.prototype={_je:null,_8n:function(){this._moallback instanceof Function&&(this._moallback(),this._moallback=null)},_l1:function(b){var a=Date.now();this._lq(),this._moallback=b,this._requestID=requestAnimationFrame(function c(){var d=Date.now(),e=d-a;return !e||this._je&&this._je(e)!==!1?(a=d,void (this._requestID=requestAnimationFrame(c.bind(this)))):void this._lq()}.bind(this))},_7h:function(){},_lq:function(){return this._requestID?(this._7h(),this._8n(),h0.cancelAnimationFrame(this._requestID),void delete this._requestID):!1},_e3:function(){return null!=this._requestID}};var j0=function(b,a,c,d){this._onStep=b,this._scope=a||this,this._3g=d,c&&c>0&&(this._in=c)};j0.prototype={_in:1000,_3g:null,_fj:0,_lq:function(){return this._fj=0,this._mog=0,jB(this,j0,"_lq")},_mog:0,_je:function(b){if(this._fj+=b,this._fj>=this._in){return this._onStep.call(this._scope,1,(1-this._mog)*this._in,b,this._in),!1}var a=this._fj/this._in;return this._3g&&(a=this._3g(a)),this._onStep.call(this._scope,a,(a-this._mog)*this._in,b,this._in)===!1?!1:void (this._mog=a)}},i2(j0,dT);var gw=function(a){hp(a)},e4={version:"0.0",extend:i2,doSuperConstructor:hX,doSuper:jB,createFunction:function(b,a){return a.bind(b)},setClass:i0,appendClass:i4,removeClass:ik,forEach:iz,forEachReverse:hY,isNumber:i6,isString:jA,isBoolean:jm,isArray:jt,eventPreventDefault:j1,eventStopPropagation:hT,stopEvent:iO,callLater:iX,nextFrame:jv,forEachChild:ib,forEachByDepthFirst:h2,forEachByDepthFirstReverse:iw,forEachByBreadthFirst:hZ,randomInt:ip,randomBool:jj,randomColor:iQ,addEventListener:bf,getFirstElementChildByTagName:hH};e4.isTouchSupport=jR,e4.isIOS=jD,e4.intersectsPoint=dN,e4.containsRect=jU,e4.Rect=fU,e4.Size=bN,e4.Point=b9,e4.Insets=hf,e4.Event=h6,e4.PropertyChangeEvent=gV,e4.ListEvent=aM,e4.Handler=dm,e4.Dispatcher=j8,e4.Position=d7,e4.Data=cv,e4.SelectionModel=e0,e4.DataModel=iY,e4.IListener=gq,e4.loadURL=cA,e4.loadXML=gx,e4.loadJSON=aP,e4.isMetaKey=kc,e4.calculateDistance=ig,e4.HashList=c2,e4.DragSupport=dv,e4.alert=function(a){alert(a)},e4.prompt=function(b,a,d,f){var c=prompt(b,a);return c!=a&&d?d.call(f,c):c},e4.confirm=function(b,a,c){var d=confirm(b);return d&&a?a.call(c):d},e4.addCSSRule=aY;var aF={IMAGE_ADJUST_FLIP:"flip",IMAGE_ADJUST_MIRROR:"mirror",SELECTION_TYPE_BORDER_RECT:"border.rect",SELECTION_TYPE_BORDER:"border",SELECTION_TYPE_SHADOW:"shadow",NS_SVG:"http://www.w3.org/2000/svg",PROPERTY_TYPE_ACCESSOR:0,PROPERTY_TYPE_STYLE:1,PROPERTY_TYPE_CLIENT:2,EDGE_TYPE_DEFAULT:null,EDGE_TYPE_ELBOW:"elbow",EDGE_TYPE_ELBOW_HORIZONTAL:"elbow.H",EDGE_TYPE_ELBOW_VERTICAL:"elbow.V",EDGE_TYPE_ORTHOGONAL:"orthogonal",EDGE_TYPE_ORTHOGONAL_HORIZONTAL:"orthogonal.H",EDGE_TYPE_ORTHOGONAL_VERTICAL:"orthogonal.V",EDGE_TYPE_HORIZONTAL_VERTICAL:"orthogonal.H.V",EDGE_TYPE_VERTICAL_HORIZONTAL:"orthogonal.V.H",EDGE_TYPE_EXTEND_TOP:"extend.top",EDGE_TYPE_EXTEND_LEFT:"extend.left",EDGE_TYPE_EXTEND_BOTTOM:"extend.bottom",EDGE_TYPE_EXTEND_RIGHT:"extend.right",EDGE_TYPE_ZIGZAG:"zigzag",EDGE_CORNER_NONE:"none",EDGE_CORNER_ROUND:"round",EDGE_CORNER_BEVEL:"bevel",GROUP_TYPE_RECT:"rect",GROUP_TYPE_CIRCLE:"circle",GROUP_TYPE_ELLIPSE:"ELLIPSE",SHAPE_CIRCLE:"oval",SHAPE_RECT:"rect",SHAPE_ROUNDRECT:"roundrect",SHAPE_STAR:"star",SHAPE_TRIANGLE:"triangle",SHAPE_HEXAGON:"hexagon",SHAPE_PENTAGON:"pentagon",SHAPE_TRAPEZIUM:"trapezium",SHAPE_RHOMBUS:"rhombus",SHAPE_PARALLELOGRAM:"parallelogram",SHAPE_HEART:"heart",SHAPE_DIAMOND:"diamond",SHAPE_CROSS:"cross",SHAPE_ARROW_STANDARD:"arrow.standard",SHAPE_ARROW_1:"arrow.1",SHAPE_ARROW_2:"arrow.2",SHAPE_ARROW_3:"arrow.3",SHAPE_ARROW_4:"arrow.4",SHAPE_ARROW_5:"arrow.5",SHAPE_ARROW_6:"arrow.6",SHAPE_ARROW_7:"arrow.7",SHAPE_ARROW_8:"arrow.8",SHAPE_ARROW_OPEN:"arrow.open"};aF.LINE_CAP_TYPE_BUTT="butt",aF.LINE_CAP_TYPE_ROUND="round",aF.LINE_CAP_TYPE_SQUARE="square",aF.LINE_JOIN_TYPE_BEVEL="bevel",aF.LINE_JOIN_TYPE_ROUND="round",aF.LINE_JOIN_TYPE_MITER="miter",cX.SELECTION_TYPE=aF.SELECTION_TYPE_SHADOW,cX.SELECTION_TOLERANCE=bX?8:3,cX.SELECTION_BORDER=2,cX.SELECTION_SHADOW_BLUR=7,cX.SELECTION_COLOR=iR(3422561023),cX.SELECTION_TYPE=aF.SELECTION_TYPE_SHADOW,cX.BORDER_RADIUS=10,cX.POINTER_WIDTH=10,cX.ARROW_SIZE=10,cX.IMAGE_MAX_SIZE=200,cX.LINE_HEIGHT=1.2;var bD=h0.devicePixelRatio||1;1>bD&&(bD=1);var iF;e4.createCanvas=bk;var hP=kg&&!jR,g6=9,gO=function(b,a,f,g){var d=b-f,c=a-g;return d*d+c*c};fO.prototype={equals:function(a){return this.cx==a.cx&&this.cy==a.cy&&this.r==a.r}},fO._moreateCircle=function(l,f,j){if(!j){return ct(l,f)}var d=gO(l.x,l.y,f.x,f.y),b=gO(l.x,l.y,j.x,j.y),m=gO(j.x,j.y,f.x,f.y);if(d+bd>=b+m){return ct(l,f,0,j)}if(b+bd>=d+m){return ct(l,j,0,f)}if(m+bd>=d+b){return ct(f,j,0,l)}var c;Math.abs(j.y-f.y)<0.0001&&(c=l,l=f,f=c),c=j.x*(l.y-f.y)+l.x*(f.y-j.y)+f.x*(-l.y+j.y);var k=(j.x*j.x*(l.y-f.y)+(l.x*l.x+(l.y-f.y)*(l.y-j.y))*(f.y-j.y)+f.x*f.x*(-l.y+j.y))/(2*c),g=(f.y+j.y)/2-(j.x-f.x)/(j.y-f.y)*(k-(f.x+j.x)/2);return new fO(k,g,ig(k,g,l.x,l.y),l,f,j)};var bd=0.01,a3={_mmy:function(v,g,e,b,w){if(jA(v)&&(v=d7.fromString(v)),!v){return{x:0,y:0}}var d=0,m=0,j=g._jf;if(e=e||0,v.x===iC){var f=v.horizontalPosition,p=v.verticalPosition,q=!0;switch(f){case dI:q=!1;break;case b6:d+=j/2}switch(p){case jN:m-=e/2;break;case eT:m+=e/2}}else{d=v.x,m=v.y,Math.abs(d)>0&&Math.abs(d)<1&&(d*=j)}w&&null!=b&&(m+=b.y,d+=Math.abs(b.x)<1?b.x*j:b.x);var k=jY.call(g,d,m,q);return k?(w||null==b||k.offset(b),k):{x:0,y:0}},_lh:function(b,a){var c=a.type,d=a.points;switch(c){case fN:b.arcTo(d[0],d[1],d[2],d[3],a._r);break;case aL:b.moveTo(d[0],d[1]);break;case ej:b.lineTo(d[0],d[1]);break;case jT:b.quadraticCurveTo(d[0],d[1],d[2],d[3]);break;case cW:b.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5]);break;case j7:b.closePath()}},_5l:function(b,a,f,h){var d=a.type;if(d!=aL&&d!=j7){var c=f.lastPoint,g=a.points;switch(f.type==aL&&b.add(c.x,c.y),d){case fN:aD(a,c.x,c.y,g[0],g[1],g[2],g[3],g[4]),b.add(g[0],g[1]),b.add(a._p1x,a._p1y),b.add(a._p2x,a._p2y),a.$boundaryPoint1&&b.add(a.$boundaryPoint1.x,a.$boundaryPoint1.y),a.$boundaryPoint2&&b.add(a.$boundaryPoint2.x,a.$boundaryPoint2.y);break;case ej:b.add(g[0],g[1]);break;case jT:cS([c.x,c.y].concat(g),b);break;case cW:c4([c.x,c.y].concat(g),b);break;case j7:h&&b.add(h.points[0],h.points[1])}}},_5n:function(b,a,f){var h=b.type;if(h==aL){return 0}var d=a.lastPoint,c=b.points;switch(h==cW&&4==c.length&&(h=jT),h){case ej:return ig(c[0],c[1],d.x,d.y);case fN:return b._jf;case jT:var g=j2([d.x,d.y].concat(c));return b._lf=g,g(1);case cW:var g=dU([d.x,d.y].concat(c));return b._lf=g,g(1)||dc([d.x,d.y].concat(c));case j7:if(d&&f){return b.points=f.points,ig(f.points[0],f.points[1],d.x,d.y)}}return 0}},eM=/^data:image\/(\w+);base64,/i,dB=/^gif/i,kk=/^svg/i,eQ=10,gA=11,aU=12,cF=20,hC=30;cX.IMAGE_WIDTH=50,cX.IMAGE_HEIGHT=30,cX.MAX_CACHE_PIXELS=1000000;var jw=1,e8=2,jF=3;gM.prototype={_jt:0,_63:!0,_l6:null,_jg:null,_lg:null,_lt:null,_mld:iC,_96:iC,_6y:function(){return this._jt==jw},getBounds:function(a){return this._lt==hC?this._lg.getBounds(a):(this._63&&this._fq(),this)},validate:function(){this._63&&this._fq()},_fq:function(){if(this._63=!1,this._lt==hC){return this._lg.validate(),void this.setByRect(this._lg.bounds)}if(this._lt==cF){return void this._9b()}if(this._jt!=jw){try{this._ff()}catch(a){this._jt=jF,e4.error(a)}}},_4y:function(){this._f9(),this._dispatcher.clear(),delete this._dispatcher},_i7:function(a){this._l6&&this._l6.parentNode&&this._l6.parentNode.removeChild(this._l6),this._jt=jF,e4.error("Image load error - "+this._lg),this._pixels=null,this._jg=null,this._l6=null,a!==!1&&this._4y()},_ff:function(){var a=this._lg;if(this._jt=jw,this._dispatcher=new j8,this._lt==aU){for(var b in bR){this[b]=bR[b]}return void c8(this._lg,this,this._mou,this._i7,this._fc)}this._l6||(this._l6=iu.createElement("img"),bb&&(this._l6.style.visibility="hidden",iu.body.appendChild(this._l6))),this._l6.src=a,this._l6.width&&(this.width=this._l6.width,this.height=this._l6.height),this._l6.onload=bb?function(c){setTimeout(this._7z.bind(this,c),100)}.bind(this):this._7z.bind(this),this._l6.onerror=this._i7.bind(this)},_7z:function(){this._jt=e8;var b=this._l6.width,a=this._l6.height;if(this._l6.parentNode&&this._l6.parentNode.removeChild(this._l6),!b||!a){return void this._i7()}this.width=b,this.height=a;var d=this._fd();try{d.width=b,d.height=a,d.g.drawImage(this._l6,0,0,b,a),this._pixels=bb&&this._lt==gA?null:gz(d),this._4y()}catch(c){console.log(c)}},_9b:function(){var b=this._lg;if(!(b.draw instanceof Function)){return void this._i7(!1)}if(b.cacheable===!1&&b.width&&b.height){return this.width=b.width,void (this.height=b.height)}var a=b.width||cX.IMAGE_MAX_SIZE,f=b.height||cX.IMAGE_MAX_SIZE,h=this._fd();h.width=a,h.height=f;var d=h.g;b.draw(d);var c=b0(d,0,0,a,f);if(c){var g=cC(c.data,a,f);this.x=g._x,this.y=g._y,this.width=g._width,this.height=g._height,h.width=this.width,h.height=this.height,d.putImageData(c,-this.x,-this.y),this._pixels=g}},_fd:function(){return this._jg||(this._jg=bk())},_6e:function(b,a,f,h,d,c){a.save(),a.rect(0,0,h,d),a.fillStyle=c||"#CCC",a.fill(),a.clip(),a.textAlign="center",a.textBaseline="middle",a.fillStyle="#888";var g=6*(a.canvas.ratio||1);a.font="normal "+g+"px Verdana,helvetica,arial,sans-serif",a.strokeStyle="#FFF",a.lineWidth=1,a.strokeText(b,h/2+0.5,d/2+0.5),a.strokeStyle="#000",a.strokeText(b,h/2-0.5,d/2-0.5),a.fillText(b,h/2,d/2),a.restore()},draw:function(l,f,j,d,b,m){if(this.width&&this.height){f=f||1,d=d||1,b=b||1;var c=this.width*d,k=this.height*b;if(m&&j.shadowColor&&(l.shadowColor=j.shadowColor,l.shadowBlur=(j.shadowBlur||0)*f,l.shadowOffsetX=(j.shadowOffsetX||0)*f,l.shadowOffsetY=(j.shadowOffsetY||0)*f),this._jt==jw){return this._6e("Loading...",l,f,c,k,j.renderColor)}if(this._jt==jF){return this._6e("Error...",l,f,c,k,j.renderColor)}if(this._lt==hC){return l.scale(d,b),void this._lg.draw(l,f,j)}var g=this._fn(f,d,b);return g?((this.x||this.y)&&l.translate(this.x*d,this.y*b),l.scale(d/g.scale,b/g.scale),void g._lh(l,j.renderColor,j.renderColorBlendMode)):void this._jm(l,f,d,b,this.width*d,this.height*b,j)}},_jm:function(b,a,g,j,f,c,h){if(this._lt==cF){return 1!=g&&1!=j&&b.scale(g,j),void this._lg.draw(b,h)}if(this._l6){try{if(!bT){return void b.drawImage(this._l6,0,0,f,c)}var g=a*f/this.width,j=a*c/this.height;b.scale(1/g,1/j),b.drawImage(this._l6,0,0,f*g,c*j)}catch(d){console.log(d)}}},_ji:null,_fn:function(l,f,j){if(this._lt==cF&&this._lg.cacheable===!1){return null}if(this._lt==eQ||(l*=Math.max(f,j))<=1){return this._defaultCache||(this._defaultCache=this._gd(this._jg||this._l6,1)),this._defaultCache}var d=this._ji.maxScale||0;if(l=Math.ceil(l),d>=l){for(var b=l,m=this._ji[b];!m&&++b<=d;){m=this._ji[b]}if(m){return m}}l%2&&l++;var c=this.width*l,k=this.height*l;if(c*k>cX.MAX_CACHE_PIXELS){return null}var g=bk(c,k);return(this.x||this.y)&&g.g.translate(-this.x*l,-this.y*l),this._jm(g.g,1,l,l,c,k),this._gd(g,l)},_gd:function(b,a){var c=new dg(b,a);return this._ji[a]=c,this._ji.maxScale=a,c},hitTest:function(b,a,c){if(this._lt==hC){return this._lg.hitTest.apply(this._lg,arguments)}if(!(this._pixels||this._l6&&this._l6._pixels)){return !0}var d=this._pixels||this._l6._pixels;return d._ih(b,a,c)},_f9:function(){this._dispatcher&&this._dispatcher.onEvent(new h6(this,"image","load",this._l6))},_mlo:function(b,a){this._dispatcher&&this._dispatcher.addListener(b,a)},_6b:function(b,a){this._dispatcher&&this._dispatcher.removeListener(b,a)},_moj:function(a){this._ji={},(a||this.width*this.height>100000)&&(this._l6=null,this._jg=null)}},i2(gM,fU);var ay={};e4.drawImage=kf,e4.registerImage=a9,e4.hasImage=eK,e4.getAllImages=function(){var b=[];for(var a in ay){b.push(a)}return b};var bM=function(b,a,f,g,d,c){this.type=b,this.colors=a,this.positions=f,this.angle=g||0,this.tx=d||0,this.ty=c||0};aF.GRADIENT_TYPE_RADIAL="r",aF.GRADIENT_TYPE_LINEAR="l",bM.prototype={type:null,colors:null,positions:null,angle:null,tx:0,ty:0,position:d7.CENTER_MIDDLE,isEmpty:function(){return null==this.colors||0==this.colors.length},_65:function(){var b=this.colors.length;if(1==b){return[0]}for(var a=[],c=1/(b-1),d=0;b>d;d++){a.push(c*d)}return this.positions||(this.positions=a),a},generatorGradient:function(w){if(null==this.colors||0==this.colors.length){return null}var G,K=f5();if(this.type==aF.GRADIENT_TYPE_LINEAR){var C=this.angle;C>Math.PI&&(C-=Math.PI);var z;if(C<=Math.PI/2){var x=Math.atan2(w.height,w.width),B=Math.sqrt(w.width*w.width+w.height*w.height),N=x-C;z=Math.cos(N)*B}else{var x=Math.atan2(w.width,w.height),B=Math.sqrt(w.width*w.width+w.height*w.height),N=x-(C-Math.PI/2);z=Math.cos(N)*B}var H=z/2,F=H*Math.cos(C),O=H*Math.sin(C),k=w.x+w.width/2-F,M=w.y+w.height/2-O,L=w.x+w.width/2+F,J=w.y+w.height/2+O;G=K.createLinearGradient(k,M,L,J)}else{if(!(this.type=aF.GRADIENT_TYPE_RADIAL)){return null}var I=eY(this.position,w.width,w.height);I.x+=w.x,I.y+=w.y,this.tx&&(I.x+=Math.abs(this.tx)<1?w.width*this.tx:this.tx),this.ty&&(I.y+=Math.abs(this.ty)<1?w.height*this.ty:this.ty);var j=ig(I.x,I.y,w.x,w.y);j=Math.max(j,ig(I.x,I.y,w.x,w.y+w.height)),j=Math.max(j,ig(I.x,I.y,w.x+w.width,w.y+w.height)),j=Math.max(j,ig(I.x,I.y,w.x+w.width,w.y)),G=K.createRadialGradient(I.x,I.y,0,I.x,I.y,j)}var q=this.colors,D=this.positions;D&&D.length==q.length||(D=this._65());for(var A=0,b=q.length;b>A;A++){G.addColorStop(D[A],q[A])}return G}};var fz=new bM(aF.GRADIENT_TYPE_LINEAR,[iR(2332033023),iR(1154272460),iR(1154272460),iR(1442840575)],[0.1,0.3,0.7,0.9],Math.PI/2),bu=new bM(aF.GRADIENT_TYPE_LINEAR,[iR(2332033023),iR(1154272460),iR(1154272460),iR(1442840575)],[0.1,0.3,0.7,0.9],0),f9=(new bM(aF.GRADIENT_TYPE_LINEAR,[iR(1154272460),iR(1442840575)],[0.1,0.9],0),new bM(aF.GRADIENT_TYPE_RADIAL,[iR(2298478591),iR(1156509422),iR(1720223880),iR(1147561574)],[0.1,0.3,0.7,0.9],0,-0.3,-0.3)),gS=[iR(0),iR(4294901760),iR(4294967040),iR(4278255360),iR(4278250239),iR(4278190992),iR(4294901958),iR(0)],fv=[0,0.12,0.28,0.45,0.6,0.75,0.8,1],hb=new bM(aF.GRADIENT_TYPE_LINEAR,gS,fv),b5=new bM(aF.GRADIENT_TYPE_LINEAR,gS,fv,Math.PI/2),ac=new bM(aF.GRADIENT_TYPE_RADIAL,gS,fv);bM.LINEAR_GRADIENT_VERTICAL=fz,bM.LINEAR_GRADIENT_HORIZONTAL=bu,bM.RADIAL_GRADIENT=f9,bM.RAINBOW_LINEAR_GRADIENT=hb,bM.RAINBOW_LINEAR_GRADIENT_VERTICAL=b5,bM.RAINBOW_RADIAL_GRADIENT=ac;var aL="m",ej="l",jT="q",cW="c",fN="a",j7="z";aF.SEGMENT_MOVE_TO=aL,aF.SEGMENT_LINE_TO=ej,aF.SEGMENT_QUAD_TO=jT,aF.SEGMENT_CURVE_TO=cW,aF.SEGMENT_ARC_TO=fN,aF.SEGMENT_CLOSE=j7;var ey=function(b,a){this.id=++kw,jt(b)?this.points=b:(this.type=b,this.points=a)};ey.prototype={toJSON:function(){var a={type:this.type,points:this.points};return this.invalidTerminal&&(a.invalidTerminal=!0),a},parseJSON:function(a){this.type=a.type,this.points=a.points,this.invalidTerminal=a.invalidTerminal},points:null,type:ej,clone:function(){return new ey(this.type,this.points?ju(this.points):null)},move:function(b,a){if(this.points){for(var d=0,f=this.points.length;f>d;d++){var c=this.points[d];e4.isNumber(c)&&(this.points[d]+=d%2==0?b:a)}}}},iN(ey.prototype,{lastPoint:{get:function(){return this.type==fN?{x:this._p2x,y:this._p2y}:{x:this.points[this.points.length-2],y:this.points[this.points.length-1]}}},firstPoint:{get:function(){return{x:this.points[0],y:this.points[1]}}}}),e4.PathSegment=ey;var dF=0,db=function(a){this.bounds=new fU,this._fm=a||[]};db.prototype={toJSON:function(){var a=[];return this._fm.forEach(function(b){a.push(b.toJSON())}),a},parseJSON:function(b){var a=this._fm;b.forEach(function(c){a.push(new ey(c.type,c.points))})},clear:function(){this._fm.length=0,this.bounds.clear(),this._jf=0,this._63=!0},_dq:!0,_7m:function(b,a){this._dq&&0===this._fm.length&&b!=aL&&this._fm.push(new ey(aL,[0,0])),this._fm.push(new ey(b,a)),this._63=!0},add:function(a){this._fm.push(a),this._63=!0},removePathSegment:function(a){return a>=this._fm.length?!1:(this._fm.splice(a,1),void (this._63=!0))},moveTo:function(b,a){this._7m(aL,[b,a])},lineTo:function(b,a){this._7m(ej,[b,a])},quadTo:function(b,a,c,d){this._7m(jT,[b,a,c,d])},curveTo:function(b,a,f,g,d,c){this._7m(cW,[b,a,f,g,d,c])},arcTo:function(b,a,d,f,c){this._7m(fN,[b,a,d,f,c])},closePath:function(){this._7m(j7)},_7u:function(b,a,f,g,d){if(g.selectionColor){if(f==aF.SELECTION_TYPE_SHADOW){if(!g.selectionShadowBlur){return}return b.shadowColor=g.selectionColor,b.shadowBlur=g.selectionShadowBlur*a,b.shadowOffsetX=(g.selectionShadowOffsetX||0)*a,void (b.shadowOffsetY=(g.selectionShadowOffsetY||0)*a)}if(f==aF.SELECTION_TYPE_BORDER){if(!g.selectionBorder){return}b.strokeStyle=g.selectionColor;var c=d.lineWidth||0;d.outline&&(c+=2*d.outline),b.lineWidth=g.selectionBorder+c,this._lh(b),b.stroke()}}},_63:!0,_fm:null,_jf:0,lineCap:"butt",lineJoin:"round",draw:function(b,a,f,g,d){b.lineCap=f.lineCap||this.lineCap,b.lineJoin=f.lineJoin||this.lineJoin,g&&(d||(d=f),this._7u(b,a,d.selectionType,d,f));var c=g&&d.selectionType==aF.SELECTION_TYPE_SHADOW;f.outlineStyle&&(this._lh(b),b.lineWidth=f.lineWidth+2*(f.outline||0),b.strokeStyle=f.outlineStyle,b.stroke(),c&&(c=!1,b.shadowColor="rgba(0,0,0,0)")),b.lineWidth=0,this._lh(b),f.fillColor&&(b.fillStyle=f.renderColor||f.fillColor,b.fill()),f.fillGradient&&(b.fillStyle=f._fillGradient||f.fillGradient,b.fill()),f.lineWidth&&(b.lineWidth=f.lineWidth,f.lineDash&&(f.lineFillColor&&(b.strokeStyle=f.lineFillColor,b.stroke(),c&&(b.shadowColor="rgba(0,0,0,0)")),b.lineCap=f.lineDashCap||b.lineCap,b.lineJoin=f.lineDashJoin||b.lineJoin,b.lineDash=f.lineDash,b.lineDashOffset=f.lineDashOffset),b.strokeStyle=f.renderColor||f.strokeStyle,b.stroke(),b.lineDash=[])},_lh:function(b){b.beginPath();for(var a,d,f=0,c=this._fm.length;c>f;f++){a=this._fm[f],a3._lh(b,a,d),d=a}},invalidate:function(){this._63=!0},validate:function(){if(this._63=!1,this.bounds.clear(),this._jf=0,0!=this._fm.length){for(var b,a,f=this._fm,h=1,d=f[0],c=d,g=f.length;g>h;h++){b=f[h],b.type==aL?c=b:(a3._5l(this.bounds,b,d,c),a=a3._5n(b,d,c),b._jf=a,this._jf+=a),d=b}}},getBounds:function(b,a){if(this._63&&this.validate(),a=a||new fU,b){var c=b/2;a.set(this.bounds.x-c,this.bounds.y-c,this.bounds.width+b,this.bounds.height+b)}else{a.set(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height)}return a},hitTest:function(b,a,f,g,d,c){return dR.call(this,b,a,f,g,d,c)},toSegments:function(){return[].concat(this._fm)},generator:function(b,a,d,f,c){return cj.call(this,b,a,d,f,c)},getLocation:function(b,a){return jY.call(this,b,a||0)}},iN(db.prototype,{segments:{get:function(){return this._fm},set:function(a){this.clear(),this._fm=a}},length:{get:function(){return this._63&&this.validate(),this._jf}},_empty:{get:function(){return 0==this._fm.length}}}),aR.prototype={_13:function(p,g){var k,d,b,q,c,m=p.length,j=0,f=0;for(c=0;m>c;c+=4){if(p[c+3]>0){k=(c+4)/g/4|0;break}}for(c=m-4;c>=0;c-=4){if(p[c+3]>0){d=(c+4)/g/4|0;break}}for(j=0;g>j;j++){for(f=k;d>f;f++){if(p[f*g*4+4*j+3]>0){b=j;break}}if(b>=0){break}}for(j=g-1;j>=0;j--){for(f=k;d>f;f++){if(p[f*g*4+4*j+3]>0){q=j;break}}if(q>=0){break}}this._x=b,this._y=k,this._width=q-b+1,this._height=d-k+1,this._js=new fU(b,k,this._width,this._height),this._pixelSize=this._width*this._height,this._originalPixelsWidth=g,this._originalPixels=p},_e5:function(b,a){return this._originalPixels[4*(b+this._x+(this._y+a)*this._originalPixelsWidth)+3]},_ih:function(b,a,d){(!d||1>=d)&&(d=1),d=0|d,b=Math.round(b-this._x)-d,a=Math.round(a-this._y)-d,d+=d;for(var f=b,c=a;a+d>c;){for(var f=b;b+d>f;){if(this._e5(f,c)){return !0}++f}++c}return !1}},aF.BLEND_MODE_DARKEN="darken",aF.BLEND_MODE_MULTIPLY="multiply",aF.BLEND_MODE_COLOR_BURN="color.burn",aF.BLEND_MODE_LINEAR_BURN="linear.burn",aF.BLEND_MODE_LIGHTEN="lighten",aF.BLEND_MODE_SCREEN="screen",aF.BLEND_MODE_GRAY="gray",cX.BLEND_MODE=aF.BLEND_MODE_LINEAR_BURN;var dg=function(b,a,c){this._jg=b,this.scale=a||1,b instanceof Image&&(c=!1),this._iq=c};dg.prototype={scale:1,_jg:null,_ji:null,_iq:!0,_lh:function(b,a,g){try{if(!a||this._iq===!1){return void b.drawImage(this._jg,0,0)}this._ji||(this._ji={});var h=a+g,f=this._ji[h];if(f||(f=e7(this._jg,a,g),f||(this._iq=!1),this._ji[h]=f||this._jg),f){if(bb){try{b.drawImage(f,0,0)}catch(c){}}else{b.drawImage(f,0,0)}}}catch(d){console.log(d)}}};var dZ=function(l,f,j,d,b,m,c,k,g){this._m6=fy(l,f,j,d,b,m,c,k,g)},hU={server:{draw:function(b){b.save(),b.translate(0,0),b.beginPath(),b.moveTo(0,0),b.lineTo(40,0),b.lineTo(40,40),b.lineTo(0,40),b.closePath(),b.clip(),b.translate(0,0),b.translate(0,0),b.scale(1,1),b.translate(0,0),b.strokeStyle="rgba(0,0,0,0)",b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,b.save(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save();var a=b.createLinearGradient(6.75,3.9033,30.5914,27.7447);a.addColorStop(0.0493,"#1C6B9D"),a.addColorStop(0.0689,"#186493"),a.addColorStop(0.0939,"#145E8B"),a.addColorStop(0.129,"#115B87"),a.addColorStop(0.2266,"#115A85"),a.addColorStop(0.2556,"#125C89"),a.addColorStop(0.2869,"#176291"),a.addColorStop(0.3194,"#1D6C9F"),a.addColorStop(0.3525,"#2479B0"),a.addColorStop(0.3695,"#2881BB"),a.addColorStop(0.5025,"#1F6FA2"),a.addColorStop(0.9212,"#115A86"),a.addColorStop(1,"#004063"),b.fillStyle=a,b.beginPath(),b.moveTo(25.677,4.113),b.bezierCurveTo(25.361,2.4410000000000007,23.364,2.7940000000000005,22.14,2.7990000000000004),b.bezierCurveTo(19.261,2.813,16.381,2.8260000000000005,13.502,2.8400000000000003),b.bezierCurveTo(12.185,2.846,10.699000000000002,2.652,9.393,2.8790000000000004),b.bezierCurveTo(9.19,2.897,8.977,2.989,8.805,3.094),b.bezierCurveTo(8.084999999999999,3.5109999999999997,7.436999999999999,4.1259999999999994,6.776,4.63),b.bezierCurveTo(5.718999999999999,5.436,4.641,6.22,3.6029999999999998,7.05),b.bezierCurveTo(4.207,6.5889999999999995,21.601999999999997,36.579,21.028,37.307),b.bezierCurveTo(22.019,36.063,23.009999999999998,34.819,24.000999999999998,33.575),b.bezierCurveTo(24.587999999999997,32.84,25.589999999999996,31.995000000000005,25.593999999999998,30.983000000000004),b.bezierCurveTo(25.595999999999997,30.489000000000004,25.598,29.994000000000003,25.601,29.500000000000004),b.bezierCurveTo(25.612,26.950000000000003,25.622,24.400000000000006,25.633,21.85),b.bezierCurveTo(25.657,16.318,25.680999999999997,10.786000000000001,25.704,5.253),b.bezierCurveTo(25.706,4.885,25.749,4.478,25.677,4.113),b.bezierCurveTo(25.67,4.077,25.697,4.217,25.677,4.113),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.fillStyle="#2e8ece",b.beginPath(),b.moveTo(19.763,6.645),b.bezierCurveTo(20.002000000000002,6.643999999999999,20.23,6.691999999999999,20.437,6.778),b.bezierCurveTo(20.644000000000002,6.864999999999999,20.830000000000002,6.991,20.985,7.146999999999999),b.bezierCurveTo(21.14,7.302999999999999,21.266,7.488999999999999,21.352999999999998,7.696999999999999),b.bezierCurveTo(21.438999999999997,7.903999999999999,21.487,8.133,21.487,8.372),b.lineTo(21.398,36.253),b.bezierCurveTo(21.397,36.489,21.349,36.713,21.262,36.917),b.bezierCurveTo(21.174,37.121,21.048000000000002,37.305,20.893,37.458),b.bezierCurveTo(20.738,37.611,20.553,37.734,20.348,37.818999999999996),b.bezierCurveTo(20.141,37.903999999999996,19.916,37.95099999999999,19.679,37.949),b.lineTo(4.675,37.877),b.bezierCurveTo(4.4399999999999995,37.876000000000005,4.216,37.827000000000005,4.012,37.741),b.bezierCurveTo(3.8089999999999997,37.653999999999996,3.6249999999999996,37.528999999999996,3.4719999999999995,37.376),b.bezierCurveTo(3.3179999999999996,37.221,3.1939999999999995,37.037,3.1079999999999997,36.833999999999996),b.bezierCurveTo(3.022,36.629999999999995,2.9739999999999998,36.406,2.9739999999999998,36.172),b.lineTo(2.924,8.431),b.bezierCurveTo(2.923,8.192,2.971,7.964,3.057,7.758),b.bezierCurveTo(3.143,7.552,3.267,7.365,3.4219999999999997,7.209),b.bezierCurveTo(3.5769999999999995,7.052999999999999,3.76,6.925,3.965,6.837),b.bezierCurveTo(4.17,6.749,4.396,6.701,4.633,6.7),b.lineTo(19.763,6.645),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.fillStyle="#efefef",b.beginPath(),b.arc(12.208,26.543,2.208,0,6.283185307179586,!0),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#2e8ece",b.beginPath(),b.arc(12.208,26.543,1.876,0,6.283185307179586,!0),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#efefef",b.beginPath(),b.moveTo(19.377,17.247),b.bezierCurveTo(19.377,17.724,18.991999999999997,18.108999999999998,18.516,18.108999999999998),b.lineTo(5.882,18.108999999999998),b.bezierCurveTo(5.404999999999999,18.108999999999998,5.02,17.723,5.02,17.247),b.lineTo(5.02,11.144),b.bezierCurveTo(5.02,10.666,5.406,10.281,5.882,10.281),b.lineTo(18.516,10.281),b.bezierCurveTo(18.993,10.281,19.377,10.666,19.377,11.144),b.lineTo(19.377,17.247),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.fillStyle="#2e8ece",b.beginPath(),b.moveTo(18.536,13.176),b.bezierCurveTo(18.536,13.518,18.261000000000003,13.794,17.919,13.794),b.lineTo(6.479,13.794),b.bezierCurveTo(6.1370000000000005,13.794,5.861,13.518,5.861,13.176),b.lineTo(5.861,11.84),b.bezierCurveTo(5.861,11.498,6.137,11.221,6.479,11.221),b.lineTo(17.918,11.221),b.bezierCurveTo(18.259999999999998,11.221,18.535,11.497,18.535,11.84),b.lineTo(18.535,13.176),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#2e8ece",b.beginPath(),b.moveTo(18.536,16.551),b.bezierCurveTo(18.536,16.892999999999997,18.261000000000003,17.168999999999997,17.919,17.168999999999997),b.lineTo(6.479,17.168999999999997),b.bezierCurveTo(6.1370000000000005,17.168999999999997,5.861,16.892999999999997,5.861,16.551),b.lineTo(5.861,15.215999999999998),b.bezierCurveTo(5.861,14.872999999999998,6.137,14.596999999999998,6.479,14.596999999999998),b.lineTo(17.918,14.596999999999998),b.bezierCurveTo(18.259999999999998,14.596999999999998,18.535,14.872999999999998,18.535,15.215999999999998),b.lineTo(18.535,16.551),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.restore()}},exchanger2:{draw:function(b){b.save(),b.translate(0,0),b.beginPath(),b.moveTo(0,0),b.lineTo(40,0),b.lineTo(40,40),b.lineTo(0,40),b.closePath(),b.clip(),b.translate(0,0),b.translate(0,0),b.scale(1,1),b.translate(0,0),b.strokeStyle="rgba(0,0,0,0)",b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,b.save(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save();var a=b.createLinearGradient(0.4102,24.3613,39.5898,24.3613);a.addColorStop(0,"#1C6B9D"),a.addColorStop(0.0788,"#115A85"),a.addColorStop(0.2046,"#135D89"),a.addColorStop(0.3649,"#186494"),a.addColorStop(0.5432,"#1F70A4"),a.addColorStop(0.6798,"#257AB2"),a.addColorStop(0.7462,"#2377AD"),a.addColorStop(0.8508,"#1E6DA0"),a.addColorStop(0.98,"#125C89"),a.addColorStop(1,"#105984"),b.fillStyle=a,b.beginPath(),b.moveTo(0.41,16.649),b.bezierCurveTo(0.633,19.767,0.871,20.689,1.094,23.807000000000002),b.bezierCurveTo(1.29,26.548000000000002,3.324,28.415000000000003,5.807,29.711000000000002),b.bezierCurveTo(10.582,32.202000000000005,16.477,32.806000000000004,21.875999999999998,32.523),b.bezierCurveTo(26.929,32.258,32.806,31.197000000000003,36.709999999999994,27.992000000000004),b.bezierCurveTo(38.30499999999999,26.728000000000005,38.83599999999999,25.103000000000005,38.998999999999995,23.161000000000005),b.bezierCurveTo(39.589,16.135000000000005,39.589,16.135000000000005,39.589,16.135000000000005),b.bezierCurveTo(39.589,16.135000000000005,3.26,16.647,0.41,16.649),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.fillStyle="#2e8ece",b.beginPath(),b.moveTo(16.4,25.185),b.bezierCurveTo(12.807999999999998,24.924999999999997,9.139,24.238,5.857999999999999,22.705),b.bezierCurveTo(3.175999999999999,21.450999999999997,-0.32200000000000095,18.971999999999998,0.544999999999999,15.533999999999999),b.bezierCurveTo(1.3499999999999992,12.335999999999999,4.987999999999999,10.495999999999999,7.807999999999999,9.428999999999998),b.bezierCurveTo(11.230999999999998,8.133999999999999,14.911999999999999,7.519999999999999,18.558,7.345999999999998),b.bezierCurveTo(22.233,7.169999999999998,25.966,7.437999999999998,29.548000000000002,8.300999999999998),b.bezierCurveTo(32.673,9.052999999999999,36.192,10.296,38.343,12.814999999999998),b.bezierCurveTo(40.86600000000001,15.768999999999998,39.208000000000006,19.066999999999997,36.406000000000006,21.043999999999997),b.bezierCurveTo(33.566,23.046999999999997,30.055000000000007,24.071999999999996,26.670000000000005,24.676999999999996),b.bezierCurveTo(23.289,25.28,19.824,25.436,16.4,25.185),b.bezierCurveTo(13.529,24.977,19.286,25.396,16.4,25.185),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.save(),b.save(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(5.21,21.754),b.lineTo(8.188,17.922),b.lineTo(9.53,18.75),b.lineTo(15.956,16.004),b.lineTo(18.547,17.523),b.lineTo(12.074,20.334),b.lineTo(13.464,21.204),b.lineTo(5.21,21.754),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.restore(),b.save(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(17.88,14.61),b.lineTo(9.85,13.522),b.lineTo(11.703,12.757),b.lineTo(7.436,10.285),b.lineTo(10.783,8.942),b.lineTo(15.091,11.357),b.lineTo(16.88,10.614),b.lineTo(17.88,14.61),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(17.88,14.61),b.lineTo(9.85,13.522),b.lineTo(11.703,12.757),b.lineTo(7.436,10.285),b.lineTo(10.783,8.942),b.lineTo(15.091,11.357),b.lineTo(16.88,10.614),b.lineTo(17.88,14.61),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.restore(),b.save(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(23.556,15.339),b.lineTo(20.93,13.879),b.lineTo(26.953,11.304),b.lineTo(25.559,10.567),b.lineTo(33.251,9.909),b.lineTo(31.087,13.467),b.lineTo(29.619,12.703),b.lineTo(23.556,15.339),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.restore(),b.save(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(30.028,23.383),b.lineTo(24.821,20.366),b.lineTo(22.915,21.227),b.lineTo(21.669,16.762),b.lineTo(30.189,17.942),b.lineTo(28.33,18.782),b.lineTo(33.579,21.725),b.lineTo(30.028,23.383),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(30.028,23.383),b.lineTo(24.821,20.366),b.lineTo(22.915,21.227),b.lineTo(21.669,16.762),b.lineTo(30.189,17.942),b.lineTo(28.33,18.782),b.lineTo(33.579,21.725),b.lineTo(30.028,23.383),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.restore(),b.restore(),b.restore(),b.restore()}},exchanger:{draw:function(b){b.save(),b.translate(0,0),b.beginPath(),b.moveTo(0,0),b.lineTo(40,0),b.lineTo(40,40),b.lineTo(0,40),b.closePath(),b.clip(),b.translate(0,0),b.translate(0,0),b.scale(1,1),b.translate(0,0),b.strokeStyle="rgba(0,0,0,0)",b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,b.save(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save();var a=b.createLinearGradient(0.2095,20.7588,39.4941,20.7588);a.addColorStop(0,"#6A6969"),a.addColorStop(0.0788,"#4F4C4B"),a.addColorStop(0.352,"#545252"),a.addColorStop(0.6967,"#646262"),a.addColorStop(0.8916,"#6F6E6F"),a.addColorStop(0.9557,"#4C4948"),a.addColorStop(1,"#494645"),b.fillStyle=a,b.beginPath(),b.moveTo(39.449,12.417),b.lineTo(39.384,9.424),b.bezierCurveTo(39.384,9.424,0.7980000000000018,22.264,0.3710000000000022,23.024),b.bezierCurveTo(-0.026999999999997804,23.733,0.4240000000000022,24.903000000000002,0.5190000000000022,25.647000000000002),b.bezierCurveTo(0.7240000000000022,27.244000000000003,0.9240000000000023,28.841,1.1350000000000022,30.437),b.bezierCurveTo(1.3220000000000023,31.843,2.7530000000000023,32.094,3.9620000000000024,32.094),b.bezierCurveTo(8.799000000000003,32.092,13.636000000000003,32.091,18.473000000000003,32.089),b.bezierCurveTo(23.515,32.086999999999996,28.556000000000004,32.086,33.598,32.083999999999996),b.bezierCurveTo(34.859,32.083999999999996,36.286,31.979999999999997,37.266,31.081999999999997),b.bezierCurveTo(37.537,30.820999999999998,37.655,30.535999999999998,37.699999999999996,30.229999999999997),b.lineTo(37.711,30.316999999999997),b.lineTo(39.281,16.498999999999995),b.bezierCurveTo(39.281,16.498999999999995,39.467999999999996,15.126999999999995,39.489,14.666999999999994),b.bezierCurveTo(39.515,14.105,39.449,12.417,39.449,12.417),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.save(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save();var a=b.createLinearGradient(19.8052,7.7949,19.8052,24.7632);a.addColorStop(0,"#7D7D7D"),a.addColorStop(0.1455,"#808080"),a.addColorStop(0.2975,"#888888"),a.addColorStop(0.4527,"#939293"),a.addColorStop(0.6099,"#9E9D9D"),a.addColorStop(0.7687,"#A7A5A4"),a.addColorStop(0.9268,"#A9A6A5"),a.addColorStop(0.9754,"#A7A4A3"),a.addColorStop(1,"#FFFFFF"),b.fillStyle=a,b.beginPath(),b.moveTo(33.591,24.763),b.bezierCurveTo(23.868000000000002,24.754,14.145,24.746000000000002,4.423000000000002,24.738000000000003),b.bezierCurveTo(3.140000000000002,24.737000000000002,-0.48799999999999777,24.838000000000005,0.3520000000000021,22.837000000000003),b.bezierCurveTo(1.292000000000002,20.594000000000005,2.2330000000000023,18.351000000000003,3.1730000000000023,16.108000000000004),b.bezierCurveTo(4.113000000000002,13.865000000000006,5.054000000000002,11.623000000000005,5.994000000000002,9.380000000000004),b.bezierCurveTo(6.728000000000002,7.629000000000005,9.521000000000003,7.885000000000004,11.156000000000002,7.880000000000004),b.bezierCurveTo(16.974000000000004,7.861000000000004,22.793000000000003,7.843000000000004,28.612000000000002,7.825000000000005),b.bezierCurveTo(30.976000000000003,7.818000000000005,33.341,7.810000000000005,35.707,7.803000000000004),b.bezierCurveTo(36.157000000000004,7.802000000000004,36.609,7.787000000000004,37.06,7.804000000000005),b.bezierCurveTo(37.793,7.833000000000005,39.389,7.875000000000004,39.385000000000005,9.424000000000005),b.bezierCurveTo(39.38400000000001,9.647000000000006,39.31,10.138000000000005,39.27700000000001,10.359000000000005),b.bezierCurveTo(38.81900000000001,13.361000000000004,38.452000000000005,15.764000000000006,37.99400000000001,18.766000000000005),b.bezierCurveTo(37.806000000000004,19.998000000000005,37.61800000000001,21.230000000000004,37.43000000000001,22.462000000000007),b.bezierCurveTo(37.151,24.271,35.264,24.77,33.591,24.763),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.restore(),b.save(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(10.427,19.292),b.lineTo(5.735,16.452),b.lineTo(12.58,13.8),b.lineTo(12.045,15.07),b.lineTo(20.482,15.072),b.lineTo(19.667,17.887),b.lineTo(11.029,17.851),b.lineTo(10.427,19.292),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(13.041,13.042),b.lineTo(8.641,10.73),b.lineTo(14.82,8.474),b.lineTo(14.373,9.537),b.lineTo(22.102,9.479),b.lineTo(21.425,11.816),b.lineTo(13.54,11.85),b.lineTo(13.041,13.042),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(29.787,16.049),b.lineTo(29.979,14.704),b.lineTo(21.51,14.706),b.lineTo(22.214,12.147),b.lineTo(30.486,12.116),b.lineTo(30.653,10.926),b.lineTo(36.141,13.4),b.lineTo(29.787,16.049),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.save(),b.fillStyle="#f7f8f8",b.beginPath(),b.moveTo(28.775,23.14),b.lineTo(29.011,21.49),b.lineTo(19.668,21.405),b.lineTo(20.523,18.295),b.lineTo(29.613,18.338),b.lineTo(29.815,16.898),b.lineTo(35.832,19.964),b.lineTo(28.775,23.14),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.restore(),b.restore()}},cloud:{draw:function(b){b.save(),b.beginPath(),b.moveTo(0,0),b.lineTo(90.75,0),b.lineTo(90.75,62.125),b.lineTo(0,62.125),b.closePath(),b.clip(),b.strokeStyle="rgba(0,0,0,0)",b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,b.save();var a=b.createLinearGradient(44.0054,6.4116,44.0054,51.3674);a.addColorStop(0,"rgba(159, 160, 160, 0.7)"),a.addColorStop(0.9726,"#E9EAEA"),b.fillStyle=a,b.beginPath(),b.moveTo(57.07,20.354),b.bezierCurveTo(57.037,20.354,57.006,20.358,56.974000000000004,20.358),b.bezierCurveTo(54.461000000000006,14.308,48.499,10.049000000000001,41.538000000000004,10.049000000000001),b.bezierCurveTo(33.801,10.049000000000001,27.309000000000005,15.316000000000003,25.408000000000005,22.456000000000003),b.bezierCurveTo(18.988000000000007,23.289,14.025000000000006,28.765000000000004,14.025000000000006,35.413000000000004),b.bezierCurveTo(14.025000000000006,42.635000000000005,19.880000000000006,48.49,27.102000000000004,48.49),b.bezierCurveTo(29.321000000000005,48.49,31.407000000000004,47.933,33.237,46.961),b.bezierCurveTo(34.980000000000004,49.327,37.78,50.867999999999995,40.945,50.867999999999995),b.bezierCurveTo(43.197,50.867999999999995,45.261,50.086,46.896,48.785999999999994),b.bezierCurveTo(49.729,50.78699999999999,53.244,51.98799999999999,57.07,51.98799999999999),b.bezierCurveTo(66.412,51.98799999999999,73.986,44.90699999999999,73.986,36.17099999999999),b.bezierCurveTo(73.986,27.436,66.413,20.354,57.07,20.354),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore()}},node:{width:60,height:100,draw:function(b){b.save(),b.translate(0,0),b.beginPath(),b.moveTo(0,0),b.lineTo(40,0),b.lineTo(40,40),b.lineTo(0,40),b.closePath(),b.clip(),b.translate(0,0),b.translate(0,0),b.scale(1,1),b.translate(0,0),b.strokeStyle="rgba(0,0,0,0)",b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,b.save(),b.fillStyle="#9fa0a0",b.beginPath(),b.moveTo(13.948,31.075),b.lineTo(25.914,31.075),b.quadraticCurveTo(25.914,31.075,25.914,31.075),b.lineTo(25.914,34.862),b.quadraticCurveTo(25.914,34.862,25.914,34.862),b.lineTo(13.948,34.862),b.quadraticCurveTo(13.948,34.862,13.948,34.862),b.lineTo(13.948,31.075),b.quadraticCurveTo(13.948,31.075,13.948,31.075),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#c9caca",b.beginPath(),b.moveTo(29.679,35.972),b.bezierCurveTo(29.679,36.675000000000004,29.110999999999997,37.244,28.407999999999998,37.244),b.lineTo(11.456,37.244),b.bezierCurveTo(10.751999999999999,37.244,10.183,36.675,10.183,35.972),b.lineTo(10.183,36.136),b.bezierCurveTo(10.183,35.431000000000004,10.751999999999999,34.863,11.456,34.863),b.lineTo(28.407,34.863),b.bezierCurveTo(29.11,34.863,29.678,35.431,29.678,36.136),b.lineTo(29.678,35.972),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#c9caca",b.beginPath(),b.moveTo(0.196,29.346),b.bezierCurveTo(0.196,30.301,0.9690000000000001,31.075,1.925,31.075),b.lineTo(37.936,31.075),b.bezierCurveTo(38.891,31.075,39.665,30.301,39.665,29.346),b.lineTo(39.665,27.174),b.lineTo(0.196,27.174),b.lineTo(0.196,29.346),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#3e3a39",b.beginPath(),b.moveTo(37.937,3.884),b.lineTo(1.926,3.884),b.bezierCurveTo(0.97,3.884,0.19699999999999984,4.657,0.19699999999999984,5.614),b.lineTo(0.19699999999999984,27.12),b.lineTo(39.666000000000004,27.12),b.lineTo(39.666000000000004,5.615),b.bezierCurveTo(39.665,4.657,38.892,3.884,37.937,3.884),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save();var a=b.createLinearGradient(6.9609,2.9341,32.9008,28.874);a.addColorStop(0,"#B2CBEA"),a.addColorStop(1,"#2E8ECE"),b.fillStyle=a,b.beginPath(),b.moveTo(35.788,6.39),b.lineTo(4.074,6.39),b.bezierCurveTo(3.315,6.39,2.702,7.003,2.702,7.763),b.lineTo(2.702,24.616),b.lineTo(37.159,24.616),b.lineTo(37.159,7.763),b.bezierCurveTo(37.159,7.003,36.546,6.39,35.788,6.39),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore()}},group:{draw:function(b){b.save(),b.translate(0,0),b.beginPath(),b.moveTo(0,0),b.lineTo(47.75,0),b.lineTo(47.75,40),b.lineTo(0,40),b.closePath(),b.clip(),b.translate(0,0),b.translate(0,0),b.scale(1,1),b.translate(0,0),b.strokeStyle="rgba(0,0,0,0)",b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,b.save(),b.save(),b.fillStyle="#9fa0a0",b.beginPath(),b.moveTo(10.447,26.005),b.lineTo(18.847,26.005),b.quadraticCurveTo(18.847,26.005,18.847,26.005),b.lineTo(18.847,28.663),b.quadraticCurveTo(18.847,28.663,18.847,28.663),b.lineTo(10.447,28.663),b.quadraticCurveTo(10.447,28.663,10.447,28.663),b.lineTo(10.447,26.005),b.quadraticCurveTo(10.447,26.005,10.447,26.005),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#c9caca",b.beginPath(),b.moveTo(21.491,29.443),b.bezierCurveTo(21.491,29.935000000000002,21.094,30.338,20.597,30.338),b.lineTo(8.698,30.338),b.bezierCurveTo(8.201,30.338,7.8020000000000005,29.936,7.8020000000000005,29.443),b.lineTo(7.8020000000000005,29.557000000000002),b.bezierCurveTo(7.8020000000000005,29.063000000000002,8.201,28.662000000000003,8.698,28.662000000000003),b.lineTo(20.597,28.662000000000003),b.bezierCurveTo(21.093,28.662000000000003,21.491,29.062,21.491,29.557000000000002),b.lineTo(21.491,29.443),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#c9caca",b.beginPath(),b.moveTo(0.789,24.79),b.bezierCurveTo(0.789,25.461,1.334,26.005,2.0060000000000002,26.005),b.lineTo(27.289,26.005),b.bezierCurveTo(27.961000000000002,26.005,28.504,25.461,28.504,24.79),b.lineTo(28.504,23.267),b.lineTo(0.789,23.267),b.lineTo(0.789,24.79),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#3e3a39",b.beginPath(),b.moveTo(27.289,6.912),b.lineTo(2.006,6.912),b.bezierCurveTo(1.3339999999999996,6.912,0.7889999999999997,7.455,0.7889999999999997,8.126),b.lineTo(0.7889999999999997,23.227),b.lineTo(28.503999999999998,23.227),b.lineTo(28.503999999999998,8.126),b.bezierCurveTo(28.504,7.455,27.961,6.912,27.289,6.912),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save();var a=b.createLinearGradient(5.54,6.2451,23.7529,24.458);a.addColorStop(0,"#B2CBEA"),a.addColorStop(1,"#2E8ECE"),b.fillStyle=a,b.beginPath(),b.moveTo(25.78,8.671),b.lineTo(3.514,8.671),b.bezierCurveTo(2.9819999999999998,8.671,2.549,9.101999999999999,2.549,9.635),b.lineTo(2.549,21.466),b.lineTo(26.743,21.466),b.lineTo(26.743,9.636),b.bezierCurveTo(26.743,9.102,26.312,8.671,25.78,8.671),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.save(),b.fillStyle="#9fa0a0",b.beginPath(),b.moveTo(27.053,33.602),b.lineTo(36.22,33.602),b.quadraticCurveTo(36.22,33.602,36.22,33.602),b.lineTo(36.22,36.501),b.quadraticCurveTo(36.22,36.501,36.22,36.501),b.lineTo(27.053,36.501),b.quadraticCurveTo(27.053,36.501,27.053,36.501),b.lineTo(27.053,33.602),b.quadraticCurveTo(27.053,33.602,27.053,33.602),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#c9caca",b.beginPath(),b.moveTo(39.104,37.352),b.bezierCurveTo(39.104,37.891,38.67,38.327,38.13,38.327),b.lineTo(25.143,38.327),b.bezierCurveTo(24.602,38.327,24.166,37.891,24.166,37.352),b.lineTo(24.166,37.477999999999994),b.bezierCurveTo(24.166,36.937,24.602,36.501,25.143,36.501),b.lineTo(38.131,36.501),b.bezierCurveTo(38.671,36.501,39.105,36.937,39.105,37.477999999999994),b.lineTo(39.105,37.352),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#c9caca",b.beginPath(),b.moveTo(16.514,32.275),b.bezierCurveTo(16.514,33.004999999999995,17.107,33.601,17.839,33.601),b.lineTo(45.433,33.601),b.bezierCurveTo(46.166,33.601,46.758,33.005,46.758,32.275),b.lineTo(46.758,30.607999999999997),b.lineTo(16.514,30.607999999999997),b.lineTo(16.514,32.275),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#3e3a39",b.beginPath(),b.moveTo(45.433,12.763),b.lineTo(17.839,12.763),b.bezierCurveTo(17.107,12.763,16.514,13.356,16.514,14.089),b.lineTo(16.514,30.57),b.lineTo(46.757999999999996,30.57),b.lineTo(46.757999999999996,14.088),b.bezierCurveTo(46.758,13.356,46.166,12.763,45.433,12.763),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save(),a=b.createLinearGradient(21.6973,12.0352,41.5743,31.9122),a.addColorStop(0,"#B2CBEA"),a.addColorStop(1,"#2E8ECE"),b.fillStyle=a,b.beginPath(),b.moveTo(43.785,14.683),b.lineTo(19.486,14.683),b.bezierCurveTo(18.903000000000002,14.683,18.433,15.153,18.433,15.735),b.lineTo(18.433,28.649),b.lineTo(44.837,28.649),b.lineTo(44.837,15.734),b.bezierCurveTo(44.838,15.153,44.367,14.683,43.785,14.683),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.save(),b.globalAlpha=0.5,b.beginPath(),b.moveTo(23.709,36.33),b.lineTo(4.232,36.33),b.lineTo(4.232,27.199),b.lineTo(5.304,27.199),b.lineTo(5.304,35.259),b.lineTo(23.709,35.259),b.lineTo(23.709,36.33),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore()}},subnetwork:{draw:function(b){b.save(),b.translate(0,0),b.beginPath(),b.moveTo(0,0),b.lineTo(60.75,0),b.lineTo(60.75,42.125),b.lineTo(0,42.125),b.closePath(),b.clip(),b.translate(0,0.26859504132231393),b.scale(0.6694214876033058,0.6694214876033058),b.translate(0,0),b.strokeStyle="rgba(0,0,0,0)",b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,b.save(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save();var a=b.createLinearGradient(43.6724,-2.7627,43.6724,59.3806);a.addColorStop(0,"rgba(159, 160, 160, 0.7)"),a.addColorStop(0.9726,"#E9EAEA"),b.fillStyle=a,b.beginPath(),b.moveTo(61.732,16.509),b.bezierCurveTo(61.686,16.509,61.644,16.515,61.599,16.515),b.bezierCurveTo(58.126,8.152000000000001,49.884,2.2650000000000006,40.262,2.2650000000000006),b.bezierCurveTo(29.567,2.2650000000000006,20.594,9.545000000000002,17.966,19.415),b.bezierCurveTo(9.09,20.566,2.229,28.136,2.229,37.326),b.bezierCurveTo(2.229,47.309,10.322,55.403000000000006,20.306,55.403000000000006),b.bezierCurveTo(23.374000000000002,55.403000000000006,26.257,54.633,28.787,53.28900000000001),b.bezierCurveTo(31.197,56.56000000000001,35.067,58.69000000000001,39.442,58.69000000000001),b.bezierCurveTo(42.555,58.69000000000001,45.408,57.60900000000001,47.669,55.81200000000001),b.bezierCurveTo(51.586,58.57800000000001,56.443999999999996,60.238000000000014,61.732,60.238000000000014),b.bezierCurveTo(74.64699999999999,60.238000000000014,85.116,50.45000000000002,85.116,38.37400000000001),b.bezierCurveTo(85.116,26.298,74.646,16.509,61.732,16.509),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.fillStyle="#9fa0a0",b.beginPath(),b.moveTo(34.966,44.287),b.lineTo(45.112,44.287),b.quadraticCurveTo(45.112,44.287,45.112,44.287),b.lineTo(45.112,47.497),b.quadraticCurveTo(45.112,47.497,45.112,47.497),b.lineTo(34.966,47.497),b.quadraticCurveTo(34.966,47.497,34.966,47.497),b.lineTo(34.966,44.287),b.quadraticCurveTo(34.966,44.287,34.966,44.287),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#727171",b.beginPath(),b.moveTo(48.306,48.439),b.bezierCurveTo(48.306,49.034,47.824999999999996,49.52,47.226,49.52),b.lineTo(32.854,49.52),b.bezierCurveTo(32.253,49.52,31.771,49.034000000000006,31.771,48.439),b.lineTo(31.771,48.578),b.bezierCurveTo(31.771,47.981,32.253,47.497,32.854,47.497),b.lineTo(47.226,47.497),b.bezierCurveTo(47.824999999999996,47.497,48.306,47.98,48.306,48.578),b.lineTo(48.306,48.439),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#b5b5b6",b.beginPath(),b.moveTo(23.302,42.82),b.bezierCurveTo(23.302,43.63,23.96,44.287,24.772,44.287),b.lineTo(55.308,44.287),b.bezierCurveTo(56.12,44.287,56.775,43.629999999999995,56.775,42.82),b.lineTo(56.775,40.98),b.lineTo(23.302,40.98),b.lineTo(23.302,42.82),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.fillStyle="#3e3a39",b.beginPath(),b.moveTo(55.307,21.229),b.lineTo(24.771,21.229),b.bezierCurveTo(23.959,21.229,23.301000000000002,21.884,23.301000000000002,22.695),b.lineTo(23.301000000000002,40.933),b.lineTo(56.774,40.933),b.lineTo(56.774,22.695),b.bezierCurveTo(56.774,21.884,56.119,21.229,55.307,21.229),b.closePath(),b.fill(),b.stroke(),b.restore(),b.save(),b.save(),b.restore(),b.save(),b.restore(),b.restore(),b.save(),a=b.createLinearGradient(29.04,20.4219,51.0363,42.4181),a.addColorStop(0,"#B2CBEA"),a.addColorStop(1,"#2E8ECE"),b.fillStyle=a,b.beginPath(),b.moveTo(53.485,23.353),b.lineTo(26.592,23.353),b.bezierCurveTo(25.948999999999998,23.353,25.427,23.873,25.427,24.517000000000003),b.lineTo(25.427,38.807),b.lineTo(54.647,38.807),b.lineTo(54.647,24.517000000000003),b.bezierCurveTo(54.648,23.873,54.127,23.353,53.485,23.353),b.closePath(),b.fill(),b.stroke(),b.restore(),b.restore(),b.restore()}}};for(var cz in hU){a9("Q-"+cz,hU[cz])}var iM=function(){this.$invalidateRotate=!1;var b=this._g7;b.clear();var a=this.$border||0,f=this._80.x+a/2,h=this._80.y+a/2,d=this._80.width-a,c=this._80.height-a,g=aI.call(this,{x:f,y:h});fL(b,g.x,g.y,!0),g=aI.call(this,{x:f+d,y:h}),fL(b,g.x,g.y),g=aI.call(this,{x:f+d,y:h+c}),fL(b,g.x,g.y),g=aI.call(this,{x:f,y:h+c}),fL(b,g.x,g.y),this.__m1Pointer&&(g=aI.call(this,{x:this._pointerX,y:this._pointerY}),fL(b,g.x,g.y)),a&&b.grow(a/2)},fR=20,bR={_g5:!1,_jl:null,_mos:0,_l8:-1,_la:null,_fc:function(a){this._jl||(this._jl=[],this._jt=e8),this._jl.push(a),this._fb(),this._l1()},_l1:function(){if(!this._la){var b=this;this._la=setTimeout(function a(){return b._fb()!==!1?void (b._la=setTimeout(a,b._g4())):void delete b._la},this._g4())}},_g4:function(){return Math.max(fR,this._jl[this._l8].delay)},_fb:function(){return this._g1(this._l8+1)},_g1:function(b){if(this._g5){b%=this._mos}else{if(b>=this._jl.length){return !1}}if(this._l8==b){return !1}this._l8=b;var a=this._jl[this._l8],c=a._moache;return c||(a._moache=c=bk(this.width,this.height),c.g.putImageData(a.data,0,0),c._pixels=a._pixels),this._l6=c,this.$invalidateSize=!0,this._f9()},_mou:function(){return this._jl?(this._g5=!0,this._mos=this._jl.length,1==this._mos?this._f9():void this._l1()):void this._i7()},_lq:function(){this._la&&(clearTimeout(this._la),delete this._la)},_f9:function(){var b=this._dispatcher.listeners;if(!b||!b.length){return !1}for(var a=new h6(this,"image","load",this._l6),d=0,f=b.length;f>d;d++){var c=b[d];c.scope._k0&&c.scope._k0._iged?(b.splice(d,1),d--,f--):c.onEvent.call(c.scope,a)}return b.length>0},_mlo:function(b,a){this._dispatcher.addListener(b,a),this._g5&&!this._la&&this._l1()},_6b:function(b,a){this._dispatcher.removeListener(b,a),this._dispatcher._mo2()||this._lq()},_ig:function(){this._lq(),this._dispatcher.clear()},_fn:function(){var a=this._l6._mmufferedImage;return a||(this._l6._mmufferedImage=a=new dg(this._l6,1)),a}},fZ=function(a){return a.reduce(function(c,b){return 2*c+b},0)},hq=function(b){for(var a=[],c=7;c>=0;c--){a.push(!!(b&1<<c))}return a},eg=function(a){this.data=a,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length){throw new Error("Attempted to read past end of stream.")}return 255&a.charCodeAt(this.pos++)},this.readBytes=function(c){for(var b=[],d=0;c>d;d++){b.push(this.readByte())}return b},this.read=function(c){for(var b="",d=0;c>d;d++){b+=String.fromCharCode(this.readByte())}return b},this.readUnsigned=function(){var b=this.readBytes(2);return(b[1]<<8)+b[0]}},cM=function(z,k,p){for(var g,b,A=0,f=function(a){for(var c=0,d=0;a>d;d++){k.charCodeAt(A>>3)&1<<(7&A)&&(c|=1<<d),A++}return c},w=[],m=1<<z,j=m+1,x=z+1,y=[],v=function(){y=[],x=z+1;for(var a=0;m>a;a++){y[a]=[a]}y[m]=[],y[j]=null},q=0;;){if(b=g,g=f(x),q++>p){break}if(g!==m){if(g===j){break}if(g<y.length){b!==m&&y.push(y[b].concat(y[g][0]))}else{if(g!==y.length){throw new Error("Invalid LZW code.")}y.push(y[b].concat(y[b][0]))}w.push.apply(w,y[g]),y.length===1<<x&&12>x&&x++}else{v()}}return w},cd=function(l,f){f||(f={});var j=function(a){for(var h=[],o=0;a>o;o++){h.push(l.readBytes(3))}return h},d=function(){var a,h;h="";do{a=l.readByte(),h+=l.read(a)}while(0!==a);return h},b=function(){var e={};if(e.sig=l.read(3),e.ver=l.read(3),"GIF"!==e.sig){throw new Error("Not a GIF file.")}e.width=l.readUnsigned(),e.height=l.readUnsigned();var a=hq(l.readByte());e.gctFlag=a.shift(),e.colorRes=fZ(a.splice(0,3)),e.sorted=a.shift(),e.gctSize=fZ(a.splice(0,3)),e.bgColor=l.readByte(),e.pixelAspectRatio=l.readByte(),e.gctFlag&&(e.gct=j(1<<e.gctSize+1)),f.hdr&&f.hdr(e)},m=function(t){var q=function(a){var h=(l.readByte(),hq(l.readByte()));a.reserved=h.splice(0,3),a.disposalMethod=fZ(h.splice(0,3)),a.userInput=h.shift(),a.transparencyGiven=h.shift(),a.delayTime=l.readUnsigned(),a.transparencyIndex=l.readByte(),a.terminator=l.readByte(),f.gce&&f.gce(a)},p=function(a){a.comment=d(),f.com&&f.com(a)},u=function(a){l.readByte();a.ptHeader=l.readBytes(12),a.ptData=d(),f.pte&&f.pte(a)},i=function(o){var h=function(r){l.readByte();r.unknown=l.readByte(),r.iterations=l.readUnsigned(),r.terminator=l.readByte(),f.app&&f.app.NETSCAPE&&f.app.NETSCAPE(r)},a=function(e){e.appData=d(),f.app&&f.app[e.identifier]&&f.app[e.identifier](e)};l.readByte();switch(o.identifier=l.read(8),o.authCode=l.read(3),o.identifier){case"NETSCAPE":h(o);break;default:a(o)}},n=function(a){a.data=d(),f.unknown&&f.unknown(a)};switch(t.label=l.readByte(),t.label){case 249:t.extType="gce",q(t);break;case 254:t.extType="com",p(t);break;case 1:t.extType="pte",u(t);break;case 255:t.extType="app",i(t);break;default:t.extType="unknown",n(t)}},c=function(p){var n=function(C,y){for(var A=new Array(C.length),w=C.length/y,u=function(o,h){var a=C.slice(h*y,(h+1)*y);A.splice.apply(A,[o*y,y].concat(a))},D=[0,4,2,1],v=[8,8,4,2],B=0,z=0;4>z;z++){for(var x=D[z];w>x;x+=v[z]){u(x,B),B++}}return A};p.leftPos=l.readUnsigned(),p.topPos=l.readUnsigned(),p.width=l.readUnsigned(),p.height=l.readUnsigned();var q=p.width*p.height,e=hq(l.readByte());p.lctFlag=e.shift(),p.interlaced=e.shift(),p.sorted=e.shift(),p.reserved=e.splice(0,2),p.lctSize=fZ(e.splice(0,3)),p.lctFlag&&(p.lct=j(1<<p.lctSize+1)),p.lzwMinCodeSize=l.readByte();var i=d();p.pixels=cM(p.lzwMinCodeSize,i,q),p.interlaced&&(p.pixels=n(p.pixels,p.width)),f.img&&f.img(p)},k=function(){var a={};switch(a.sentinel=l.readByte(),String.fromCharCode(a.sentinel)){case"!":a.type="ext",m(a);break;case",":a.type="img",c(a);break;case";":a.type="eof",f.eof&&f.eof(a);break;default:throw new Error("Unknown block: 0x"+a.sentinel.toString(16))}"eof"!==a.type&&setTimeout(k,0)},g=function(){b(),setTimeout(k,0)};g()},dO="";iu.addEventListener&&iu.addEventListener("keydown",function(b){if(b.ctrlKey&&b.shiftKey&&b.altKey&&73==b.keyCode){var a=e4.name+"\nVersion - "+e4.version+"\nPublish Date - "+e4.publishDate+"\n"+e4.about+"\n"+e4.copyright+dO;e4.alert(a)}},!1),dO="\nLicensed to: "+decodeURIComponent("%E5%B1%B1%E4%B8%9C%E4%B9%BE%E6%A3%AE%E6%99%BA%E8%83%BD%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8-%E7%94%B5%E5%8A%9B%E7%B3%BB%E7%BB%9F%E4%BF%9D%E6%8A%A4%E6%95%B4%E5%AE%9A%E8%AE%A1%E7%AE%97%E5%B9%B3%E5%8F%B0");var jV={position:"absolute",userSelect:"none",outline:"none",transformOrigin:"0 0","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},gp="Q-Canvas";aY("."+gp,jV);var eZ={width:"100%",height:"100%",position:"relative",overflow:"hidden",textAlign:"left",outline:"none",tapHighlightColor:"rgba(0,0,0,0)",userSelect:"none"},aA="Q-CanvasPanel";aY("."+aA,eZ);var bz="Q-Graph",it={overflow:"hidden","text-align":"left","-webkit-tap-highlight-color":"rgba(0,0,0,0)",outline:"none"};aY("."+bz,it);var hK=jg(function(a){this._mo4=new gJ,this._me=new c2,this._8y=[],this._mov=[],this._lhingList=[],this._81={},this.bounds=new fU,this._ju=new kd,this._viewport=new eO,this._ju.listener=function(b){this._6p(b)}.bind(this),this._d3(),this.setParent(a)},{_mmn:null,_jg:null,_me:null,_mov:null,_ju:null,_mod:function(a){return a?(this._63s||(this._63s={}),this._63s[a]?!1:(this._63s[a]=!0,void this.invalidate())):this.invalidate()},_9j:function(a){return this._63s&&this._63s[a]},isInvalidate:function(){return this._63},clear:function(){this._me.clear(),this._mov.length=0,this._81={},this._mlf=!1,this.invalidate()},_6h:function(){this._mod("size"),this._2u()},_2u:function(){this._mod("viewport")},invalidate:function(a){(a||!this._63)&&(this._63=!0,this._lq||(this._jpingID=requestAnimationFrame(this._fq.bind(this))))},_6j:function(a){return this._lq=a,a?void (this._jpingID&&(cancelAnimationFrame(this._jpingID),this._jpingID=null)):void (this._63&&this.invalidate(!0))},_fq:function(){this._jpingID=null,this._63=!1;var a=this._mlf;this._mlf||(this._d1(),this._mlf=!0),this._d0(!a),this._3f(),this._jp(),this._27()},_d0:function(a){this._mlq=a||this.fullRefresh,(a||this._63s.size)&&this._9g(),(a||this._63s.matrix)&&this._6r(),this._mlz(a),this._4n(a),this._63s={}},_3f:function(){this._mov.length=0;var b=this._viewport;if(this._me.forEach(function(c){if(c.__ic!==!1){var d=this._mmz(c);b.intersects(d.x,d.y,d.width,d.height)&&this._mov.push(c)}},this),this._mov=this._j5(this._mov),!this._mlq){var a=this._mo4;this._lhingList.length=0,a._mmu(this._viewport),a._j3()||this._mov.forEach(function(c){var d=this._mmz(c);a._f2(d.x,d.y,d.width,d.height)&&this._lhingList.push(c)},this)}},_j5:function(a){return kg?a=iD(a,this._ml6):a.sort(this._ml6),a},_ml6:function(b,a){return b=b.zIndex||0,a=a.zIndex||0,b-a},_mmz:function(a){return a.boundingBox},_jp:function(){if(this._mlq){return this._eo(),this._6v(!0),void this.render(this._motx,this._mov)}this._6v(this._mmuffer);var b=this._mo4,a=this._motx;try{a.save(),this._mmuffer&&(hS(a),a.drawImage(this._mmuffer.canvas,this._mmuffer.x,this._mmuffer.y)),b._ke(a,this._en.bind(this)),this._eo(),this.render(a,this._lhingList),a.restore()}catch(c){console.log(c)}},_6v:function(a){this._modCanvasSizeFlag?(this._modCanvasSizeFlag=!1,this._jg.setSize(this._width,this._height)):a&&dW(this._jg)},_9g:function(){var b=this.width,a=this.height;return this._width==b&&this._height==a?!1:(this._width=b,this._height=a,void (this._modCanvasSizeFlag=!0))},_4n:function(d){if(!d&&!this._63s.viewport){return !1}var c=this._ju.reverseTransform([0,0]),h=this.scale,k=this._width/h,g=this._height/h,f=this.rotate,j=this._viewport;if(j.x==c[0]&&j.y==c[1]&&j.width==k&&j.height==g&&j.rotate==f){return !1}var b=j.toJSON();return this._viewport.set(c[0],c[1],k,g,f,h),this._3a(this._viewport,b,d),!0},_3a:function(b,a,c){this._mlq||c||(this._mmuffer=this._gw(a,b))},_6p:function(){if(this._mlf){if(this._lq){var a;this._mourrentMatrix?this._mourrentMatrix.transMatrix=a=aZ.mul([],this._ju.m,aZ.invert([],this._mourrentMatrix.m)):a=this._ju.m,this._53(a)}this._mod("matrix"),this._2u()}},_53:function(a){this.__mossMatrix=a,gy.setStyle(this._jg,"transform",a?"matrix("+a.join(",")+")":"")},_6r:function(){var b=this._mourrentMatrix;if(this._mourrentMatrix={tx:this._ju.m[4],ty:this._ju.m[5],m:this._ju.m.slice(),scale:this._ju._h1(),rotate:this._ju._ei()},this.__mossMatrix&&this._53(null),!this._mlq){if(this._2r(this._mourrentMatrix,b),!b||b.scale!=this._mourrentMatrix.scale){return this._6d(this._mourrentMatrix.scale,b?b.scale:null),void (this._mlq=!0)}if(!b||b.rotate!=this._mourrentMatrix.rotate){return this._51(this._mourrentMatrix.rotate,b?b.rotate:null),void (this._mlq=!0)}var a=b.m[4]-this._mourrentMatrix.m[4],d=b.m[5]-this._mourrentMatrix.m[5],f=this.ratio;a*=f,d*=f;var c=0.0001;(Math.abs(a-Math.round(a))>c||Math.abs(d-Math.round(d))>c)&&(this._mlq=!0)}},_6t:function(){var b=this.bounds,a=b.clone();b.clear(),this._me.forEach(function(c){c.__ic!==!1&&b.add(this._mmz(c))},this),b.equals(a)||this._3d(b,a)},_3d:function(){},_mlf:!1,_d1:function(){},_9e:function(b){var a=b.ratio;b.scale(a,a),b.transform.apply(b,this._ju.m)},render:function(b,a){a&&a.length&&(b.save(),this._9e(b),a.forEach(function(c){if(b.save(),c.visible!==!1){try{c.render(b)}catch(d){console.log(d)}}b.restore()},this),b.restore())},setParent:function(a){jA(a)&&(a=iu.getElementById(a)),this._mc!=a&&(this._mc&&this._mmn&&(ik(this._mc,bz),this._mc.removeChild(this._mmn)),this._mc=a,this._mc&&(i4(this._mc,bz),this._mc.appendChild(this._6g()),this._6h()))},_6g:function(){return this._mmn||this._d3(),this._mmn},_d3:function(){var a=bk(!0);dE(a.g),a.className=gp;var b=iu.createElement("div");return b.className=aA,b.appendChild(a),b.tabIndex=0,this._jg=a,this._mmn=b,this._motx=this._jg.getContext("2d"),a},toLogical:function(b,a){return b instanceof Object&&(iZ(b)&&(b=this._87(b)),Array.isArray(b)?(a=b[1]||0,b=b[0]||0):(a=b.y||0,b=b.x||0)),this._ju.reverseTransform([b,a])},toCanvas:function(b,a){return this._ju.transform([b,a])},_87:function(a){return eG(a,this._mmn)},_ez:function(b,a,c){if(b.hitTest instanceof Function){return b.hitTest(a,c)}var d=this._mmz(b);return d?c?fU.intersects(d.x,d.y,d.width,d.height,a[0]-c,a[1]-c,c+c,c+c):fU.intersects(d.x,d.y,d.width,d.height,a[0],a[1]):b},hitTest:function(b,a){return this._83(b,a)},_83:function(b,a){a=this._9a(a),b=this.toLogical(b);for(var c,d=this._mov.length;--d>=0;){if(c=this._mov[d],this._ez(c,b,a)){return c}}},_9a:function(a){return(a===iC||null===a)&&(a=cX.SELECTION_TOLERANCE),a?a/this.scale:0},getUIByMouseEvent:function(b,a){if(b.uiId){return this._me.getById(b.uiId)}var c=this._83(b,a);return b.uiId=c?c.id:-1,c},_81:null,invalidateUI:function(a){this._81[a.id]=a,this.invalidate()},_9s:function(a){a.validate instanceof Function&&a.validate(this)},_d4:function(b,a){b.__js&&this._gu(b.__js);var f=b.__ic;if(b.__ic=this._dp(b,a),!b.__ic){return f}var g=b.__js;this._9s(b);var d=this._mmz(b);b.__js={x:d.x,y:d.y,width:d.width,height:d.height};var c=b.__ic!==f||!fU.equals(g,d);return c&&b.__js&&this._gu(b.__js),c},_dp:function(a){return a.visible!==!1},_$s:function(a){this._me.forEach(function(b){this._d4(b,a)},this),this._81={},this._6t()},_mlz:function(b){var a=this.scale;if(b){return this._$s(a)}var d=this._modBoundsFlag;this._modBoundsFlag=!1;for(var f in this._81){var c=this._81[f];d?this._d4(c,a):d=this._d4(c,a)}this._81={},d&&this._6t()},_8y:null,_27:function(){if(!this._8y.length){return !1}var a=this._8y;this._8y=[],a.forEach(function(c){try{var b=c.call,f=c.scope,g=c.delay;f instanceof Object?b=b.bind(f):f&&!g&&(g=parseInt(f)),g?setTimeout(b,g):b()}catch(d){}},this),this._63&&this._fq()},_eu:function(b,a,c){this._8y.push({call:b,scope:a,delay:c}),this._63||this._27()},_4e:function(b,a){for(var d=this._mov,f=0,c=d.length;c>f;f++){if(b.call(a,d[f])===!1){return !1}}},_ex:function(b,a){this._me.forEach(b,a)},_$y:function(b,a){for(var c=this._mov,d=c.length-1;d>=0;d--){if(b.call(a,c[d])===!1){return !1}}},_48:function(b,a){this._me.forEachReverse(b,a)},_4k:function(){return this.bounds},_g3:function(b,a,c){b/=this.scale||1,this._k6(b,a,c)},_k6:function(b,a,d){if(this._mlf&&(a===iC||null===a)){var c=this.toLogical(this.width/2,this.height/2);a=c[0]||0,d=c[1]||0}return this._ju.scale(b,[a||0,d||0])},_es:function(b,a){this._ju.translate([b,a],!0)},_mlh:function(b,a,d,f){if(d==this.scale&&f!==!1){var c=this.ratio;c!=(0|c)&&(b=Math.round(b*c)/c,a=Math.round(a*c)/c)}this._ju.translateTo([b,a],d)},_k7:function(b,a){return this._k6(this._eq,b,a)},_im:function(b,a){return this._k6(1/this._eq,b,a)},_1r:function(){var b=this._4k();if(!b.isEmpty()){var a=this.width/b.width,c=this.height/b.height,d=Math.min(a,c);return d=Math.max(this._h0,Math.min(this._fs,d)),{scale:d,cx:b.cx,cy:b.cy}}},_eq:1.3,_fs:10,_h0:0.1,_mlq:!1,_6d:function(){},_51:function(){},_2r:function(){},_eo:function(){this._mmuffer=null,this._mo4._l0()},_en:function(d){var c=this._ju,h=this._jg.ratio,k=this.scale,g=c._ei();if(!g){var f=c.transform([d[0],d[1]]);return f[0]*=h,f[1]*=h,h*=k,f[2]=d[2]*h,f[3]=d[3]*h,f}var j=new fU,b=c.transform([d[0],d[1]]);return j.add(b[0],b[1]),b=c.transform([d[0]+d[2],d[1]]),j.add(b[0],b[1]),b=c.transform([d[0],d[1]+d[3]]),j.add(b[0],b[1]),b=c.transform([d[0]+d[2],d[1]+d[3]]),j.add(b[0],b[1]),[j.x*h,j.y*h,j.width*h,j.height*h]},_gw:function(A,q){var i=q._3n(A.x,A.y,A.width,A.height);if(i){var b=this._jg,B=this.scale*this.ratio,g=this._mo4,x={},m=0.000001;i.x>m&&(x.left=q._45(0,0,i.x,q.height,B)),q.width-i.right>m&&(x.right=q._45(i.right,0,q.width-i.right,q.height,B)),i.y>m&&(x.top=q._45(i.x,0,i.width,i.y,B)),q.height-i.bottom>m&&(x.bottom=q._45(i.x,i.bottom,i.width,q.height-i.bottom,B)),iT(x)||g._4o(x);var j=q._i0(A.x,A.y),y=(j[0]-i.x)*B,z=(j[1]-i.y)*B,w=i.width*B,v=i.height*B;y=Math.round(y),z=Math.round(z),w=Math.round(w),v=Math.round(v);var p=this._mmackCanvas;try{return p||(p=this._mmackCanvas=iu.createElement("canvas"),p.g=p.getContext("2d")),p.width=w,p.height=v,hS(p.g),p.g.drawImage(b,y,z),y=j[0]*B-y,z=j[1]*B-z,{x:y,y:z,canvas:p}}catch(k){console.log(k)}}},_li:function(b,a,c,d){this._mo4._ma(b,a,c,d)},_gu:function(a){this._mo4._j1(a)}});Object.defineProperties(hK.prototype,{width:{get:function(){return this._mmn.clientWidth}},height:{get:function(){return this._mmn.clientHeight}},rotate:{get:function(){return this._ju._ei()}},tx:{get:function(){return this._ju._90()[0]}},ty:{get:function(){return this._ju._90()[1]}},ratio:{get:function(){return this._jg?this._jg.ratio:void 0}},scale:{get:function(){return this._ju._h1()},set:function(a){this._g3(a)}},renderScale:{get:function(){return this.scale*this.ratio}},uis:{get:function(){return this._me}},length:{get:function(){return this._me.length}},viewportBounds:{get:function(){return this._viewport.getGlobalBounds()}}});var g1,gJ=jg({constructor:function(){this._gs=[],this._js=new fU,this._gt=bb?20:50},_gt:20,_gs:null,_ln:!1,_js:null,_l0:function(){this._ln=!1,this._gs.length=0,this._viewportClips=null,this._js.clear()},_j3:function(){return 0==this._gs.length&&!this._viewportClips},_ma:function(b,a,c,d){0>=c||0>=d||this._gs.push([b,a,c,d])},_j1:function(a){this._ma(a.x,a.y,a.width,a.height)},_4o:function(b){var a=this._js;for(var d in b){var f=b[d],c=f.getGlobalBounds();a.add(c)}this._viewportClips=b},_mmu:function(b,a){for(var f=[],h=this._gs,d=0,c=h.length;c>d;d++){var g=h[d];b.intersects(g[0],g[1],g[2],g[3])&&(f.push(g),this._js.addRect(g[0],g[1],g[2],g[3]))}this._gs=f,this._ln=a||f.length>=this._gt},_f2:function(l,f,j,d){if(!this._js.intersectsRect(l,f,j,d)){return !1}if(this._ln){return !0}if(this._viewportClips){var b=this._viewportClips;for(var m in b){if(b[m].intersects(l,f,j,d)){return !0}}}for(var c,k=0,g=this._gs.length;g>k;k++){if(c=this._gs[k],fU.intersects(l,f,j,d,c[0],c[1],c[2],c[3])){return !0}}return !1},_ke:function(b,a){if(this._j3()){return !1}if(b.beginPath(),this._ln){var f=a([this._js.x,this._js.y,this._js.width,this._js.height]);return cx(b,f[0],f[1],f[2],f[3]),void b.clip()}if(this._viewportClips){for(var h in this._viewportClips){var f=this._viewportClips[h].canvasBounds;cx(b,f[0],f[1],f[2],f[3])}}for(var d=this._gs,c=0,g=d.length;g>c;c++){var f=a(d[c]);cx(b,f[0],f[1],f[2],f[3])}b.clip()}});gJ._toIntRect=function(b,a,c,d){return b instanceof Object&&(a=b.y,c=b.width,d=b.height,b=b.x),c=iP(b+c)-(b=h5(b)),d=iP(a+d)-(a=h5(a)),[b,a,c,d]},gJ._d7=h5,gJ._h5=iP,aF.NAVIGATION_BUTTON="navigation.button",aF.NAVIGATION_SCROLLBAR="navigation.scrollbar",cX.NAVIGATION_TYPE=aF.NAVIGATION_SCROLLBAR;var a8=jg({_jp:function(){i7(this,a8,"_jp",arguments),this._topCanvas._jp()},_ml6:function(b,a){return b=b.$data.zIndex||0,a=a.$data.zIndex||0,b-a},"super":hK,constructor:function(a,b){this._kr=a,jA(b)&&(b=iu.getElementById(b)),b&&b.tagName||(b=iu.createElement("div")),iG(this,a8,[b]),this._topCanvas=new im(this,this._mmn),this._gk=[],this._kr._$b.addListener(this._1g,this),this._kr._1l.addListener(this._9q,this),this._kr._14.addListener(this._7q,this),this._kr._$m.addListener(this._30,this),this._kr._$q.addListener(this._39,this),this._mmb={},this._3c(cX.NAVIGATION_TYPE,!0)},_53:function(a){i7(this,a8,"_53",arguments),this._topCanvas._53(a)},_gq:function(a){return a.id||(a=this._me.getById(a)),a?(this._me.remove(a),a.destroy(),a.__js&&this._gu(a.__js),void (this._modBoundsFlag=!0)):!1},_gn:function(){this._me.forEach(function(a){a.destroy()}),this._me.clear()},_dp:function(b,a){var c=b.data||b;return c._$v&&(c._$v=!1,c._ic=this._54(c,a)),c._ic!==!1},_54:function(b,a){return this._3r(b,a)?!this._kr._icFilter||this._kr._icFilter(b,a)!==!1:!1},_ml7:function(a){return this._kr._3j==ed(a)},_3r:function(b,a){if(b.visible===!1){return !1}if(!(b instanceof hz)){return this._kr._3j!=ed(b)?!1:!b._e1}var f=b.fromAgent,h=b.toAgent;if(!f||!h){return !1}if(f==h&&!b.isLooped()){return !1}if(b.isBundleEnabled()){var d=b.getEdgeBundle(!0);if(d&&!d._dp(b,a)){return !1}}var c=this._dp(f,a),g=this._dp(h,a);return c&&g?!0:!1},_mmz:function(a){return a._mlf?{x:a.$x+a.uiBounds.x,y:a.$y+a.uiBounds.y,width:a.uiBounds.width,height:a.uiBounds.height}:void 0},_2s:function(b){var a=this._le(b);if(a){var c=this._mmz(a);if(c){return new fU(c)}}},_ez:function(b,a,c){return b.hitTest(a[0],a[1],c)},hitTest:function(b,a){var c=i7(this,a8,"hitTest",arguments);if(c){b=this.toLogical(b),a=this._9a(a);var d=c.hitTest(b[0],b[1],a,!0);if(d instanceof bI){return d}}return c},_3p:function(a){return this.getUIByMouseEvent(a)},_6v:function(){i7(this,a8,"_6v",arguments),this._topCanvas._it(this.width,this.height)},_lb:1,_mov:null,_8j:null,_8k:null,_me:null,_mc:null,_jg:null,_mo4:null,_63:!1,_mlf:!1,_ju:null,_4e:function(b,a){for(var d=this._mov,f=0,c=d.length;c>f;f++){if(b.call(a,d[f])===!1){return !1}}},_ex:function(b,a){this._me.forEach(b,a)},_$y:function(b,a){for(var c=this._mov,d=c.length-1;d>=0;d--){if(b.call(a,c[d])===!1){return !1}}},_48:function(b,a){this._me.forEachReverse(b,a)},_3a:function(a){i7(this,a8,"_3a",arguments),this._viewportChanged={value:a}},_d1:function(){this._4n(!0),this._originAdjusted||(this._originAdjusted=!0,this._kr&&this._kr.originAtCenter&&this._ju.translateTo([this.width/2,this.height/2]))},_fq:function(){if(!this._iged&&this._63){if(this._jpingID=null,this._63=!1,this._mlf&&this._kr&&this._kr._$v&&(this._kr._$v=!1,this._kr.forEach(function(c){c.invalidateVisibility(!0)})),i7(this,a8,"_fq",arguments),this._8kChanged){this._69&&this._69._jo();var b=this._8kChanged.value,a=this._8kChanged.old;this._8kChanged=null,this._kr._44(new gV(this._kr,"element.bounds",b,a))}this._viewportChanged&&(this._viewportChanged=!1,this._69&&this._69._3a&&this._69._3a(this._viewport.width*this._viewport.scale,this._viewport.height*this._viewport.scale),this._kr._44(new gV(this._kr,"viewport",this._viewport)))}},_gk:null,_d4:function(b){var a=b.$data;if(!b._1e&&!a._63&&!a._$v){return !1}var c=b.$invalidateSize;return c=i7(this,a8,"_d4",arguments)||c},_9s:function(b){var a=b.$data;a.__4g&&(a.__4g=!1,b._4g()),a.__63&&a._i5()&&(b._5u(),a.__63=!1),(b._1e||a._63)&&(a._63=!1,b.validate())},_gj:function(d,c){var h=d.ratio;d.scale(h,h),d.transform.apply(d,this._ju.m);for(var k=this.renderScale,g=[],f=0,j=c.length;j>f;f++){var b=c[f];b._jp(d,k),b._k5&&b._k5.length&&g.push(b)}if(g.length){for(f=0,j=g.length;j>f;f++){g[f]._9o(d,k)}}},render:function(b,a){if(a.length){if(b.save(),bb){try{this._gj(b,a)}catch(c){}}else{this._gj(b,a)}b.restore()}},_gi:function(l,f,j){l.save(),l.translate(-j.x*f,-j.y*f),l.scale(f,f);var d,b,m=this._me._k2.slice();m=this._j5(m);for(var c=[],k=0,g=m.length;g>k;k++){d=m[k],d.__ic&&(b=this._mmz(d),j.intersectsRect(b.x,b.y,b.width,b.height)&&(d._jp(l,f),d._k5&&d._k5.length&&c.push(d)))}if(c.length){for(k=0,g=c.length;g>k;k++){c[k]._9o(l,f)}}l.restore()},_16:function(){},_1n:function(){for(var b,a,f=this._me._k2,g=new fU,d=f.length-1;d>=0;d--){b=f[d],b._ic&&(a=b.uiBounds,g.addRect(b.$x+a.x,b.$y+a.y,a.width,a.height))}var c=this._8k;this._8k=g,g.equals(c)||this._16(c,g)},_5c:function(){this._mov.length=0,this._8j={}},_ld:function(){this._l0()},_ig:function(){this._l0(),this._iged=!0,this._63=!1,this._topCanvas.clear(),this._8y.length=0,this._69&&(this._69._ig(),delete this._69)},_le:function(a){return this._me.getById(a.id||a)},_$h:function(a){return this._ew(a)},_gf:function(b,a){var c=this.toCanvas(b,a);return{x:c[0],y:c[1]}},_ew:function(b,a){var c=this.toLogical(b,a);return{x:c[0],y:c[1]}},_$k:null,_39:function(b){var a=b.source,f=b.data;if(f){if(this._mlf){var h,d;if(jt(f)){for(var c=0,g=f.length;g>c;c++){d=f[c].id,h=this._me.getById(d),h&&(h.selected=a.containsById(d),h.invalidateRender())}}else{if(d=f.id,h=this._me.getById(d),!h){return}h.selected=a.containsById(d),h.invalidateRender()}this._mod()}else{this._$k||(this._$k={});var h,d;if(jt(f)){for(var c=0,g=f.length;g>c;c++){d=f[c].id,this._$k[d]=!0}}else{d=f.id,this._$k[d]=!0}}}},_kr:null,_de:function(b){var a=b.uiClass;return a?new a(b,this._kr):void 0},_1g:function(b){if(!this._mlf){return !1}var a=b.source,c=b.kind;"enableSubNetwork"==c&&this._kr.invalidateVisibility(),"uiClass"==c?(this._gq(a.id),this._kp(a)):"expanded"==c&&a._i5()&&b.value&&this._5h(a);var d=this._me.getById(a.id);d&&d._mlf&&d.onPropertyChange(b)&&this._mod()},_35:function(b){var a=this._le(b);a&&(a.invalidateData(),this._mod())},_9q:function(a){if(!this._mlf){return !1}switch(a.kind){case aM.KIND_ADD:this._kp(a.data);break;case aM.KIND_REMOVE:this._ga(a.data);break;case aM.KIND_CLEAR:this._i3(a.data)}},_l0:function(){this._mmb={},this._gn(),this.clear()},_mmb:null,_kp:function(b){var a=this._de(b);a&&(this._me.add(a),this._mlf&&(this._mmb[b.id]=b),this._mod())},_ga:function(b){if(Array.isArray(b)){for(var a,d=[],f=0,c=b.length;c>f;f++){a=b[f].id,d.push(a),delete this._mmb[a]}b=d}else{b=b.id,delete this._mmb[b],b=[b]}b.forEach(function(e){this._gq(e)},this),this._mod()},_i3:function(){this._l0()},_7q:function(a){return this._mlf?void (a.source instanceof jc&&!this._mmb[a.source.id]&&(a.oldValue&&(this._35(a.oldValue),a.oldValue.__63=!0),a.value&&(this._35(a.value),a.value.__63=!0),this._5h(a.source))):!1},_30:function(a){return this._mlf?void (a.source instanceof jc&&!this._mmb[a.source.id]&&this._5h(a.source)):!1},_2z:function(b){if(b._edgeBundleInvalidateFlag){var a=b.getEdgeBundle(!0);if(!a){return b._edgeBundleInvalidateFlag=!1,void b.validateEdgeBundle()}a._fq(this._kr),a._mli(function(c){c.validateEdgeBundle()})}},_$s:function(z){var k,p=(this._kr,this._kr.graphModel),g=this._me,b=[],A=1;if(p.forEachByDepthFirst(function(a){return a instanceof hz?(this._2z(a),void b.push(a)):(k=this._de(a),void (k&&(g.add(k),a.__l8=A++)))},this),g.length){for(var f=g._k2,A=f.length-1;A>=0;A--){k=f[A],this._37(k,k.$data,z)}}for(var w,A=0,m=b.length;m>A;A++){if(w=b[A],k=this._de(w)){this._37(k,w,z),g.add(k);var j=w.fromAgent,x=w.toAgent,y=j.__l8||0;j!=x&&(y=Math.max(y,x.__l8||0)),w.__l8=y}}if(b.length&&g._k2.sort(function(c,a){return c.$data.__l8-a.$data.__l8}),this._$k){var v=p.selectionModel;for(var q in this._$k){if(v.containsById(q)){var k=g.getById(q);k&&(k.selected=!0)}}this._$k=null}this._6t()},_mlz:function(q,g){if(q){return this._$s()}var k=this._modBoundsFlag;this._modBoundsFlag=!1;for(var d in this._mmb){var b=this._mmb[d];b instanceof jc?this._5h(b):this._5i(b)}this._mmb={};for(var u,c,m=this._me._k2,j=[],f=m.length-1;f>=0;f--){u=m[f],c=u.$data,c instanceof hz?(this._2z(c),j.push(u)):this._37(u,c,g)&&!k&&(k=!0)}if(j.length){for(var f=0,p=j.length;p>f;f++){u=j[f],this._37(u,u.$data,g)&&!k&&(k=!0)}}k&&this._6t()},_37:function(b,a,c){if(a instanceof hz){return a.__4g&&(a.__4g=!1,b._4g()),this._d4(b,c)}if(a.__63&&a._i5()&&(b._5u(),a.__63=!1),this._d4(b,c)){var d=this._4s(a);return d&&(d.__63=!0),a.hasEdge()&&a.forEachEdge(function(e){e.__4g=!0},this),!0}},_2x:function(b,a){var f=b.fromAgent,g=b.toAgent,d=a.getIndexById(f.id);if(f==g){return d}var c=a.getIndexById(g.id);return Math.max(d,c)},_2w:function(b,a){var c=this.graphModel._hh(b);return c?a.getIndexById(c.id):0},_5h:function(b){var a=this._me,f=a.getById(b.id);if(!f){throw new Error("UI '"+b.name+"' not found")}var d=this._2w(b,a),c=[f];b.hasChildren()&&ib(b,function(e){e instanceof jc&&(f=a.getById(e.id),f&&c.push(f))},this),this._4v(a,d,c)},_5i:function(b){var a=this._me.getById(b.id);if(a){var c=this._2x(b,this._me);this._me.setIndexBefore(a,c)}},_4v:function(b,a,d){function f(e){c.add(e)}var c=new c2;if(iz(d,function(g){a=b.setIndexAfter(g,a),g.$data.forEachEdge(f)},this),0!=c.length){c.forEach(this._5i,this)}},_8u:function(a){return a.getEdgeBundle(!0)},_4s:function(b){var a=bw(b);return a&&a.expanded?a:null},_68:null,_69:null,_3c:function(b,a){return a||b!=this._68?(this._68=b,this._69&&(this._69._ig(),delete this._69),b==aF.NAVIGATION_SCROLLBAR?void (this._69=new hI(this,this._mmn)):b==aF.NAVIGATION_BUTTON?void (this._69=new dM(this,this._mmn)):void 0):!1},_2r:function(b,a){this._69&&this._69._jo(),this._kr._44(new gV(this._kr,"transform",b,a))},_6d:function(b,a){this._kr._44(new gV(this._kr,"scale",b,a))},_3d:function(b,a){this._8kChanged={value:b,old:a}},_6f:function(){this._6h()}});Object.defineProperties(a8.prototype,{_viewportBounds:{get:function(){return this.viewportBounds}},_scale:{get:function(){return this.scale},set:function(a){this._g3(a)}},_tx:{get:function(){return this.tx}},_ty:{get:function(){return this.ty}},graphModel:{get:function(){return this._kr._krModel}}});var aZ={};aZ.create=function(){return[1,0,0,1,0,0]},aZ.invert=function(l,f){var j=f[0],d=f[1],b=f[2],m=f[3],c=f[4],k=f[5],g=j*m-d*b;return g?(g=1/g,l[0]=m*g,l[1]=-d*g,l[2]=-b*g,l[3]=j*g,l[4]=(b*k-m*c)*g,l[5]=(d*c-j*k)*g,l):null},aZ.multiply=function(B,m,v){var j=m[0],b=m[1],C=m[2],g=m[3],y=m[4],p=m[5],k=v[0],z=v[1],A=v[2],x=v[3],w=v[4],q=v[5];return B[0]=j*k+C*z,B[1]=b*k+g*z,B[2]=j*A+C*x,B[3]=b*A+g*x,B[4]=j*w+C*q+y,B[5]=b*w+g*q+p,B},aZ.mul=aZ.multiply,aZ.rotate=function(q,g,k){var d=g[0],b=g[1],u=g[2],c=g[3],m=g[4],j=g[5],f=Math.sin(k),p=Math.cos(k);return q[0]=d*p+u*f,q[1]=b*p+c*f,q[2]=d*-f+u*p,q[3]=b*-f+c*p,q[4]=m,q[5]=j,q},aZ.scale=function(q,g,k){var d=g[0],b=g[1],u=g[2],c=g[3],m=g[4],j=g[5],f=k[0],p=k[1];return q[0]=d*f,q[1]=b*f,q[2]=u*p,q[3]=c*p,q[4]=m,q[5]=j,q},aZ.translate=function(q,g,k){var d=g[0],b=g[1],u=g[2],c=g[3],m=g[4],j=g[5],f=k[0],p=k[1];return q[0]=d,q[1]=b,q[2]=u,q[3]=c,q[4]=d*f+u*p+m,q[5]=b*f+c*p+j,q},aZ.transform=function(b,a){var c=a[0],d=a[1];return[c*b[0]+d*b[2]+b[4],c*b[1]+d*b[3]+b[5]]},aZ.reverseTransform=function(b,a){return aZ.transform(aZ.invert([],b),a)};var eH=Math.PI+Math.PI,dw=i6,kd=jg({equals:function(b){if(!b||!Array.isArray(b)){return !1}for(var a=this.m,c=0;c<a.length;){if(a[c]!=b[c]){return !1}++c}return !0},constructor:function(a){this.m=a||aZ.create(),this.im=[]},listener:null,_63:!0,invalidate:function(){return this._63=!0,this._mmackM&&this.equals(this._mmackM)?!1:(this.listener&&this.listener({target:this,kind:"invalidate"}),this._mmackM=this.m.slice(),this)},validate:function(){return this._63=!1,aZ.invert(this.im,this.m),this},translate:function(b,a){return dw(b)&&(b=[arguments[0],arguments[1]],a=arguments[2]),a!==!1?(this.m[4]+=b[0],this.m[5]+=b[1],this.invalidate()):(aZ.translate(this.m,this.m,b),this.invalidate())},translateTo:function(b,a){return dw(b)&&(b=[arguments[0],arguments[1]],a=arguments[2]),a&&(a/=this._h1(),aZ.scale(this.m,this.m,[a,a])),this.m[4]=b[0],this.m[5]=b[1],this.invalidate()},scale:function(b,a){return"number"==typeof b&&(b=[b,b]),a?(aZ.translate(this.m,this.m,a),aZ.scale(this.m,this.m,b),aZ.translate(this.m,this.m,iL(a))):aZ.scale(this.m,this.m,b),this.invalidate()},rotate:function(b,a){return a?(aZ.translate(this.m,this.m,a),aZ.rotate(this.m,this.m,b),aZ.translate(this.m,this.m,iL(a))):aZ.rotate(this.m,this.m,b),this.invalidate()},transform:function(a){return aZ.transform(this.m,a)},reverseTransform:function(a){return aZ.transform(this._46(),a)},toString:function(){return"matrix("+this.m.join(",")+")"},_46:function(){return this._63&&this.validate(),this.im},_el:function(){var b=this.m[0],a=this.m[1],c=this.m[2],d=this.m[3];return[Math.sqrt(b*b+c*c),Math.sqrt(a*a+d*d)]},_h1:function(){var b=this.m[0],a=this.m[2];return Math.sqrt(b*b+a*a)},_90:function(){return[this.m[4],this.m[5]]},_dj:function(){var b=this.m[0],a=this.m[1],c=this.m[2],d=this.m[3];return[fQ(Math.atan2(a,d)),fQ(Math.atan2(-c,b))]},_ei:function(){return fQ(Math.atan2(this.m[1],this.m[3]))}}),eO=jg({constructor:function(){},x:0,y:0,width:0,height:0,rotate:0,set:function(b,a,f,g,d,c){return this.x=b,this.y=a,this.width=f,this.height=g,this.rotate=d,this._moos=Math.cos(d),this._sin=Math.sin(d),this.scale=c,this._globalBounds=null,this},_i0:function(b,a){return b-=this.x,a-=this.y,this.rotate?d8(b,a,this._sin,this._moos):[b,a]},_8w:function(b){var a=new fU;return a.add(this._i0(b.x,b.y)),a.add(this._i0(b.x+b.width,b.y)),a.add(this._i0(b.x,b.y+b.height)),a.add(this._i0(b.x+b.width,b.y+b.height)),a},_gy:function(b,a){if(this.rotate){var c=d8(b,a,Math.sin(-this.rotate),Math.cos(-this.rotate));b=c[0],a=c[1]}return[this.x+b,this.y+a]},_5p:function(b,a){var c=this._i0(b,a);return b=c[0],a=c[1],b>=0&&a>=0&&b<=this.width&&a<=this.height},intersects:function(l,f,j,d){if(!this.rotate){return fU.intersects(this.x,this.y,this.width,this.height,l,f,j,d)}if(!j||!d){return this._5p(l,f)}var b=this.getGlobalBounds();if(!b.intersects(l,f,j,d)){return !1}for(var m=b.points,c=0;c<m.length;){var k=m[c];if(fU.intersectsPoint(l,f,j,d,k[0],k[1])){return !0}c++}var g=[[l,f],[l+j,f],[l,f+d],[l+j,f+d]];for(c=0;c<g.length;){var k=g[c];if(this._5p(k[0],k[1])){return !0}c++}return hg(m,g)},getGlobalBounds:function(){return this._globalBounds||(this._globalBounds=this._7a(0,0,this.width,this.height)),this._globalBounds},_7a:function(b,a,f,h){if(!this.rotate){return new fU(this.x+b,this.y+a,f,h)}var d=[],c=new fU,g=this._gy(b,a);return d.push(g),c.add(g[0],g[1]),g=this._gy(b+f,a),d.push(g),c.add(g[0],g[1]),g=this._gy(b,a+h),d.push(g),c.add(g[0],g[1]),g=this._gy(b+f,a+h),d.push(g),c.add(g[0],g[1]),c.points=d,c},_45:function(b,a,f,h,d){var c;if(this.rotate){var g=this._gy(b,a);c=(new eO).set(g[0],g[1],f,h,this.rotate,this.scale)}else{c=(new eO).set(this.x+b,this.y+a,f,h,0,this.scale)}return c.canvasBounds=[Math.round(d*b),Math.round(d*a),Math.round(d*f),Math.round(d*h)],c},_3n:function(b,a,f,g){if(!this.rotate){var d=fU.intersection(this.x,this.y,this.width,this.height,b,a,f,g);return d&&d.offset(-this.x,-this.y),d}var c=this._i0(b,a);return b=c[0],a=c[1],fU.intersection(0,0,this.width,this.height,c[0],c[1],f,g)},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height&&this.rotate==a.rotate},toString:function(){return this.x+","+this.y+","+this.width+","+this.height+","+this.rotate},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,rotate:this.rotate,scale:this.scale}}}),gy={setStyle:a7,setStyles:g0,addRule:aY,pre:bE},aQ=function(b,a,c,d){this.source=b,this.kind=a,this.oldValue=d,this.value=c,this.propertyType=aF.PROPERTY_TYPE_STYLE};i2(aQ,gV);var cB=function(a){this.id=++kw,this._moc={},this._jk={},a&&(this.$name=a)};cB.prototype={_jk:null,getStyle:function(a){return this._jk[a]},setStyle:function(b,a){var c=this._jk[b];return c===a||c&&a&&c.equals&&c.equals(a)?!1:this._mlk(b,a,new aQ(this,b,a,c),this._jk)},putStyles:function(b,a){for(var c in b){var d=b[c];a?this._jk[c]=d:this.setStyle(c,d)}},_$v:!0,invalidateVisibility:function(a){this._$v=!0,a||(this instanceof jc&&this.hasEdge()&&this.forEachEdge(function(b){b._$v=!0}),this._i5()&&this.hasChildren()&&this.forEachChild(function(b){b.invalidateVisibility()}))},onParentChanged:function(){this.invalidateVisibility()},_i5:function(){return !this._42&&this instanceof ap},invalidate:function(){this.onEvent(new h6(this,"ui","invalidate"))},_moi:null,addUI:function(b,a){if(this._moi||(this._moi=new c2),b.id||(b.id=++kw),this._moi.containsById(b.id)){return !1}var c={id:b.id,ui:b,bindingProperties:a};this._moi.add(c);var d=new h6(this,"ui","add",c);return this.onEvent(d)},removeUI:function(b){if(!this._moi){return !1}var a=this._moi.getById(b.id);return a?(this._moi.remove(a),void this.onEvent(new h6(this,"ui","remove",a))):!1},toString:function(){return this.$name||this.id},type:"Q.Element",_42:!1,_ic:!0,inGroup:function(b){var a=bw(this);return a==b||a&&b instanceof ap&&a.isDescendantOf(b)}},i2(cB,cv),jx(cB.prototype,["uiClass","name","zIndex","tooltip"]),iN(cB.prototype,{enableSubNetwork:{get:function(){return this._42},set:function(b){if(this._42!=b){var a=this._42;this._42=b,this instanceof jc&&this._$z(),this.onEvent(new gV(this,"enableSubNetwork",b,a))}}},bindingUIs:{get:function(){return this._moi}},styles:{get:function(){return this._jk},set:function(b){if(this._jk!=b){for(var a in this._jk){a in b||(b[a]=iC)}this.putStyles(b),this._jk=b}}}}),e4.findGroup=bw;var hz=function(b,a,c){this.id=++kw,this._moc={},this._jk={},c&&(this.$name=c),this.$from=b,this.$to=a,this.connect()};hz.prototype={$uiClass:d4,_kd:null,_ie:null,_kg:null,_ia:null,_ea:!1,type:"Q.Edge",otherNode:function(a){return a==this.from?this.to:a==this.to?this.from:void 0},connect:function(){if(this._ea){return !1}if(!this.$from||!this.$to){return !1}if(this._ea=!0,this.$from==this.$to){return void this.$from._i8(this)}eJ(this.$to,this),dp(this.$from,this),b7(this.$from,this,this.$to);var b=this.fromAgent,a=this.toAgent;if(b!=a){var c;this.$from._e1&&(jO(b,this,a),c=!0),this.$to._e1&&(eU(a,this,b),c=!0),c&&b7(b,this,a)}},disconnect:function(){if(!this._ea){return !1}if(this._ea=!1,this.$from==this.$to){return void this.$from._mom(this)}j9(this.$from,this),gt(this.$to,this),dJ(this.$from,this,this.$to);var b=this.fromAgent,a=this.toAgent;if(b!=a){var c;this.$from._e1&&(gf(b,this,a),c=!0),this.$to._e1&&(at(a,this,b),c=!0),c&&dJ(b,this,a)}},isConnected:function(){return this._ea},isInvalid:function(){return !this.$from||!this.$to},isLooped:function(){return this.$from==this.$to},getEdgeBundle:function(a){return a?this._2p():this.isLooped()?this.$from._3z:this.$from.getEdgeBundle(this.$to)},hasEdgeBundle:function(){var a=this.getEdgeBundle(!0);return a&&a.edges.length>1},_2p:function(){var b=this.fromAgent,a=this.toAgent;return b==a?this.$from._e1||this.$to._e1?null:this.$from._3z:this.fromAgent.getEdgeBundle(this.toAgent)},_9i:null,hasPathSegments:function(){return this._9i&&!this._9i.isEmpty()},isBundleEnabled:function(){return this.bundleEnabled&&!this.hasPathSegments()},firePathChange:function(a){this.onEvent(new gV(this,"path.segment",a))},addPathSegment:function(b,a,c){var d=new ey(a||ej,b);this._9i||(this._9i=new c2),this._9i.add(d,c),this.firePathChange(d)},addPathSegement:function(){return e4.log('change "edge.addPathSegement(...)" to "edge.addPathSegment(...)"'),this.addPathSegment.apply(this,arguments)},removePathSegmentByIndex:function(b){if(!this._9i){return !1}var a=this._9i.getByIndex(b);a&&(this._9i.remove(a),this.firePathChange(a))},removePathSegment:function(a){return this._9i?(this._9i.remove(a),void this.firePathChange(a)):!1},movePathSegment:function(b,a,c){if(!this._9i){return !1}if(b=b||0,a=a||0,e4.isNumber(c)){var d=this._9i.getByIndex(c);return d?(d.move(b,a),void this.firePathChange()):!1}iz(function(f){f.move(b,a)}),this.firePathChange()},move:function(b,a){return this._9i?(this._9i.forEach(function(c){c.move(b,a)},this),void this.firePathChange()):!1},validateEdgeBundle:function(){}},i2(hz,cB),iN(hz.prototype,{pathSegments:{get:function(){return this._9i},set:function(a){e4.isArray(a)&&(a=new c2(a)),this._9i=a,this.firePathChange()}},from:{get:function(){return this.$from},set:function(b){if(this.$from!=b){var a=new gV(this,"from",b,this.$from);this.beforeEvent(a)!==!1&&(this.disconnect(),this.$from=b,this.connect(),this.onEvent(a))}}},to:{get:function(){return this.$to},set:function(b){if(this.$to!=b){var a=new gV(this,"to",b,this.$to);this.beforeEvent(a)!==!1&&(this.disconnect(),this.$to=b,this.connect(),this.onEvent(a))}}},fromAgent:{get:function(){return this.$from?this.$from._e1||this.$from:null}},toAgent:{get:function(){return this.$to?this.$to._e1||this.$to:null}}}),jx(hz.prototype,["edgeType",{name:"bundleEnabled",value:!0},"angle"]);var jc=function(b,a,c){2==arguments.length&&i6(b)&&(c=a,a=b,b=null),this.id=++kw,this._moc={},this._jk={},b&&(this.$name=b),this.$image="Q-node",this.$anchorPosition=d7.CENTER_MIDDLE,this.$location={x:a||0,y:c||0},this._linkedNodes={}};jc.prototype={$uiClass:cE,_e1:null,forEachEdge:function(b,a,c){return !c&&this._kt&&this._kt.forEach(b,a)===!1?!1:cw(this,b,a)},forEachOutEdge:function(b,a){return hu(this,b,a)},forEachInEdge:function(b,a){return i1(this,b,a)},getEdges:function(){var a=[];return this.forEachEdge(function(b){a.push(b)}),a},_ii:null,_fy:null,_jq:null,_ik:null,_mmf:0,_9m:0,hasInEdge:function(){return null!=this._ii},hasOutEdge:function(){return null!=this._fy},hasEdge:function(){return null!=this._ii||null!=this._fy||this.hasLoops()},linkedWith:function(a){return a.from==this||a.to==this||a.fromAgent==this||a.toAgent==this},hasEdgeWith:function(b){var a=this.getEdgeBundle(b);return a&&a.edges.length>0},_kt:null,_3z:null,hasLoops:function(){return this._kt&&this._kt.length>0},_i8:function(a){return this._kt||(this._kt=new c2,this._3z=new c9(this,this,this._kt)),this._3z._ja(a)},_mom:function(a){return this._3z?this._3z._moz(a):void 0},getEdgeBundle:function(a){return a==this?this._3z:this._linkedNodes[a.id]||a._linkedNodes[this.id]},_6m:function(){return this._98&&this._98.length},_5b:function(){return this._7t&&this._7t.length},_97:function(){return this._6m()||this._5b()},_7t:null,_98:null,_mol:function(){var b=this._e1,a=cH(this);if(b!=a){var c=aN(this);this._9f(a),c.forEach(function(f){var d=f.fromAgent,h=f.toAgent,f=f.edge,j=f.$from._e1,g=f.$to._e1;d!=h&&(d&&gf(d,f,h||f.$to),h&&at(h,f,d||f.$from)),j!=g&&(j&&jO(j,f,g||f.$to),g&&eU(g,f,j||f.$from),b7(j||f.$from,f,g||f.$to))},this)}},onParentChanged:function(){e4.doSuper(this,jc,"onParentChanged",arguments),this._mol()},_8d:null,_$z:function(){var b;if(this._42?b=null:(b=this._e1,b||this._hp!==!1||(b=this)),this._8d==b){return !1}if(this._8d=b,this._g0&&this._g0._k2.length){for(var a,d=this._g0._k2,f=0,c=d.length;c>f;f++){a=d[f],a instanceof jc&&a._9f(b)}}},setLocation:function(b,a){if(this.$location&&this.$location.x==b&&this.$location.y==a){return !1}var c;c=this.$location?{x:this.$location.x,y:this.$location.y}:this.$location;var d=new gV(this,"location",c,{x:b,y:a});return this.beforeEvent(d)===!1?!1:(this.$location?(this.$location.x=b,this.$location.y=a):this.$location=new b9(b,a),this.onEvent(d),!0)},_dz:null,addFollower:function(a){return null==a?!1:a.host=this},removeFollower:function(a){return this._dz&&this._dz.contains(a)?a.host=null:!1},hasFollowers:function(){return this._dz&&!this._dz.isEmpty()},toFollowers:function(){return this.hasFollowers()?this._dz.toDatas():null},clearFollowers:function(){if(this.hasFollowers()){this.toFollowers();iz(this.toFollowers(),function(a){a.host=null})}},getFollowerIndex:function(a){return this._dz&&this._dz.contains(a)?this._dz.indexOf(a):-1},setFollowerIndex:function(b,a){return this._dz&&this._dz.contains(b)?void this._dz.setIndex(b,a):-1},getFollowerCount:function(){return this._dz?this._dz.length:0},_99:function(){return this._dz?this._dz:(this._dz=new c2,this._dz)},isFollow:function(b){if(!b||!this._host){return !1}for(var a=this._host;a;){if(a==b){return !0}a=a._host}return !1},_9f:function(a){return a==this._e1?!1:(this._e1=a,this.invalidateVisibility(),void this._$z())},type:"Q.Node"},i2(jc,cB),iN(jc.prototype,{loops:{get:function(){return this._kt}},edgeCount:{get:function(){return this._mmf+this._9m}},agentNode:{get:function(){return this._e1||this}},host:{set:function(b){if(this==b||b==this._host){return !1}var a=new gV(this,"host",this._host,b);if(!1===this.beforeEvent(a)){return !1}var f=null,g=null,d=this._host;if(null!=b&&(f=new gV(b,"follower.add",null,this),!1===b.beforeEvent(f))){return !1}if(null!=d&&(g=new gV(d,"follower.remove",null,this),!1===d.beforeEvent(g))){return !1}if(this._host=b,null!=b){var c=b._99();c.add(this)}if(null!=d){var c=d._99();c.remove(this)}return this.onEvent(a),null!=b&&b.onEvent(f),null!=d&&d.onEvent(g),!0},get:function(){return this._host}}}),jx(jc.prototype,["location","size","image","rotate","anchorPosition"]),iN(jc.prototype,{x:{get:function(){return this.location.x},set:function(a){a!=this.location.x&&(this.location=new b9(a,this.location.y))}},y:{get:function(){return this.location.y},set:function(a){a!=this.location.y&&(this.location=new b9(this.location.x,a))}}});var e6=function(b,a){b instanceof db&&(a=b,b=iC),hX(this,e6,[b]),this.path=a||new db,this.anchorPosition=null,this.uiClass=cb,cX.SHAPENODE_STYLES||(cX.SHAPENODE_STYLES={},cX.SHAPENODE_STYLES[bm.ARROW_TO]=!1),this.putStyles(cX.SHAPENODE_STYLES)};e6.prototype={$uiClass:cb,type:"Q.ShapeNode",moveTo:function(b,a){this.path.moveTo(b,a),this.firePathChange()},lineTo:function(b,a){this.path.lineTo(b,a),this.firePathChange()},quadTo:function(b,a,c,d){this.path.quadTo(b,a,c,d),this.firePathChange()},curveTo:function(b,a,f,g,d,c){this.path.curveTo(b,a,f,g,d,c),this.firePathChange()},arcTo:function(b,a,d,f,c){this.path.arcTo(b,a,d,f,c),this.firePathChange()},closePath:function(){this.path.closePath(),this.firePathChange()},clear:function(){this.path.clear(),this.firePathChange()},removePathSegmentByIndex:function(a){this.path.removePathSegment(a)!==!1&&this.firePathChange()},firePathChange:function(){this.path._63=!0,this.onEvent(new gV(this,"path.segment"))}},i2(e6,jc),iN(e6.prototype,{path:{get:function(){return this.image},set:function(a){this.image=a}},pathSegments:{get:function(){return this.path.segments},set:function(a){this.path.segments=a||[],this.firePathChange()}},length:{get:function(){return this.path.length}}}),e4.ShapeNode=e6;var jz={_jw:{},register:function(b,a){jz._jw[b]=a},getShape:function(d,c,h,f,e,g){f===iC&&(f=c,e=h,c=0,h=0),f||(f=50),e||(e=50);var b=jz._jw[d];return b?b.generator instanceof Function?b.generator(c,h,f,e,g):b:void 0},getRect:function(b,a,f,h,d,c,g){return b instanceof Object&&"width" in b&&(a=b.y,f=b.width,h=b.height,d=b.rx,c=b.ry,g=b.path,b=b.x),e1(g||new db,b,a,f,h,d,c)},getAllShapes:function(d,c,h,k,g){var f={};for(var j in jz._jw){var b=jz.getShape(j,d,c,h,k,g);b&&(f[j]=b)}return f},createRegularShape:function(b,a,d,f,c){return gL(b,a,d,f,c)}};c0(),c7.prototype={type:"Q.Bus"},i2(c7,e6),e4.Bus=c7,dQ.prototype={_hh:function(b){var a,d=b._k0;a=d?d._g0:this.$roots;var f=a.indexOf(b);if(0>f){throw new Error("data '"+b+"' not exist in the box")}for(;f>=0;){if(0==f){return d instanceof jc?d:null}f-=1;var c=a.getByIndex(f);if(c=h4(c)){return c}}return null},forEachNode:function(b,a){this.forEach(function(c){return c instanceof jc&&b.call(a,c)===!1?!1:void 0})},_3j:null},i2(dQ,iY),iN(dQ.prototype,{propertyChangeDispatcher:{get:function(){return this._$w}},currentSubNetwork:{get:function(){return this._3j},set:function(b){if(b&&!b.enableSubNetwork&&(b=null),this._3j!=b){var a=this._3j;this._3j=b,this._$w.onEvent(new gV(this,"currentSubNetwork",b,a))}}}}),cX.GROUP_TYPE=aF.GROUP_TYPE_RECT,cX.GROUP_PADDING=5,cX.GROUP_EXPANDED=!0,cX.GROUP_MIN_SIZE={width:60,height:60};var ap=function(b,a,c){hX(this,ap,arguments),(a===iC||c===iC)&&(this.$location.invalidateFlag=!0),this.$groupType=cX.GROUP_TYPE,this.$padding=cX.GROUP_PADDING,this.$image=hU.group,this.$minSize=cX.GROUP_MIN_SIZE,this.expanded=cX.GROUP_EXPANDED};ap.prototype={type:"Q.Group",$uiClass:du,_mlb:function(){return !this._hp&&!this._e1},forEachOutEdge:function(b,a,c){if(hu(this,b,a)===!1){return !1}if(!c&&this._mlb()){return this._7t?this._7t.forEach(b,a):void 0}},forEachInEdge:function(b,a,c){if(i1(this,b,a)===!1){return !1}if(!c&&this._mlb()){return this._98?this._98.forEach(b,a):void 0}},forEachEdge:function(b,a,c){if(jB(this,ap,"forEachEdge",arguments)===!1){return !1}if(!c&&!c&&this._mlb()){return this._98&&this._98.forEach(b,a)===!1?!1:this._7t?this._7t.forEach(b,a):void 0}},hasInEdge:function(a){return a?null!=this._ii:null!=this._ii||this._6m()},hasOutEdge:function(a){return a?null!=this._fy:null!=this._fy||this._5b()},hasEdge:function(a){return a?null!=this._ii||null!=this._fy:null!=this._ii||null!=this._fy||this._97()}},i2(ap,jc),iN(ap.prototype,{expanded:{get:function(){return this._hp},set:function(b){if(this._hp!=b){var a=new gV(this,"expanded",b,this._hp);this.beforeEvent(a)!==!1&&(this._hp=b,this._$z(),this.onEvent(a),this._e1||hM.call(this))}}}}),jx(ap.prototype,["minSize","groupType","padding","groupImage"]),e4.Group=ap,cg.prototype.type="Q.Text",i2(cg,jc),e4.Text=cg;var bI=function(a){this._js=new fU,this._80=new fU,this._g7=new fU,this.id=++kw,a&&(this.data=a)};bI.prototype={invalidate:function(){this.invalidateData()},_1e:!0,_js:null,_80:null,_g7:null,_mlf:!1,_jx:1,_jy:1,_ic:!0,_7w:0,_78:0,_k0:null,_mlm:null,borderColor:"#444",borderLineDash:null,borderLineDashOffset:null,syncSelection:!0,syncSelectionStyles:!0,_18:function(){this.$anchorPoint=eY(this.anchorPosition,this._7w,this._78)},setMeasuredBounds:function(b,a,c,d){return b instanceof Object&&(c=b.x,d=b.y,a=b.height,b=b.width),this._js.width==b&&this._js.height==a&&this._js.x==c&&this._js.y==d?!1:void this._js.set(c||0,d||0,b||0,a||0)},initialize:function(){},measure:function(){},draw:function(){},_7u:function(b,a,c){c.selectionType==aF.SELECTION_TYPE_SHADOW?(b.shadowColor=c.selectionColor,b.shadowBlur=c.selectionShadowBlur*a,b.shadowOffsetX=(c.selectionShadowOffsetX||0)*a,b.shadowOffsetY=(c.selectionShadowOffsetY||0)*a):this._1v(b,a,c)},_1v:function(b,a,c){var d=c.selectionBorder||0;c.selectionBackgroundColor&&(b.fillStyle=c.selectionBackgroundColor,b.fillRect(this._80.x-d/2,this._80.y-d/2,this._80.width+d,this._80.height+d)),b.strokeStyle=c.selectionColor,b.lineWidth=d,b.strokeRect(this._80.x-d/2,this._80.y-d/2,this._80.width+d,this._80.height+d)},_jp:function(b,a,d,f){if(!this._ic){return !1}if(this.syncSelection||(d=this.selected),(d&&!this.syncSelectionStyles||!f)&&(f=this),b.save(),1!=this.$alpha&&(b.globalAlpha=this.$alpha),b.translate(this.$x,this.$y),this.$rotatable&&this.$_hostRotate&&b.rotate(this.$_hostRotate),(this.offsetX||this.offsetY)&&b.translate(this.offsetX,this.offsetY),this.$rotate&&b.rotate(this.$rotate),this.$layoutByAnchorPoint&&this._mlm&&b.translate(-this._mlm.x,-this._mlm.y),this.shadowColor&&(b.shadowColor=this.shadowColor,b.shadowBlur=this.shadowBlur*a,b.shadowOffsetX=this.shadowOffsetX*a,b.shadowOffsetY=this.shadowOffsetY*a),d&&f.selectionType==aF.SELECTION_TYPE_BORDER_RECT&&(this._1v(b,a,f),d=!1),this._$u()&&this._liShape&&!this._liShape._empty){this._liShape.validate();var c={lineWidth:this.$border,strokeStyle:this.borderColor,lineDash:this.borderLineDash,lineDashOffset:this.borderLineDashOffset,fillColor:this.$backgroundColor,fillGradient:this._mmackgroundGradient,lineCap:"butt",lineJoin:"round"};this._liShape.draw(b,a,c,d,f),d=!1,b.shadowColor="rgba(0,0,0,0)"}b.beginPath(),this.draw(b,a,d,f),b.restore()},invalidateData:function(){this.$invalidateData=!0,this.$invalidateSize=!0,this._1e=!0},invalidateSize:function(){this.$invalidateSize=!0,this._1e=!0},invalidateRender:function(){this._1e=!0},_54:function(){},_$u:function(){return this.$backgroundColor||this.$backgroundGradient||this.$border},_3w:function(){return this.$backgroundColor||this.$backgroundGradient},doValidate:function(){return this.$invalidateData&&(this.$invalidateData=!1,this.measure()!==!1&&(this.$invalidateSize=!0)),this.$invalidateSize&&this.validateSize&&this.validateSize(),jP.call(this)?(this.$invalidateRotate=!0,this.onBoundsChanged&&this.onBoundsChanged(),!0):this.$invalidateLocation?(this.$invalidateRotate=!0,this.$invalidateLocation=!1,!0):void 0},validate:function(){var a=this._ic;return this.$invalidateVisibility&&(this.$invalidateVisibility=!1,this._ic=this.$visible,!this._ic||(this.$data||this.$showEmpty)&&this._54()!==!1||(this._ic=!1)),this._ic?(this._1e=!1,this._mlf||(this.initialize(),this._mlf=!0),this.doValidate()):a!=this._ic},_i0:function(b,a){return b-=this.$x,a-=this.$y,eb.call(this,{x:b,y:a})},hitTest:function(b,a,d,f){if(b-=this.$x,a-=this.$y,!this._g7.intersectsPoint(b,a,d)){return !1}var c=eb.call(this,{x:b,y:a});return b=c.x,a=c.y,!f&&this._$u()&&this._liShape&&this._liShape.hitTest(b,a,d,!1,this.$border,this.$backgroundColor||this.$backgroundGradient)?!0:this.doHitTest(b,a,d)},doHitTest:function(b,a,c){return this._js.intersectsPoint(b,a,c)},hitTestByBounds:function(b,a,d,f){var c=this._i0(b,a);return !f&&this._$u()&&this._liShape&&this._liShape.hitTest(b,a,d,!1,this.$border,this.$backgroundColor||this.$backgroundGradient)?!0:this._js.intersectsPoint(c.x,c.y,d)},onDataChanged:function(){this.$invalidateData=!0,this._1e=!0,this.$invalidateVisibility=!0},getBounds:function(){var a=this._g7.clone();return a.offset(this.x,this.y),this.parent&&(this.parent.rotate&&jy(a,this.parent.rotate,a),a.offset(this.parent.x||0,this.parent.y||0)),a},destroy:function(){this._iged=!0},_du:!1},iN(bI.prototype,{originalBounds:{get:function(){return this._js}},data:{get:function(){return this.$data},set:function(b){if(this.$data!=b){var a=this.$data;this.$data=b,this.onDataChanged(b,a)}}},parent:{get:function(){return this._k0}},showOnTop:{get:function(){return this._du},set:function(a){a!=this._du&&(this._du=a,this._1e=!0,this._k0&&this._k0._mlv&&this._k0._mlv(this))}}}),fK(bI.prototype,{visible:{value:!0,validateFlags:["Visibility","Location"]},showEmpty:{validateFlags:["Visibility"]},anchorPosition:{value:d7.CENTER_MIDDLE,validateFlags:["AnchorPoint","Location"]},position:{value:d7.CENTER_MIDDLE,validateFlags:["Location"]},offsetX:{value:0,validateFlags:["Location"]},offsetY:{value:0,validateFlags:["Location"]},layoutByAnchorPoint:{value:!0,validateFlags:["Size","AnchorPoint","Location"]},padding:{value:0,validateFlags:["Size"]},border:{value:0,validateFlags:["Size"]},borderRadius:{value:cX.BORDER_RADIUS},showPointer:{value:!1,validateFlags:["Size"]},pointerX:{value:0,validateFlags:["Size"]},pointerY:{value:0,validateFlags:["Size"]},pointerWidth:{value:cX.POINTER_WIDTH},backgroundColor:{validateFlags:["Size"]},backgroundGradient:{validateFlags:["Size","BackgroundGradient"]},selected:{value:!1,validateFlags:["Size"]},selectionBorder:{value:cX.SELECTION_BORDER,validateFlags:["Size"]},selectionShadowBlur:{value:cX.SELECTION_SHADOW_BLUR,validateFlags:["Size"]},selectionColor:{value:cX.SELECTION_COLOR,validateFlags:["Size"]},selectionType:{value:cX.SELECTION_TYPE,validateFlags:["Size"]},selectionShadowOffsetX:{value:0,validateFlags:["Size"]},selectionShadowOffsetY:{value:0,validateFlags:["Size"]},shadowBlur:{value:0,validateFlags:["Size"]},shadowColor:{validateFlags:["Size"]},shadowOffsetX:{value:0,validateFlags:["Size"]},shadowOffsetY:{value:0,validateFlags:["Size"]},renderColorBlendMode:{},renderColor:{},x:{value:0,validateFlags:["Location"]},y:{value:0,validateFlags:["Location"]},rotatable:{value:!0,validateFlags:["Rotate","Size"]},rotate:{value:0,validateFlags:["Rotate","Size"]},_hostRotate:{validateFlags:["Rotate"]},lineWidth:{value:0,validateFlags:["Data"]},alpha:{value:1}});var fx=[aF.PROPERTY_TYPE_ACCESSOR,aF.PROPERTY_TYPE_STYLE,aF.PROPERTY_TYPE_CLIENT];fT.prototype={removeBinding:function(b){for(var a=fx.length;--a>=0;){var f=fx[a],g=this[f];for(var d in g){var c=g[d];Array.isArray(c)?(ix(c,function(e){return e.target==b},this),c.length||delete g[d]):c.target==b&&delete g[d]}}},_1w:function(b,a,c){if(!c&&(c=this[a.propertyType||aF.PROPERTY_TYPE_ACCESSOR],!c)){return !1}var d=c[b];d?(Array.isArray(d)||(c[b]=d=[d]),d.push(a)):c[b]=a},_2g:function(d,c,h,k,g,f){d=d||aF.PROPERTY_TYPE_ACCESSOR;var j=this[d];if(!j){return !1}var b={property:c,propertyType:d,bindingProperty:k,target:h,callback:g,invalidateSize:f};this._1w(c,b,j)},onBindingPropertyChange:function(b,a,f,g){var d=this[f||aF.PROPERTY_TYPE_ACCESSOR];if(!d){return !1}var c=d[a];return c?(b._1e=!0,bL(b,c,f,g),!0):!1},initBindingProperties:function(k,f){for(var d=fx.length;--d>=0;){var b=fx[d],m=this[b];for(var c in m){var j=m[c];if(j.bindingProperty){var g=j.target;if(g){if(!(g instanceof bI||(g=k[g]))){continue}}else{g=k}var e;e=f===!1?k.getProperty(j.property,b):b==aF.PROPERTY_TYPE_STYLE?k.graph.getStyle(k.$data,j.property):k.$data[j.property],e!==iC&&(g[j.bindingProperty]=e)}}}}};var bm={};bm.SELECTION_COLOR="selection.color",bm.SELECTION_BORDER="selection.border",bm.SELECTION_SHADOW_BLUR="selection.shadow.blur",bm.SELECTION_SHADOW_OFFSET_X="selection.shadow.offset.x",bm.SELECTION_SHADOW_OFFSET_Y="selection.shadow.offset.y",bm.SELECTION_TYPE="selection.type",bm.RENDER_COLOR="render.color",bm.RENDER_COLOR_BLEND_MODE="render.color.blend.mode",bm.ALPHA="alpha",bm.SHADOW_BLUR="shadow.blur",bm.SHADOW_COLOR="shadow.color",bm.SHADOW_OFFSET_X="shadow.offset.x",bm.SHADOW_OFFSET_Y="shadow.offset.y",bm.SHAPE_STROKE="shape.stroke",bm.SHAPE_STROKE_STYLE="shape.stroke.style",bm.SHAPE_LINE_FILL_COLOR="shape.stroke.fill.color",bm.SHAPE_LINE_DASH="shape.line.dash",bm.SHAPE_LINE_DASH_OFFSET="shape.line.dash.offset",bm.SHAPE_FILL_COLOR="shape.fill.color",bm.SHAPE_FILL_GRADIENT="shape.fill.gradient",bm.SHAPE_OUTLINE="shape.outline",bm.SHAPE_OUTLINE_STYLE="shape.outline.style",bm.LAYOUT_BY_PATH="layout.by.path",bm.BACKGROUND_COLOR="background.color",bm.BACKGROUND_GRADIENT="background.gradient",bm.BORDER="border.width",bm.BORDER_COLOR="border.color",bm.BORDER_LINE_DASH="border.line.dash",bm.BORDER_LINE_DASH_OFFSET="border.line.dash.offset",bm.BORDER_RADIUS="border.radius",bm.PADDING="padding",bm.LINE_CAP="line.cap",bm.LINE_JOIN="line.join",bm.LINE_DASH_CAP="line.dash.cap",bm.LINE_DASH_JOIN="line.dash.join",bm.IMAGE_BACKGROUND_COLOR="image.background.color",bm.IMAGE_BACKGROUND_GRADIENT="image.background.gradient",bm.IMAGE_BORDER="image.border.width",bm.IMAGE_BORDER_STYLE=bm.IMAGE_BORDER_COLOR="image.border.style",bm.IMAGE_BORDER_LINE_DASH="image.border.line.dash",bm.IMAGE_BORDER_LINE_DASH_OFFSET="image.border.line.dash.offset",bm.IMAGE_RADIUS=bm.IMAGE_BORDER_RADIUS="image.radius",bm.IMAGE_PADDING="image.padding",bm.IMAGE_Z_INDEX="image.z.index",bm.IMAGE_ADJUST="image.adjust",bm.IMAGE_ALPHA="image.alpha",bm.LABEL_ROTATE="label.rotate",bm.LABEL_POSITION="label.position",bm.LABEL_VISIBLE="label.visible",bm.LABEL_ANCHOR_POSITION="label.anchor.position",bm.LABEL_COLOR="label.color",bm.LABEL_FONT_SIZE="label.font.size",bm.LABEL_FONT_FAMILY="label.font.family",bm.LABEL_FONT_STYLE="label.font.style",bm.LABEL_PADDING="label.padding",bm.LABEL_POINTER_WIDTH="label.pointer.width",bm.LABEL_POINTER="label.pointer",bm.LABEL_RADIUS="label.radius",bm.LABEL_OFFSET_X="label.offset.x",bm.LABEL_OFFSET_Y="label.offset.y",bm.LABEL_SIZE="label.size",bm.LABEL_ALIGN_POSITION="label.align.position",bm.LABEL_BORDER="label.border",bm.LABEL_BORDER_STYLE="label.border.style",bm.LABEL_BACKGROUND_COLOR="label.background.color",bm.LABEL_BACKGROUND_GRADIENT="label.background.gradient",bm.LABEL_ROTATABLE="label.rotatable",bm.LABEL_SHADOW_BLUR="label.shadow.blur",bm.LABEL_SHADOW_COLOR="label.shadow.color",bm.LABEL_SHADOW_OFFSET_X="label.shadow.offset.x",bm.LABEL_SHADOW_OFFSET_Y="label.shadow.offset.y",bm.LABEL_Z_INDEX="label.z.index",bm.LABEL_ON_TOP="label.on.top",bm.GROUP_BACKGROUND_COLOR="group.background.color",bm.GROUP_BACKGROUND_GRADIENT="group.background.gradient",bm.GROUP_STROKE="group.stroke",bm.GROUP_STROKE_STYLE="group.stroke.color",bm.GROUP_STROKE_LINE_DASH="group.stroke.line.dash",bm.GROUP_STROKE_LINE_DASH_OFFSET="group.stroke.line.dash.offset",bm.EDGE_BUNDLE_LABEL_ROTATE="edge.bundle.label.rotate",bm.EDGE_BUNDLE_LABEL_POSITION="edge.bundle.label.position",bm.EDGE_BUNDLE_LABEL_ANCHOR_POSITION="edge.bundle.label.anchor.position",bm.EDGE_BUNDLE_LABEL_COLOR="edge.bundle.label.color",bm.EDGE_BUNDLE_LABEL_FONT_SIZE="edge.bundle.label.font.size",bm.EDGE_BUNDLE_LABEL_FONT_FAMILY="edge.bundle.label.font.family",bm.EDGE_BUNDLE_LABEL_FONT_STYLE="edge.bundle.label.font.style",bm.EDGE_BUNDLE_LABEL_PADDING="edge.bundle.label.padding",bm.EDGE_BUNDLE_LABEL_POINTER_WIDTH="edge.bundle.label.pointer.width",bm.EDGE_BUNDLE_LABEL_POINTER="edge.bundle.label.pointer",bm.EDGE_BUNDLE_LABEL_RADIUS="edge.bundle.label.radius",bm.EDGE_BUNDLE_LABEL_OFFSET_X="edge.bundle.label.offset.x",bm.EDGE_BUNDLE_LABEL_OFFSET_Y="edge.bundle.label.offset.y",bm.EDGE_BUNDLE_LABEL_BORDER="edge.bundle.label.border",bm.EDGE_BUNDLE_LABEL_BORDER_STYLE="edge.bundle.label.border.color",bm.EDGE_BUNDLE_LABEL_BACKGROUND_COLOR="edge.bundle.label.background.color",bm.EDGE_BUNDLE_LABEL_BACKGROUND_GRADIENT="edge.bundle.label.background.gradient",bm.EDGE_BUNDLE_LABEL_ROTATABLE="edge.bundle.label.rotatable",bm.EDGE_WIDTH="edge.width",bm.EDGE_COLOR="edge.color",bm.EDGE_OUTLINE="edge.outline",bm.EDGE_OUTLINE_STYLE="edge.outline.style",bm.EDGE_LINE_DASH="edge.line.dash",bm.EDGE_LINE_DASH_OFFSET="edge.line.dash.offset",bm.EDGE_FROM_OFFSET="edge.from.offset",bm.EDGE_TO_OFFSET="edge.to.offset",bm.EDGE_FILL_COLOR="edge.fill.color",bm.EDGE_BUNDLE_GAP="edge.bundle.gap",bm.EDGE_LOOPED_EXTAND="edge.looped.extand",bm.EDGE_EXTEND="edge.extend",bm.EDGE_CONTROL_POINT="edge.control.point",bm.EDGE_SPLIT_BY_PERCENT="edge.split.by.percent",bm.EDGE_SPLIT_PERCENT="edge.split.percent",bm.EDGE_SPLIT_VALUE="edge.split.value",bm.EDGE_CORNER="edge.corner",bm.EDGE_CORNER_RADIUS="edge.corner.radius",bm.EDGE_FROM_AT_EDGE="edge.from.at.edge",bm.EDGE_TO_AT_EDGE="edge.to.at.edge",bm.ARROW_FROM="arrow.from",bm.ARROW_FROM_SIZE="arrow.from.size",bm.ARROW_FROM_OFFSET="arrow.from.offset",bm.ARROW_FROM_STROKE="arrow.from.stroke",bm.ARROW_FROM_STROKE_STYLE="arrow.from.stroke.style",bm.ARROW_FROM_OUTLINE="arrow.from.outline",bm.ARROW_FROM_OUTLINE_STYLE="arrow.from.outline.style",bm.ARROW_FROM_LINE_DASH="arrow.from.line.dash",bm.ARROW_FROM_LINE_DASH_OFFSET="arrow.from.line.dash.offset",bm.ARROW_FROM_FILL_COLOR="arrow.from.fill.color",bm.ARROW_FROM_FILL_GRADIENT="arrow.from.fill.gradient",bm.ARROW_FROM_LINE_CAP="arrow.from.line.cap",bm.ARROW_FROM_LINE_JOIN="arrow.from.line.join",bm.ARROW_TO="arrow.to",bm.ARROW_TO_SIZE="arrow.to.size",bm.ARROW_TO_OFFSET="arrow.to.offset",bm.ARROW_TO_STROKE="arrow.to.stroke",bm.ARROW_TO_STROKE_STYLE="arrow.to.stroke.style",bm.ARROW_TO_OUTLINE="arrow.to.outline",bm.ARROW_TO_OUTLINE_STYLE="arrow.to.outline.style",bm.ARROW_TO_LINE_DASH="arrow.to.line.dash",bm.ARROW_TO_LINE_DASH_OFFSET="arrow.to.line.dash.offset",bm.ARROW_TO_FILL_COLOR="arrow.to.fill.color",bm.ARROW_TO_FILL_GRADIENT="arrow.to.fill.gradient",bm.ARROW_TO_LINE_CAP="arrow.to.line.cap",bm.ARROW_TO_LINE_JOIN="arrow.to.line.join";var f6=new fT,gQ=aF.PROPERTY_TYPE_ACCESSOR,fm=aF.PROPERTY_TYPE_STYLE,g8=!1;f6._2g(fm,bm.SELECTION_TYPE,null,"selectionType"),f6._2g(fm,bm.SELECTION_BORDER,null,"selectionBorder"),f6._2g(fm,bm.SELECTION_SHADOW_BLUR,null,"selectionShadowBlur"),f6._2g(fm,bm.SELECTION_COLOR,null,"selectionColor"),f6._2g(fm,bm.SELECTION_SHADOW_OFFSET_X,null,"selectionShadowOffsetX"),f6._2g(fm,bm.SELECTION_SHADOW_OFFSET_Y,null,"selectionShadowOffsetY"),f6._2g(gQ,"name","label","data"),f6._2g(fm,bm.LABEL_VISIBLE,"label","visible"),f6._2g(fm,bm.LABEL_POSITION,"label","position"),f6._2g(fm,bm.LABEL_ANCHOR_POSITION,"label","anchorPosition"),f6._2g(fm,bm.LABEL_COLOR,"label","color"),f6._2g(fm,bm.LABEL_FONT_SIZE,"label","fontSize"),f6._2g(fm,bm.LABEL_BORDER,"label","border"),f6._2g(fm,bm.LABEL_BORDER_STYLE,"label","borderColor"),f6._2g(fm,bm.LABEL_BACKGROUND_COLOR,"label","backgroundColor"),f6._2g(fm,bm.LABEL_ON_TOP,"label","showOnTop"),g8||(f6._2g(fm,bm.SHADOW_BLUR,null,"shadowBlur"),f6._2g(fm,bm.SHADOW_COLOR,null,"shadowColor"),f6._2g(fm,bm.SHADOW_OFFSET_X,null,"shadowOffsetX"),f6._2g(fm,bm.SHADOW_OFFSET_Y,null,"shadowOffsetY"),f6._2g(fm,bm.LABEL_FONT_FAMILY,"label","fontFamily"),f6._2g(fm,bm.LABEL_FONT_STYLE,"label","fontStyle"),f6._2g(fm,bm.LABEL_ALIGN_POSITION,"label","alignPosition"),f6._2g(fm,bm.LABEL_ROTATE,"label","rotate"),f6._2g(fm,bm.LABEL_PADDING,"label","padding"),f6._2g(fm,bm.LABEL_POINTER_WIDTH,"label","pointerWidth"),f6._2g(fm,bm.LABEL_POINTER,"label","showPointer"),f6._2g(fm,bm.LABEL_RADIUS,"label","borderRadius"),f6._2g(fm,bm.LABEL_OFFSET_X,"label","offsetX"),f6._2g(fm,bm.LABEL_OFFSET_Y,"label","offsetY"),f6._2g(fm,bm.LABEL_ROTATABLE,"label","rotatable"),f6._2g(fm,bm.LABEL_BACKGROUND_GRADIENT,"label","backgroundGradient"),f6._2g(fm,bm.LABEL_SIZE,"label","size"),f6._2g(fm,bm.LABEL_SHADOW_BLUR,"label","shadowBlur"),f6._2g(fm,bm.LABEL_SHADOW_COLOR,"label","shadowColor"),f6._2g(fm,bm.LABEL_SHADOW_OFFSET_X,"label","shadowOffsetX"),f6._2g(fm,bm.LABEL_SHADOW_OFFSET_Y,"label","shadowOffsetY"),f6._2g(fm,bm.LABEL_Z_INDEX,"label","zIndex"),f6._2g(fm,bm.RENDER_COLOR,null,"renderColor"),f6._2g(fm,bm.RENDER_COLOR_BLEND_MODE,null,"renderColorBlendMode"),f6._2g(fm,bm.ALPHA,null,"alpha"));var b1=new fT;b1._2g(gQ,"location"),b1._2g(gQ,"anchorPosition",null,"_2k"),b1._2g(gQ,"rotate",null,"rotate"),g8||(b1._2g(fm,bm.BACKGROUND_COLOR,null,"backgroundColor"),b1._2g(fm,bm.BACKGROUND_GRADIENT,null,"backgroundGradient"),b1._2g(fm,bm.PADDING,null,"padding"),b1._2g(fm,bm.BORDER,null,"border"),b1._2g(fm,bm.BORDER_RADIUS,null,"borderRadius"),b1._2g(fm,bm.BORDER_COLOR,null,"borderColor"),b1._2g(fm,bm.BORDER_LINE_DASH,null,"borderLineDash"),b1._2g(fm,bm.BORDER_LINE_DASH_OFFSET,null,"borderLineDashOffset")),b1._2g(gQ,"image","image","data","_moo"),b1._2g(gQ,"size","image","size"),b1._2g(fm,bm.SHAPE_STROKE,"image","lineWidth"),b1._2g(fm,bm.SHAPE_STROKE_STYLE,"image","strokeStyle"),b1._2g(fm,bm.SHAPE_FILL_COLOR,"image","fillColor"),b1._2g(fm,bm.LAYOUT_BY_PATH,"image","layoutByPath"),g8||(b1._2g(fm,bm.IMAGE_ADJUST,"image","adjustType"),b1._2g(fm,bm.SHAPE_OUTLINE,"image","outline"),b1._2g(fm,bm.SHAPE_OUTLINE_STYLE,"image","outlineStyle"),b1._2g(fm,bm.SHAPE_FILL_GRADIENT,"image","fillGradient"),b1._2g(fm,bm.SHAPE_LINE_DASH,"image","lineDash"),b1._2g(fm,bm.SHAPE_LINE_DASH_OFFSET,"image","lineDashOffset"),b1._2g(fm,bm.LINE_CAP,"image","lineCap"),b1._2g(fm,bm.LINE_JOIN,"image","lineJoin"),b1._2g(fm,bm.IMAGE_BACKGROUND_COLOR,"image","backgroundColor"),b1._2g(fm,bm.IMAGE_BACKGROUND_GRADIENT,"image","backgroundGradient"),b1._2g(fm,bm.IMAGE_PADDING,"image","padding"),b1._2g(fm,bm.IMAGE_BORDER,"image","border"),b1._2g(fm,bm.IMAGE_BORDER_RADIUS,"image","borderRadius"),b1._2g(fm,bm.IMAGE_BORDER_COLOR,"image","borderColor"),b1._2g(fm,bm.IMAGE_BORDER_LINE_DASH,"image","borderLineDash"),b1._2g(fm,bm.IMAGE_BORDER_LINE_DASH_OFFSET,"image","borderLineDashOffset"),b1._2g(fm,bm.IMAGE_Z_INDEX,"image","zIndex"),b1._2g(fm,bm.IMAGE_ALPHA,"image","alpha")),b1._2g(gQ,"expanded",null,null,"checkBody"),b1._2g(gQ,"enableSubNetwork",null,null,"checkBody");var ku=new fT;ku._2g(gQ,"groupType",null,null,"_5u"),ku._2g(gQ,"groupImage",null,null,"_5u"),ku._2g(gQ,"minSize",null,null,"_5u"),ku._2g(gQ,"padding",null,null,"_5u"),ku._2g(fm,bm.GROUP_BACKGROUND_COLOR,"shape","fillColor"),ku._2g(fm,bm.GROUP_BACKGROUND_GRADIENT,"shape","fillGradient"),ku._2g(fm,bm.GROUP_STROKE,"shape","lineWidth"),ku._2g(fm,bm.GROUP_STROKE_STYLE,"shape","strokeStyle"),ku._2g(fm,bm.GROUP_STROKE_LINE_DASH,"shape","lineDash"),ku._2g(fm,bm.GROUP_STROKE_LINE_DASH_OFFSET,"shape","lineDashOffset");var aH=new fT;aH._2g(gQ,"from","shape",null,"_4g"),aH._2g(gQ,"to","shape",null,"_4g"),aH._2g(gQ,"edgeType","shape",null,"_4g"),aH._2g(fm,bm.EDGE_EXTEND,"shape",null,"_4g"),aH._2g(fm,bm.EDGE_WIDTH,"shape","lineWidth"),aH._2g(fm,bm.EDGE_COLOR,"shape","strokeStyle"),aH._2g(fm,bm.ARROW_FROM,"shape","fromArrow"),aH._2g(fm,bm.ARROW_TO,"shape","toArrow"),g8||(aH._2g(fm,bm.LINE_DASH_CAP,"shape","lineDashCap"),aH._2g(fm,bm.LINE_DASH_JOIN,"shape","lineDashJoin"),aH._2g(fm,bm.EDGE_FILL_COLOR,"shape","lineFillColor"),aH._2g(fm,bm.EDGE_FROM_AT_EDGE,null,"fromAtEdge","_4g"),aH._2g(fm,bm.EDGE_TO_AT_EDGE,null,"toAtEdge","_4g"),aH._2g(fm,bm.EDGE_OUTLINE,"shape","outline"),aH._2g(fm,bm.EDGE_OUTLINE_STYLE,"shape","outlineStyle"),aH._2g(fm,bm.EDGE_LINE_DASH,"shape","lineDash"),aH._2g(fm,bm.EDGE_LINE_DASH_OFFSET,"shape","lineDashOffset"),aH._2g(fm,bm.EDGE_CONTROL_POINT,"shape",null,"_4g"),aH._2g(fm,bm.EDGE_FROM_OFFSET,"shape",null,"_4g"),aH._2g(fm,bm.EDGE_TO_OFFSET,"shape",null,"_4g"),aH._2g(fm,bm.LINE_CAP,"shape","lineCap"),aH._2g(fm,bm.LINE_JOIN,"shape","lineJoin"),aH._2g(gQ,"path.segment",null,null,"_4g",!0),aH._2g(gQ,"angle",null,null,"_4g",!0),aH._2g(fm,bm.ARROW_FROM_SIZE,"shape","fromArrowSize"),aH._2g(fm,bm.ARROW_FROM_OFFSET,"shape","fromArrowOffset"),aH._2g(fm,bm.ARROW_FROM_STROKE,"shape","fromArrowStroke"),aH._2g(fm,bm.ARROW_FROM_STROKE_STYLE,"shape","fromArrowStrokeStyle"),aH._2g(fm,bm.ARROW_FROM_OUTLINE,"shape","fromArrowOutline"),aH._2g(fm,bm.ARROW_FROM_OUTLINE_STYLE,"shape","fromArrowOutlineStyle"),aH._2g(fm,bm.ARROW_FROM_FILL_COLOR,"shape","fromArrowFillColor"),aH._2g(fm,bm.ARROW_FROM_FILL_GRADIENT,"shape","fromArrowFillGradient"),aH._2g(fm,bm.ARROW_FROM_LINE_DASH,"shape","fromArrowLineDash"),aH._2g(fm,bm.ARROW_FROM_LINE_DASH_OFFSET,"shape","fromArrowLineDashOffset"),aH._2g(fm,bm.ARROW_FROM_LINE_JOIN,"shape","fromArrowLineJoin"),aH._2g(fm,bm.ARROW_FROM_LINE_CAP,"shape","fromArrowLineCap"),aH._2g(fm,bm.ARROW_TO_SIZE,"shape","toArrowSize"),aH._2g(fm,bm.ARROW_TO_OFFSET,"shape","toArrowOffset"),aH._2g(fm,bm.ARROW_TO_STROKE,"shape","toArrowStroke"),aH._2g(fm,bm.ARROW_TO_STROKE_STYLE,"shape","toArrowStrokeStyle"),aH._2g(fm,bm.ARROW_TO_OUTLINE,"shape","toArrowOutline"),aH._2g(fm,bm.ARROW_TO_OUTLINE_STYLE,"shape","toArrowOutlineStyle"),aH._2g(fm,bm.ARROW_TO_FILL_COLOR,"shape","toArrowFillColor"),aH._2g(fm,bm.ARROW_TO_FILL_GRADIENT,"shape","toArrowFillGradient"),aH._2g(fm,bm.ARROW_TO_LINE_DASH,"shape","toArrowLineDash"),aH._2g(fm,bm.ARROW_TO_LINE_DASH_OFFSET,"shape","toArrowLineDashOffset"),aH._2g(fm,bm.ARROW_TO_LINE_JOIN,"shape","toArrowLineJoin"),aH._2g(fm,bm.ARROW_TO_LINE_CAP,"shape","toArrowLineCap"));var d6=new fT;d6._2g(fm,bm.EDGE_BUNDLE_LABEL_COLOR,"bundleLabel","color"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_POSITION,"bundleLabel","position"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_ANCHOR_POSITION,"bundleLabel","anchorPosition"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_FONT_SIZE,"bundleLabel","fontSize"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_ROTATABLE,"bundleLabel","rotatable"),g8||(d6._2g(fm,bm.EDGE_BUNDLE_LABEL_ROTATE,"bundleLabel","rotate"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_FONT_FAMILY,"bundleLabel","fontFamily"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_FONT_STYLE,"bundleLabel","fontStyle"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_PADDING,"bundleLabel","padding"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_POINTER_WIDTH,"bundleLabel","pointerWidth"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_POINTER,"bundleLabel","showPointer"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_RADIUS,"bundleLabel","borderRadius"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_OFFSET_X,"bundleLabel","offsetX"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_OFFSET_Y,"bundleLabel","offsetY"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_BORDER,"bundleLabel","border"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_BORDER_STYLE,"bundleLabel","borderColor"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_BACKGROUND_COLOR,"bundleLabel","backgroundColor"),d6._2g(fm,bm.EDGE_BUNDLE_LABEL_BACKGROUND_GRADIENT,"bundleLabel","backgroundGradient"));var jM=new fT;jM._2g(gQ,"location"),jM._2g(fm,bm.BACKGROUND_COLOR,null,"backgroundColor"),jM._2g(fm,bm.BACKGROUND_GRADIENT,null,"backgroundGradient"),jM._2g(fm,bm.PADDING,null,"padding"),jM._2g(fm,bm.BORDER,null,"border"),jM._2g(fm,bm.BORDER_RADIUS,null,"borderRadius"),jM._2g(fm,bm.BORDER_COLOR,null,"borderColor"),jM._2g(fm,bm.BORDER_LINE_DASH,null,"borderLineDash"),jM._2g(fm,bm.BORDER_LINE_DASH_OFFSET,null,"borderLineDashOffset"),jM._2g(gQ,"rotate",null,"rotate"),jM._2g(gQ,"path.segment",null,null,"invalidateShape"),jM._2g(gQ,"path","image","data"),jM._2g(gQ,"size","image","size"),jM._2g(fm,bm.SHAPE_STROKE,"image","lineWidth"),jM._2g(fm,bm.SHAPE_STROKE_STYLE,"image","strokeStyle"),jM._2g(fm,bm.SHAPE_FILL_COLOR,"image","fillColor"),jM._2g(fm,bm.SHAPE_FILL_GRADIENT,"image","fillGradient"),g8||(jM._2g(fm,bm.LINE_DASH_CAP,"image","lineDashCap"),jM._2g(fm,bm.LINE_DASH_JOIN,"image","lineDashJoin"),jM._2g(fm,bm.SHAPE_LINE_FILL_COLOR,"image","lineFillColor"),jM._2g(fm,bm.SHAPE_OUTLINE,"image","outline"),jM._2g(fm,bm.SHAPE_OUTLINE_STYLE,"image","outlineStyle"),jM._2g(fm,bm.SHAPE_LINE_DASH,"image","lineDash"),jM._2g(fm,bm.SHAPE_LINE_DASH_OFFSET,"image","lineDashOffset"),jM._2g(fm,bm.LINE_CAP,"image","lineCap"),jM._2g(fm,bm.LINE_JOIN,"image","lineJoin"),jM._2g(fm,bm.LAYOUT_BY_PATH,"image","layoutByPath"),jM._2g(fm,bm.IMAGE_BACKGROUND_COLOR,"image","backgroundColor"),jM._2g(fm,bm.IMAGE_BACKGROUND_GRADIENT,"image","backgroundGradient"),jM._2g(fm,bm.IMAGE_PADDING,"image","padding"),jM._2g(fm,bm.IMAGE_BORDER,"image","border"),jM._2g(fm,bm.IMAGE_BORDER_RADIUS,"image","borderRadius"),jM._2g(fm,bm.IMAGE_BORDER_COLOR,"image","borderColor"),jM._2g(fm,bm.IMAGE_BORDER_LINE_DASH,"image","borderLineDash"),jM._2g(fm,bm.IMAGE_BORDER_LINE_DASH_OFFSET,"image","borderLineDashOffset"),jM._2g(fm,bm.ARROW_FROM,"image","fromArrow"),jM._2g(fm,bm.ARROW_FROM_SIZE,"image","fromArrowSize"),jM._2g(fm,bm.ARROW_FROM_OFFSET,"image","fromArrowOffset"),jM._2g(fm,bm.ARROW_FROM_STROKE,"image","fromArrowStroke"),jM._2g(fm,bm.ARROW_FROM_STROKE_STYLE,"image","fromArrowStrokeStyle"),jM._2g(fm,bm.ARROW_FROM_FILL_COLOR,"image","fromArrowFillColor"),jM._2g(fm,bm.ARROW_FROM_FILL_GRADIENT,"image","fromArrowFillGradient"),jM._2g(fm,bm.ARROW_FROM_LINE_DASH,"image","fromArrowLineDash"),jM._2g(fm,bm.ARROW_FROM_LINE_DASH_OFFSET,"image","fromArrowLineDashOffset"),jM._2g(fm,bm.ARROW_FROM_LINE_JOIN,"image","fromArrowLineJoin"),jM._2g(fm,bm.ARROW_FROM_LINE_CAP,"image","fromArrowLineCap"),jM._2g(fm,bm.ARROW_TO_SIZE,"image","toArrowSize"),jM._2g(fm,bm.ARROW_TO_OFFSET,"image","toArrowOffset"),jM._2g(fm,bm.ARROW_TO,"image","toArrow"),jM._2g(fm,bm.ARROW_TO_STROKE,"image","toArrowStroke"),jM._2g(fm,bm.ARROW_TO_STROKE_STYLE,"image","toArrowStrokeStyle"),jM._2g(fm,bm.ARROW_TO_FILL_COLOR,"image","toArrowFillColor"),jM._2g(fm,bm.ARROW_TO_FILL_GRADIENT,"image","toArrowFillGradient"),jM._2g(fm,bm.ARROW_TO_LINE_DASH,"image","toArrowLineDash"),jM._2g(fm,bm.ARROW_TO_LINE_DASH_OFFSET,"image","toArrowLineDashOffset"),jM._2g(fm,bm.ARROW_TO_LINE_JOIN,"image","toArrowLineJoin"),jM._2g(fm,bm.ARROW_TO_LINE_CAP,"image","toArrowLineCap"));var cT=function(b,a){return b=b.zIndex,a=a.zIndex,b==a?0:(b=b||0,a=a||0,b>a?1:a>b?-1:void 0)},fI=function(b,a){this.uiBounds=new fU,hX(this,fI,arguments),this.id=this.$data.id,this.graph=a,this._g0=[],this._moe=new fT};fI.prototype={syncSelection:!1,graph:null,layoutByAnchorPoint:!1,_moe:null,_g0:null,addChild:function(b,a){b._k0=this,a!==iC?id(this._g0,b,a):this._g0.push(b),b._du&&this._mlv(b),this.invalidateChildrenIndex(),this.invalidateSize(),this.$invalidateChild=!0},removeChild:function(a){this._moe.removeBinding(a),a._k0=null,h7(this._g0,a),this._k5&&this._k5.remove(a),this.invalidateSize(),this.$invalidateChild=!0},getProperty:function(b,a){return a==aF.PROPERTY_TYPE_STYLE?this.graph.getStyle(this.$data,b):a==aF.PROPERTY_TYPE_CLIENT?this.$data.get(b):this.$data[b]},getStyle:function(a){return this.graph.getStyle(this.$data,a)},_$x:function(b,a,c){var d=this._moe.onBindingPropertyChange(this,b,a,c);return f6.onBindingPropertyChange(this,b,a,c)||d},onPropertyChange:function(b){if("zIndex"==b.kind){return this.invalidateRender(),!0}if("ui"==b.type){if("invalidate"==b.kind){return this.invalidate(),!0}var a=b.value;return a&&a.ui?("add"==b.kind?this._9l(a):"remove"==b.kind&&this.removeChild(a.ui),!0):!1}return this._$x(b.kind,b.propertyType||gQ,b.value)},label:null,initLabel:function(){var a=new ev;a.name="label",this.addChild(a),this.label=a},initialize:function(){this.initLabel(),this.$data._moi&&this.$data._moi.forEach(this._9l,this),f6.initBindingProperties(this),this._moe.initBindingProperties(this,!1)},addBinding:function(b,a){return a.property?(a.target=b,void this._moe._1w(a.property,a)):!1},_gp:function(b,a){var f=this.$data;if(!f._moi){return !1}var g=f._moi.getById(b.id);if(!g||!g.bindingProperties){return !1}var d=g.bindingProperties;if(jt(d)){var c=!1;return iz(d,function(e){return"data"==e.bindingProperty?(c=hd(f,a,e.property,e.propertyType),!1):void 0},this),c}return"data"==d.bindingProperty?hd(f,a,d.property,d.propertyType):!1},_9l:function(b){var a=b.ui;if(a){var c=b.bindingProperties;c&&(Array.isArray(c)?c.forEach(function(d){this.addBinding(a,d)},this):this.addBinding(a,c)),this.addChild(a)}},validate:function(){return this._mlf||(this.initialize(),this._mlf=!0),this.doValidate()},_$d:!0,invalidateChildrenIndex:function(){this._$d=!0},doValidate:function(){if(this._1e&&(this._1e=!1,this.validateChildren()&&(this.measure(),this.$invalidateSize=!0),this._$d&&(this._$d=!1,kg?this._g0=iD(this._g0,cT):this._g0.sort(cT))),jP.call(this)&&(this.$invalidateRotate=!0),this.$invalidateRotate){iM.call(this),this.uiBounds.setByRect(this._g7);var d=this.$selectionBorder||0,c=Math.max(this.$selectionBorder||0,this.$shadowOffsetX||0,this.$selectionShadowOffsetX||0),h=Math.max(this.$shadowOffsetY||0,this.$selectionShadowOffsetY||0),k=Math.max(2*d,this.$shadowBlur,this.$selectionShadowBlur);k+=cX.UI_BOUNDS_GROW||0;var g=k-c,f=k+c,j=k-h,b=k+h;return 0>g&&(g=0),0>f&&(f=0),0>j&&(j=0),0>b&&(b=0),this.uiBounds.grow(j,g,b,f),this.onBoundsChanged&&this.onBoundsChanged(),this.$invalidateBounds=!0,!0}},validateChildren:function(){var b=this.$invalidateChild;this.$invalidateChild=!1;var a=this._mmody,f=this.bodyChanged;a&&(a.$renderColor=this.$renderColor,a.$renderColorBlendMode=this.$renderColorBlendMode,a.$shadowColor=this.$shadowColor,a.$shadowBlur=this.$shadowBlur,a.$shadowOffsetX=this.$shadowOffsetX,a.$shadowOffsetY=this.$shadowOffsetY),this.bodyChanged=!1,a&&a._1e&&(f=a.validate()||f,a.$x=0,a.$y=0,a.$invalidateRotate&&iM.call(a),b=!0);for(var h=0,d=this._g0.length;d>h;h++){var c=this._g0[h];if(c!=a){var g=c._1e&&c.validate();(g||f)&&c._ic&&ex(c,a,this),!b&&g&&(b=!0)}}return b},measure:function(){this._js.clear();for(var b,a,c=0,d=this._g0.length;d>c;c++){b=this._g0[c],b._ic&&(a=b._g7,a.width<=0||a.height<=0||this._js.addRect(b.$x+a.x,b.$y+a.y,a.width,a.height))}},_k5:null,_mlv:function(a){if(!this._k5){if(!a.showOnTop){return}return this._k5=new c2,this._k5.add(a)}return a.showOnTop?this._k5.add(a):this._k5.remove(a)},draw:function(b,a,f){for(var g,d=0,c=this._g0.length;c>d;d++){g=this._g0[d],g._ic&&!g.showOnTop&&g._jp(b,a,f,this)}},_9o:function(b,a){if(!this._ic||!this._k5||!this._k5.length){return !1}b.save(),b.translate(this.$x,this.$y),this.$rotatable&&this.$_hostRotate&&b.rotate(this.$_hostRotate),(this.offsetX||this.offsetY)&&b.translate(this.offsetX,this.offsetY),this.$rotate&&b.rotate(this.$rotate),this.$layoutByAnchorPoint&&this._mlm&&b.translate(-this._mlm.x,-this._mlm.y),this.shadowColor&&(b.shadowColor=this.shadowColor,b.shadowBlur=this.shadowBlur*a,b.shadowOffsetX=this.shadowOffsetX*a,b.shadowOffsetY=this.shadowOffsetY*a),b.beginPath();for(var d,f=0,c=this._g0.length;c>f;f++){d=this._g0[f],d._ic&&d.showOnTop&&d._jp(b,a,this.selected,this)}b.restore()},doHitTest:function(b,a,c){if(c){if(!this._js.intersectsRect(b-c,a-c,2*c,2*c)){return !1}}else{if(!this._js.intersectsPoint(b,a)){return !1}}return this.hitTestChildren(b,a,c)},hitTestChildren:function(b,a,d){for(var f,c=this._g0.length-1;c>=0;c--){if(f=this._g0[c],f._ic&&f.hitTest(b,a,d)){return f}}return !1},destroy:function(){this._iged=!0;for(var b,a=this._g0.length-1;a>=0;a--){b=this._g0[a],b.destroy()}}},i2(fI,bI),iN(fI.prototype,{renderColorBlendMode:{get:function(){return this.$renderColorBlendMode},set:function(a){this.$renderColorBlendMode=a,this._1e=!0,this.body&&(this.body.renderColorBlendMode=this.$renderColorBlendMode)}},renderColor:{get:function(){return this.$renderColor},set:function(a){this.$renderColor=a,this._1e=!0,this.body&&(this.body.renderColor=this.$renderColor)}},bodyBounds:{get:function(){if(this.$invalidateBounds){this.$invalidateBounds=!1;var b,a=this.body;b=a&&a._ic&&!this._$u()?a._g7.clone():this._g7.clone(),this.rotate&&jy(b,this.rotate,b),b.x+=this.$x,b.y+=this.$y,this._di=b}return this._di}},bounds:{get:function(){return new fU((this.$x||0)+this.uiBounds.x,(this.$y||0)+this.uiBounds.y,this.uiBounds.width,this.uiBounds.height)}},body:{get:function(){return this._mmody},set:function(a){a&&this._mmody!=a&&(this._mmody=a,this.bodyChanged=!0,this.invalidateSize())}}}),cX.UI_BOUNDS_GROW=1;var j3=function(){hX(this,j3,arguments)};j3.prototype={strokeStyle:"#000",lineWidth:0,fillColor:null,fillGradient:null,_jx:1,_jy:1,outline:0,onDataChanged:function(a){jB(this,j3,"onDataChanged",arguments),this._l6&&this._7z&&this._l6._6b(this._7z,this),a&&this._moo(a)},_moo:function(a){this._l6=a0(a),this._l6.validate(),(this._l6._lt==aU||this._l6._6y())&&(this._7z||(this._7z=function(){this.invalidateData(),this._k0&&this._k0.graph&&(this._k0.invalidateSize(),this._k0.graph.invalidate())}),this._l6._mlo(this._7z,this))},_l6:null,initialize:function(){this._moo(this.$data)},_54:function(){return this._l6&&this._l6.draw},_9g:function(d){if(!d||d.width<=0||d.height<=0||!this.$size||!(this.size instanceof Object)){return this._jx=1,void (this._jy=1)}var c=this.size.width,h=this.size.height;if((c===iC||null===c)&&(c=-1),(h===iC||null===h)&&(h=-1),0>c&&0>h){return this._jx=1,void (this._jy=1)}var f,e,g=d.width,b=d.height;c>=0&&(f=c/g),h>=0&&(e=h/b),0>c?f=e:0>h&&(e=f),this._jx=f,this._jy=e},validateSize:function(){if(this.$invalidateScale){this.$invalidateScale=!1;var a=this._originalBounds;this._jx,this._jy;this._9g(a),this.setMeasuredBounds(a.width*this._jx,a.height*this._jy,a.x*this._jx,a.y*this._jy)}},measure:function(){var a=this._l6.getBounds(this.lineWidth+this.outline);return a?(this.$invalidateScale=!0,void (this._originalBounds=a.clone())):void this._js.set(0,0,0,0)},onBoundsChanged:function(){this.$invalidateFillGradient=!0},_1j:function(){this.$invalidateFillGradient=!1,this._fillGradient=this.fillGradient?bM.prototype.generatorGradient.call(this.$fillGradient,this._80):null},_k9:function(b){var a,d;if("flip"==this.$adjustType){a=1,d=-1}else{if("mirror"!=this.$adjustType){return}a=-1,d=1}var f=this._js.cx,c=this._js.cy;b.translate(f,c),b.scale(a,d),b.translate(-f,-c)},draw:function(b,a,c,d){if(this._jx&&this._jy){if(this.$invalidateFillGradient&&this._1j(),b.save(),this.$adjustType&&this._k9(b),this._l6._lt==hC){return b.scale(this._jx,this._jy),this._l6._lg.draw(b,a,this,c,d||this),void b.restore()}c&&this._7u(b,a,d),this._l6.draw(b,a,this,this._jx,this._jy),b.restore()}},doHitTest:function(b,a,f){if(this._l6.hitTest){if("flip"==this.$adjustType){var g=this._js.cy;a=2*g-a}else{if("mirror"==this.$adjustType){var d=this._js.cx;b=2*d-b}}b/=this._jx,a/=this._jy;var c=(this._jx+this._jy)/2;return c>1&&(f/=c,f=0|f),this._l6._lg instanceof db?this._l6._lg.hitTest(b,a,f,!0,this.$lineWidth,this.$fillColor||this.$fillGradient):this._l6.hitTest(b,a,f)}return !0},$invalidateScale:!0,$invalidateFillGradient:!0},i2(j3,bI),fK(j3.prototype,{adjustType:{},fillColor:{},size:{validateFlags:["Size","Scale"]},fillGradient:{validateFlags:["FillGradient"]}}),iN(j3.prototype,{originalBounds:{get:function(){return this._originalBounds}}}),cX.ALIGN_POSITION=d7.CENTER_MIDDLE;var ev=function(){hX(this,ev,arguments),this.color=cX.LABEL_COLOR};ev.prototype={color:cX.LABEL_COLOR,showPointer:!0,fontSize:null,fontFamily:null,fontStyle:null,_h7:null,alignPosition:null,measure:function(){this.font;var b=g7(this.$data,this.$fontSize,this.$fontFamily,this.$fontStyle,cX.LINE_HEIGHT,this.$font);if(this._h7=b,this.$size){var a=this.$size.width||0,c=this.$size.height||0;return this.setMeasuredBounds(a>b.width?a:b.width,c>b.height?c:b.height)}return this.setMeasuredBounds(b.width,b.height)},doHitTest:function(b,a,c){return this.$data?jC(b,a,c,this):!1},draw:function(p,g,k,d){k&&this._7u(p,g,d);this.$fontSize||cX.FONT_SIZE;if(this.$rotatable&&this.$_hostRotate){var b=e2(this.$_hostRotate);b>dL&&3*dL>b&&(p.translate(this._js.width/2,this._js.height/2),p.rotate(Math.PI),p.translate(-this._js.width/2,-this._js.height/2))}var q=this.alignPosition||cX.ALIGN_POSITION,c=q.horizontalPosition,m=q.verticalPosition,j=0;c==b6?(c="center",j+=this._js.width/2):c==dI?(c="right",j+=this._js.width):c="left";var f=0;m==gd?f=(this._js.height-this._h7.height)/2:m==eT&&(f=this._js.height-this._h7.height),p.fillStyle=this.color,fk(p,this.$data,j,f,c,this.$fontFamily,this.$fontSize,this.$fontStyle,cX.LINE_HEIGHT,this.$font)},_54:function(){return null!=this.$data||this.$size},$invalidateFont:!0},i2(ev,bI),fK(ev.prototype,{size:{validateFlags:["Data"]},fontStyle:{validateFlags:["Data","Font"]},fontSize:{validateFlags:["Data","Font"]},fontFamily:{validateFlags:["Data","Font"]}}),iN(ev.prototype,{font:{get:function(){return this.$invalidateFont&&(this.$invalidateFont=!1,this.$font=(this.$fontStyle||cX.FONT_STYLE)+" "+(this.$fontSize||cX.FONT_SIZE)+"px "+(this.$fontFamily||cX.FONT_FAMILY)),this.$font}}});var dD=function(a){a=a||new db,this.pathBounds=new fU,hX(this,dD,[a])};dD.prototype={layoutByPath:!0,layoutByAnchorPoint:!1,measure:function(){this.$invalidateFromArrow=!0,this.$invalidateToArrow=!0,this.$data.getBounds(this.$lineWidth+this.$outline,this.pathBounds),this.setMeasuredBounds(this.pathBounds)},validateSize:function(){if(this.$invalidateFromArrow||this.$invalidateToArrow){var b=this.pathBounds.clone();if(this.$invalidateFromArrow){this.$invalidateFromArrow=!1;var a=this.validateFromArrow();a&&b.add(a)}if(this.$invalidateToArrow){this.$invalidateToArrow=!1;var a=this.validateToArrow();a&&b.add(a)}this.setMeasuredBounds(b)}},validateFromArrow:function(){if(!this.$data._jf||!this.$fromArrow){return void (this.$fromArrowShape=null)}var b=this.$data,a=0,d=0,f=this.$fromArrowOffset;f&&(isNaN(f)&&(f.x||f.y)?(a+=f.x||0,d+=f.y||0):a+=f||0,a>0&&1>a&&(a*=b._jf)),this.fromArrowLocation=b.getLocation(a,d),this.fromArrowLocation.rotate=Math.PI+this.fromArrowLocation.rotate||0,this.$fromArrowShape=i8(this.$fromArrow,this.$fromArrowSize);var c=this.$fromArrowShape.getBounds(this.fromArrowStyles.lineWidth+this.fromArrowStyles.outline);return this.fromArrowFillGradient instanceof e4.Gradient?this.fromArrowStyles._fillGradient=bM.prototype.generatorGradient.call(this.fromArrowFillGradient,c):this.fromArrowStyles&&(this.fromArrowStyles._fillGradient=null),c.offset(this.fromArrowLocation.x,this.fromArrowLocation.y),am(c,this.fromArrowLocation.rotate,c,this.fromArrowLocation.x,this.fromArrowLocation.y),c},validateToArrow:function(){if(!this.$data._jf||!this.$toArrow){return void (this.$toArrowShape=null)}var b=this.$data,a=0,d=0,f=this.$toArrowOffset;f&&(isNaN(f)&&(f.x||f.y)?(a+=f.x||0,d+=f.y||0):a+=f||0),0>a&&a>-1&&(a*=b._jf),a+=b._jf,this.toArrowLocation=b.getLocation(a,d),this.$toArrowShape=i8(this.$toArrow,this.$toArrowSize);var c=this.$toArrowShape.getBounds(this.toArrowStyles.lineWidth+this.toArrowStyles.outline);return this.toArrowFillGradient instanceof e4.Gradient?this.toArrowStyles._fillGradient=bM.prototype.generatorGradient.call(this.toArrowFillGradient,c):this.toArrowStyles&&(this.toArrowStyles._fillGradient=null),c.offset(this.toArrowLocation.x,this.toArrowLocation.y),am(c,this.toArrowLocation.rotate,c,this.toArrowLocation.x,this.toArrowLocation.y),c},_21:function(b){var a=b?"from":"to",e=this[a+"ArrowStroke"];e===iC&&(e=this.$lineWidth);var d=this[a+"ArrowStrokeStyle"];d===iC&&(d=this.strokeStyle);var c=this[a+"ArrowStyles"];c||(this[a+"ArrowStyles"]=c={}),c.lineWidth=e,c.strokeStyle=d,c.lineDash=this[a+"ArrowLineDash"],c.lineDashOffset=this[a+"ArrowLineDashOffset"],c.fillColor=this[a+"ArrowFillColor"],c.fillGradient=this[a+"ArrowFillGradient"],c.lineCap=this[a+"ArrowLineCap"],c.lineJoin=this[a+"ArrowLineJoin"],c.outline=this[a+"ArrowOutline"]||0,c.outlineStyle=this[a+"ArrowOutlineStyle"]},doValidate:function(){return this.$fromArrow&&this._21(!0),this.$toArrow&&this._21(!1),jB(this,dD,"doValidate")},drawArrow:function(d,c,h,k){if(this.$fromArrow&&this.$fromArrowShape){d.save();var g=this.fromArrowLocation,f=g.x,j=g.y,b=g.rotate;d.translate(f,j),b&&d.rotate(b),this.$fromArrowShape.draw(d,c,this.fromArrowStyles,h,k),d.restore()}if(this.$toArrow&&this.$toArrowShape){d.save();var g=this.toArrowLocation,f=g.x,j=g.y,b=g.rotate;d.translate(f,j),b&&d.rotate(b),this.$toArrowShape.draw(d,c,this.toArrowStyles,h,k),d.restore()}},outlineStyle:null,outline:0,onBoundsChanged:function(){this.$invalidateFillGradient=!0},_1j:function(){this.$invalidateFillGradient=!1,this._fillGradient=this.$fillGradient?bM.prototype.generatorGradient.call(this.$fillGradient,this._80):null},draw:function(b,a,c,d){this.$invalidateFillGradient&&this._1j(),this.$data.draw(b,a,this,c,d),this.drawArrow(b,a,c,d)},doHitTest:function(b,a,f){if(this.$data.hitTest(b,a,f,!0,this.$lineWidth+this.$outline,this.$fillColor||this.$fillGradient)){return !0}if(this.$toArrow&&this.$toArrowShape){var h=b-this.toArrowLocation.x,d=a-this.toArrowLocation.y;if(this.toArrowLocation.rotate){var c=hy(h,d,-this.toArrowLocation.rotate);h=c.x,d=c.y}var g=this.toArrowStyles.fillColor||this.toArrowStyles.fillGradient;if(this.$toArrowShape.hitTest(h,d,f,!0,this.toArrowStyles.lineWidth,g)){return !0}}if(this.$fromArrow&&this.$fromArrowShape){var h=b-this.fromArrowLocation.x,d=a-this.fromArrowLocation.y;if(this.fromArrowLocation.rotate){var c=hy(h,d,-this.fromArrowLocation.rotate);h=c.x,d=c.y}var g=this.fromArrowStyles.fillColor||this.fromArrowStyles.fillGradient;if(this.$fromArrowShape.hitTest(h,d,f,!0,this.fromArrowStyles.lineWidth,g)){return !0}}return !1},$fromArrowOutline:0,$toArrowOutline:0,$invalidateFillGradient:!0,$invalidateFromArrow:!0,$invalidateToArrow:!0},i2(dD,bI),fK(dD.prototype,{strokeStyle:{validateFlags:["FromArrow","ToArrow"]},fillColor:{},fillGradient:{validateFlags:["FillGradient"]},fromArrowOffset:{validateFlags:["FromArrow","Size"]},fromArrowSize:{validateFlags:["FromArrow","Size"]},fromArrow:{validateFlags:["FromArrow","Size"]},fromArrowOutline:{validateFlags:["FromArrow","Size"]},fromArrowStroke:{validateFlags:["FromArrow","Size"]},fromArrowStrokeStyle:{validateFlags:["FromArrow"]},toArrowOffset:{validateFlags:["ToArrow","Size"]},toArrowSize:{validateFlags:["ToArrow","Size"]},toArrow:{validateFlags:["ToArrow","Size"]},toArrowOutline:{validateFlags:["ToArrow","Size"]},toArrowStroke:{validateFlags:["ToArrow","Size"]},toArrowStrokeStyle:{validateFlags:["ToArrow"]},outline:{value:0,validateFlags:["Data"]}}),iN(dD.prototype,{length:{get:function(){return this.data.length}}}),d4.prototype={shape:null,path:null,initialize:function(){jB(this,d4,"initialize"),this.path=new db,this.path._dq=!1,this.shape=new dD(this.path),this.addChild(this.shape,0),this._mmody=this.shape,aH.initBindingProperties(this)},_1f:!0,_5f:null,_$u:function(){return !1},_3w:function(){return !1},validatePoints:function(){this.shape.invalidateData();var b=this.$data,a=this.path;a.clear();var c=b.fromAgent,d=b.toAgent;c&&d&&gH(this,b,a,c,d)},drawLoopedEdge:function(b,a,c,d){kj(this,d,b)},drawEdge:function(F,p,y,k,b,G){var j=b.center,B=G.center;if(k==aF.EDGE_TYPE_ZIGZAG){var q=(j.x+B.x)/2,m=(j.y+B.y)/2,D=j.x-B.x,E=j.y-B.y,A=Math.sqrt(D*D+E*E),z=Math.atan2(E,D);z+=Math.PI/6,A*=0.04,A>30&&(A=30);var x=Math.cos(z)*A,w=Math.sin(z)*A;return F.lineTo(q-w,m+x),void F.lineTo(q+w,m-x)}var C=bU(this,this.data,b,G,p,y,j,B);C&&(F._fm=C)},_2e:function(){if(!this.$data.isBundleEnabled()){return null}var b=this.graph._85._8u(this.$data);if(!b||!b.canBind(this.graph)||!b._hp){return null}var a=b.getYOffset(this);return b.isPositiveOrder(this.$data)||(a=-a),a},checkBundleLabel:function(){var a=this.getBundleLabel();return a?(this.bundleLabel||this.createBundleLabel(),this.bundleLabel._ic=!0,void (this.bundleLabel.data=a)):void (this.bundleLabel&&(this.bundleLabel._ic=!1,this.bundleLabel.data=null))},createBundleLabel:function(){var a=new ev;a.editable=!1,this.bundleLabel=a,this.addChild(this.bundleLabel),d6.initBindingProperties(this)},getBundleLabel:function(){return this.graph.getBundleLabel(this.data)},doValidate:function(){return this._1f&&(this._1f=!1,this.validatePoints()),this.checkBundleLabel(),jB(this,d4,"doValidate")},_4g:function(){this._1f=!0,this.invalidateSize()},_$x:function(b,a,c){var d=this._moe.onBindingPropertyChange(this,b,a,c);return d=f6.onBindingPropertyChange(this,b,a,c)||d,this.bundleLabel&&this.bundleLabel.$data&&(d=d6.onBindingPropertyChange(this,b,a,c)||d),aH.onBindingPropertyChange(this,b,a,c)||d}},i2(d4,fI),d4.drawReferenceLine=function(D,p,x,k){if(D.moveTo(p.x,p.y),!k||k==aF.EDGE_TYPE_DEFAULT){return void D.lineTo(x.x,x.y)}if(k==aF.EDGE_TYPE_VERTICAL_HORIZONTAL){D.lineTo(p.x,x.y)}else{if(k==aF.EDGE_TYPE_HORIZONTAL_VERTICAL){D.lineTo(x.x,p.y)}else{if(0==k.indexOf(aF.EDGE_TYPE_ORTHOGONAL)){var b;b=k==aF.EDGE_TYPE_ORTHOGONAL_HORIZONTAL?!0:k==aF.EDGE_TYPE_ORTHOGONAL_VERTICAL?!1:Math.abs(p.x-x.x)>Math.abs(p.y-x.y);var E=(p.x+x.x)/2,j=(p.y+x.y)/2;b?(D.lineTo(E,p.y),D.lineTo(E,x.y)):(D.lineTo(p.x,j),D.lineTo(x.x,j))}else{if(0==k.indexOf(aF.EDGE_TYPE_ELBOW)){var b,A=c5[bm.EDGE_EXTEND]||0;b=k==aF.EDGE_TYPE_ELBOW_HORIZONTAL?!0:k==aF.EDGE_TYPE_ELBOW_VERTICAL?!1:Math.abs(p.x-x.x)>Math.abs(p.y-x.y),b?(D.lineTo(p.x+A,p.y),D.lineTo(x.x-A,x.y)):(D.lineTo(p.x,p.y+A),D.lineTo(x.x,x.y-A))}else{if(0==k.indexOf("extend.")){var A=c5[bm.EDGE_EXTEND]||0;if(k==aF.EDGE_TYPE_EXTEND_TOP){var q=Math.min(p.y,x.y)-A;D.lineTo(p.x,q),D.lineTo(x.x,q)}else{if(k==aF.EDGE_TYPE_EXTEND_BOTTOM){var q=Math.max(p.y,x.y)+A;D.lineTo(p.x,q),D.lineTo(x.x,q)}else{if(k==aF.EDGE_TYPE_EXTEND_LEFT){var m=Math.min(p.x,x.x)-A;D.lineTo(m,p.y),D.lineTo(m,x.y)}else{if(k==aF.EDGE_TYPE_EXTEND_RIGHT){var m=Math.max(p.x,x.x)+A;D.lineTo(m,p.y),D.lineTo(m,x.y)}}}}}else{if(k==aF.EDGE_TYPE_ZIGZAG){var E=(p.x+x.x)/2,j=(p.y+x.y)/2,B=p.x-x.x,C=p.y-x.y,z=Math.sqrt(B*B+C*C),y=Math.atan2(C,B);y+=Math.PI/6,z*=0.04,z>30&&(z=30);var w=Math.cos(y)*z,v=Math.sin(y)*z;D.lineTo(E-v,j+w),D.lineTo(E+v,j-w)}}}}}}D.lineTo(x.x,x.y)},iN(d4.prototype,{length:{get:function(){return this.path?this.path.length:0}}}),d4.prototype.addPoint=function(b,a,f){var g=eP(this.path,b,a,f);if(g&&g.length>2){var d=this.data,c=g[g.length-1];d.pathSegments=c.type==ej?g.splice(1,g.length-2):g.splice(1,g.length-1)}},cE.prototype={_2k:null,image:null,initialize:function(){jB(this,cE,"initialize"),this._mmc(),b1.initBindingProperties(this)},_moo:function(){this.data.image?this.image&&(this.body=this.image):this.label&&(this.body=this.label)},_mmc:function(){this.image=new j3,this.addChild(this.image,0),this._moo()},doValidate:function(){this.body&&(this instanceof du&&!this.$data.groupImage&&this._5s()?this.body.$layoutByAnchorPoint=!1:(this.body.$layoutByAnchorPoint=null!=this._2k,this.body.anchorPosition=this._2k));var b=this.$data.$location,a=0,c=0;b&&(a=b.x,c=b.y);var d=this.$x!=a||this.$y!=c;return d&&(this.$invalidateBounds=!0),this.$x=a,this.$y=c,fI.prototype.doValidate.call(this)||d},_$x:function(b,a,c){var d=this._moe.onBindingPropertyChange(this,b,a,c);return d=f6.onBindingPropertyChange(this,b,a,c)||d,b1.onBindingPropertyChange(this,b,a,c)||d}},i2(cE,fI);var c5={};c5[bm.SELECTION_COLOR]=cX.SELECTION_COLOR,c5[bm.SELECTION_BORDER]=cX.SELECTION_BORDER,c5[bm.SELECTION_SHADOW_BLUR]=cX.SELECTION_SHADOW_BLUR,c5[bm.SELECTION_TYPE]=aF.SELECTION_TYPE_SHADOW,c5[bm.SELECTION_SHADOW_OFFSET_X]=2,c5[bm.SELECTION_SHADOW_OFFSET_Y]=2,c5[bm.LABEL_COLOR]=cX.LABEL_COLOR,c5[bm.LABEL_POSITION]=d7.CENTER_BOTTOM,c5[bm.LABEL_ANCHOR_POSITION]=d7.CENTER_TOP,c5[bm.LABEL_PADDING]=new hf(0,2),c5[bm.LABEL_POINTER_WIDTH]=8,c5[bm.LABEL_RADIUS]=8,c5[bm.LABEL_POINTER]=!0,c5[bm.LABEL_BORDER]=0,c5[bm.LABEL_BORDER_STYLE]="#000",c5[bm.LABEL_ROTATABLE]=!0,c5[bm.LABEL_BACKGROUND_COLOR]=null,c5[bm.LABEL_BACKGROUND_GRADIENT]=null,c5[bm.EDGE_COLOR]="#555555",c5[bm.EDGE_WIDTH]=1.5,c5[bm.EDGE_FROM_AT_EDGE]=!0,c5[bm.EDGE_TO_AT_EDGE]=!0,c5[bm.GROUP_BACKGROUND_COLOR]=iR(3438210798),c5[bm.GROUP_STROKE]=1,c5[bm.GROUP_STROKE_STYLE]="#000",c5[bm.ARROW_TO]=!0,c5[bm.ARROW_FROM_SIZE]=cX.ARROW_SIZE,c5[bm.ARROW_TO_SIZE]=cX.ARROW_SIZE,c5[bm.EDGE_LOOPED_EXTAND]=10,c5[bm.EDGE_CORNER_RADIUS]=8,c5[bm.EDGE_CORNER]=aF.EDGE_CORNER_ROUND,c5[bm.EDGE_SPLIT_BY_PERCENT]=!0,c5[bm.EDGE_EXTEND]=20,c5[bm.EDGE_SPLIT_PERCENT]=0.5,c5[bm.EDGE_SPLIT_VALUE]=20,c5[bm.EDGE_BUNDLE_GAP]=20,c5[bm.EDGE_BUNDLE_LABEL_ANCHOR_POSITION]=d7.CENTER_BOTTOM,c5[bm.EDGE_BUNDLE_LABEL_POSITION]=d7.CENTER_TOP,c5[bm.EDGE_BUNDLE_LABEL_COLOR]="#075bc5",c5[bm.SHAPE_STROKE]=1,c5[bm.SHAPE_STROKE_STYLE]="#2898E0",c5[bm.RENDER_COLOR_BLEND_MODE]=cX.BLEND_MODE,c5[bm.ALPHA]=1,cX.LOOKING_EDGE_ENDPOINT_TOLERANCE=2;var dd=function(a,b){this._$w=new j8,this._$w.on(function(c){"currentSubNetwork"==c.kind&&this.invalidateVisibility()},this),this._1l=new j8,this._1l.addListener(function(c){!this.currentSubNetwork||c.kind!=aM.KIND_CLEAR&&c.kind!=aM.KIND_REMOVE||this.graphModel.contains(this.currentSubNetwork)||(this.currentSubNetwork=null)},this),this._$b=new j8,this._14=new j8,this._$m=new j8,this._$q=new j8,this.graphModel=b||new dQ,this._85=new a8(this,a),this._31=new gj(this),this._1d=new j8,this._onresize=bf(h0,"resize",function(){this.updateViewport()},!1,this),this._85._mmn.ondrop=function(c){this.ondrop(c)}.bind(this),this._85._mmn.ondragover=function(c){this.ondragover(c)}.bind(this)};dd.prototype={originAtCenter:!0,editable:!1,ondragover:function(a){e4.stopEvent(a)},getDropInfo:function(b,a){var c=null;if(a){try{c=JSON.parse(a)}catch(d){}}return c},ondrop:function(x){var j=x.dataTransfer;if(j){var m=j.getData("text"),f=this.getDropInfo(x,m);f||(f={},f.image=j.getData("image"),f.type=j.getData("type"),f.label=j.getData("label"),f.groupImage=j.getData("groupImage"));var b=this.globalToLocal(x);if(b=this.toLogical(b.x,b.y),!(this.dropAction instanceof Function&&this.dropAction.call(this,x,b,f)===!1)&&(f.image||f.label||f.type)){var y=f.image,d=f.type,q=f.label,k=f.groupImage;e4.stopEvent(x);var g;if(d&&"Node"!=d?"Text"==d?g=this.createText(q,b.x,b.y):"ShapeNode"==d?g=this.createShapeNode(q,b.x,b.y):"Group"==d?(g=this.createGroup(q,b.x,b.y),k&&(k=jS(k),k&&(g.groupImage=k))):(d=jd(d),d instanceof Function&&d.prototype instanceof jc&&(g=new d,g.name=q,g.location=new b9(b.x,b.y),this._krModel.add(g))):g=this.createNode(q,b.x,b.y),g){if(y&&(y=jS(y),y&&(g.image=y)),x.shiftKey){var v=this.getElementByMouseEvent(x);v&&this._mme(v)&&(g.parent=v)}if(f.properties){for(var w in f.properties){g[w]=f.properties[w]}}if(f.clientProperties){for(var w in f.clientProperties){g.set(w,f.clientProperties[w])}}if(f.styles&&g.putStyles(f.styles),this.onElementCreated(g,x,f)===!1){return !1}var p=new eE(this,eE.ELEMENT_CREATED,x,g);return this.onInteractionEvent(p),g}}}},_mme:function(a){return a.enableSubNetwork||a instanceof ap||a.droppable},enableDoubleClickToOverview:!0,_85:null,_$w:null,_1l:null,_$b:null,_$q:null,_14:null,_$m:null,_1s:function(a){return this._$w.beforeEvent(a)},_44:function(a){this._$w.onEvent(a),"viewport"==a.kind&&this.checkLimitedBounds()},isVisible:function(a){return this._85._dp(a)},isMovable:function(a){return(a instanceof jc||a instanceof hz&&a.hasPathSegments())&&a.movable!==!1},isSelectable:function(a){return a.selectable!==!1},isEditable:function(a){return a.editable!==!1},isRotatable:function(a){return a.rotatable!==!1},isResizable:function(a){return a.resizable!==!1},canLinkFrom:function(a){return a.linkable!==!1&&a.canLinkFrom!==!1},canLinkTo:function(a){return a.linkable!==!1&&a.canLinkTo!==!1},createNode:function(b,a,c){var d=new jc(b,a,c);return this._krModel.add(d),d},createText:function(b,a,c){var d=new cg(b,a,c);return this._krModel.add(d),d},createShapeNode:function(b,a,d,f){i6(a)&&(f=d,d=a,a=null);var c=new e6(b,a);return c.$location=new b9(d,f),this._krModel.add(c),c},createGroup:function(b,a,c){var d=new ap(b,a,c);return this._krModel.add(d),d},createEdge:function(b,a,d){if(b instanceof jc){var f=d;d=a,a=b,b=f}var c=new hz(a,d);return b&&(c.$name=b),this._krModel.add(c),c},addElement:function(b,a){this._krModel.add(b),a&&b.hasChildren()&&b.forEachChild(function(c){this.addElement(c,a)},this)},removeElement:function(a){this._krModel.remove(a)},clear:function(){this._krModel.clear()},getStyle:function(b,a){var c=b._jk[a];return c!==iC?c:this.getDefaultStyle(a)},getDefaultStyle:function(b){if(this._jk){var a=this._jk[b];if(a!==iC){return a}}return c5[b]},_2i:function(p,g){if(!this.limitedBounds||this.limitedBounds.contains(this.viewportBounds)){return g&&g(),!1}p=this._2a(),this.stopAnimation();var k,d,b,q=this.viewportBounds,c=this.limitedBounds,m=q.width/this.limitedBounds.width,j=q.height/this.limitedBounds.height;if(1>=m&&1>=j){return k=c.left>q.left?c.left:c.right<q.right?q.left-(q.right-c.right):q.left,d=c.top>q.top?c.top:c.bottom<q.bottom?q.top-(q.bottom-c.bottom):q.top,void this.translateTo(-k*this.scale,-d*this.scale,this.scale,!1,g)}var f=m>j;b=Math.max(m,j),f?(k=c.x,d=c.y+(q.top-c.top)*(1-b)/b,d>=c.y?d=c.y:d<c.bottom-q.height/b&&(d=c.bottom-q.height/b)):(d=c.y,k=c.x+(q.left-c.left)*(1-b)/b,k>=c.x?k=c.x:k<c.right-q.width/b&&(k=c.right-q.width/b)),b*=this.scale,k*=b,d*=b,this.translateTo(-k,-d,b,p,g)},checkLimitedBounds:function(a){return this._moheckingBounds||!this.limitedBounds||this.limitedBounds.contains(this.viewportBounds)?!1:(this._moheckingBounds=!0,void this.callLater(function(){this._2i(a,function(){this._moheckingBounds=!1}.bind(this))},this))},zoomByMouseEvent:function(b,a,d,f){var c=this.globalToLocal(b);return i6(a)?this.zoomAt(Math.pow(this.scaleStep,a),c.x,c.y,d,f):a?this.zoomIn(c.x,c.y,d,f):this.zoomOut(c.x,c.y,d,f)},resetScale:1,translate:function(b,a,c){return this.translateTo(this.tx+b,this.ty+a,this.scale,c)},translateTo:function(b,a,f,h,d){if(f&&(f=Math.min(this.maxScale,Math.max(this.minScale,f))),h){var c=this._5y();return void c._l7(b,a,f,h,d)}var g=this._85._mlh(b,a,f);return d&&d(),g},centerTo:function(b,a,e,d,c){return(!e||0>=e)&&(e=this.scale),d===iC&&(d=this._2a()),this.translateTo(this.width/2-b*e,this.height/2-a*e,e,d,c)},moveToCenter:function(b,a){if(arguments[2]===!1||!this._85.isInvalidate()){var c=this.bounds;return void this.centerTo(c.cx,c.cy,b,a)}return this._85._mlf||(a=!1),this.callLater(this.moveToCenter.bind(this,b,a,!1))},zoomToOverview:function(b,a){if(arguments[2]===!1||!this._85.isInvalidate()){var c=this._85._1r();return void (c&&(a&&(c.scale=Math.min(c.scale,a)),this.centerTo(c.cx,c.cy,c.scale,b)))}return this._85._mlf||(b=!1),this.callLater(this.zoomToOverview.bind(this,b,a,!1))},_2a:function(){return this._85._mlf?this.zoomAnimation===iC||null===this.zoomAnimation?cX.ZOOM_ANIMATE:this.zoomAnimation:!1},zoomAt:function(b,a,f,d,c){d===iC&&(d=this._2a()),a===iC&&(a=this.width/2),a=a||0,f===iC&&(f=this.height/2),f=f||0;var e=this.scale;return b=Math.min(this.maxScale,Math.max(this.minScale,e*b)),a=b*(this.tx-a)/e+a,f=b*(this.ty-f)/e+f,this.translateTo(a,f,b,d,c)},zoomOut:function(b,a,c,d){return this.zoomAt(1/this.scaleStep,b,a,c,d)},zoomIn:function(b,a,c,d){return this.zoomAt(this.scaleStep,b,a,c,d)},_5y:function(){return this._panAnimation||(this._panAnimation=new bP(this)),this._panAnimation},onAnimationStart:function(){},onAnimationEnd:function(){},isAnimating:function(){return this._panAnimation&&this._panAnimation._e3()},enableInertia:!0,_mla:function(b,a){var c=this._5y();return c._h3(b||0,a||0)},stopAnimation:function(){this._panAnimation&&this._panAnimation._lq()},getUI:function(a){return iZ(a)?this._85._3p(a):this._85._le(a)},getUIByMouseEvent:function(a){return this._85._3p(a)},hitTest:function(a){return this._85.hitTest(a)},globalToLocal:function(a){return this._85._87(a)},toCanvas:function(b,a){return this._85._gf(b,a)},toLogical:function(b,a){return iZ(b)?this._85._$h(b):this._85._ew(b,a)},getElementByMouseEvent:function(b){var a=this._85._3p(b);return a?a.$data:void 0},getElement:function(b){if(iZ(b)){var a=this._85._3p(b);return a?a.$data:null}return this._krModel.getById(b)},invalidate:function(){this._85._mod()},invalidateUI:function(a){a.invalidate(),this.invalidate()},invalidateElement:function(a){this._85._35(a)},getUIBounds:function(a){return this._85._2s(a)},forEachVisibleUI:function(b,a){return this._85._4e(b,a)},forEachReverseVisibleUI:function(b,a){return this._85._$y(b,a)},forEachUI:function(b,a){return this._85._ex(b,a)},forEachReverseUI:function(b,a){return this._85._48(b,a)},forEach:function(b,a){return this._krModel.forEach(b,a)},getElementByName:function(b){var a;return this.forEach(function(c){return c.name==b?(a=c,!1):void 0}),a},focus:function(a){if(a){var b=h0.scrollX||h0.pageXOffset,c=h0.scrollY||h0.pageYOffset;return this.canvasPanel.focus(),void h0.scrollTo(b,c)}this.canvasPanel.focus()},callLater:function(b,a,c){this._85._eu(b,a,c)},exportImage:function(b,a){return bK(this,b,a)},setSelection:function(a){return this._krModel._selectionModel.set(a)},select:function(a){return this._krModel._selectionModel.select(a)},unselect:function(a){return this._krModel._selectionModel.unselect(a)},reverseSelect:function(a){return this._krModel._selectionModel.reverseSelect(a)},selectAll:function(){fG(this)},unSelectAll:function(){this.selectionModel.clear()},unselectAll:function(){this.unSelectAll()},isSelected:function(a){return this._krModel._selectionModel.contains(a)},sendToTop:function(a){gE(this._krModel,a)},sendToBottom:function(a){a5(this._krModel,a)},moveElements:function(b,a,d){var f=[],c=new c2;return iz(b,function(e){e instanceof jc?f.push(e):e instanceof hz&&c.add(e)}),this._dw(f,a,d,c)},_dw:function(b,a,d,f){if(0==a&&0==d||0==b.length&&0==f.length){return !1}if(0!=b.length){var c=this._4m(b);f=this._4a(c,f),iz(c,function(e){var g=e.$location;g?e.setLocation(g.x+a,g.y+d):e.setLocation(a,d)})}return f&&f.length&&this._dx(f,a,d),!0},_dx:function(b,a,c){b.forEach(function(d){d.move(a,c)})},_4a:function(b,a){return this.graphModel.forEach(function(c){c instanceof hz&&this.isMovable(c)&&b.contains(c.fromAgent)&&b.contains(c.toAgent)&&a.add(c)},this),a},_4m:function(b){var a=new c2;return iz(b,function(c){!this.isMovable(c),a.add(c),h9(c,a,this._movableFilter)},this),a},reverseExpanded:function(b){if(!b.isBundleEnabled()){return !1}var a=b.getEdgeBundle(!0);return a?a.reverseExpanded()!==!1?(this.invalidate(),!0):void 0:!1},_31:null,_1d:null,beforeInteractionEvent:function(a){return this._1d.beforeEvent(a)},onInteractionEvent:function(a){this._1d.onEvent(a)},addCustomInteraction:function(a){this._31.addCustomInteraction(a)},removeCustomInteraction:function(a){this._31.removeCustomInteraction(a)},enableWheelZoom:!0,enableTooltip:!0,getTooltip:function(a){return a.tooltip||a.name},updateViewport:function(){this._85._6f()},destroy:function(){this._44(new gV(this,"destroy",!0,this._iged)),this._iged=!0,f0(h0,"resize",this._onresize),this._31.destroy(),this.graphModel=new dQ;var a=this.html;this._85._ig(),a&&(a.innerHTML="")},onPropertyChange:function(b,a,c){this._$w.addListener(function(d){d.kind==b&&a.call(c,d)})},removeSelection:function(){var a=this.selectionModel._k2;return a&&0!=a.length?(a=a.slice(),this._krModel.remove(a),a):!1},removeSelectionByInteraction:function(b){var a=this.selectionModel.datas;return a&&0!=a.length?void e4.confirm("Delete Elements - "+a.length,function(){var c=this.removeSelection();if(c){var d=new eE(this,eE.ELEMENT_REMOVED,b,c);this.onInteractionEvent(d)}},this):!1},createShapeByInteraction:function(b,a,f,h){var d=new db(a);a.length>2&&d.closePath();var c=this.createShapeNode("Shape",d,f,h);this.onElementCreated(c,b);var g=new eE(this,eE.ELEMENT_CREATED,b,c);return this.onInteractionEvent(g),c},createLineByInteraction:function(b,a,f,h){var d=new db(a),c=this.createShapeNode("Line",d,f,h);c.setStyle(e4.Styles.SHAPE_FILL_COLOR,null),c.setStyle(e4.Styles.SHAPE_FILL_GRADIENT,null),c.setStyle(e4.Styles.LAYOUT_BY_PATH,!0),this.onElementCreated(c,b);var g=new eE(this,eE.ELEMENT_CREATED,b,c);return this.onInteractionEvent(g),c},createEdgeByInteraction:function(d,c,h,k){var g=this.createEdge("Edge",d,c);if(k){g._9i=k}else{var f=this.edgeUIClass,j=this.edgeType;this.interactionProperties&&(f=this.interactionProperties.uiClass||f,j=this.interactionProperties.edgeType||j),f&&(g.uiClass=f),j&&(g.edgeType=j)}this.onElementCreated(g,h);var b=new eE(this,eE.ELEMENT_CREATED,h,g);return this.onInteractionEvent(b),g},onElementCreated:function(a){!a.parent&&this.currentSubNetwork&&(a.parent=this.currentSubNetwork)},allowEmptyLabel:!1,startLabelEdit:function(b,a,d,f){var c=this;d.startEdit(f.x,f.y,a.data,this.getStyle(b,bm.LABEL_FONT_SIZE),function(g){return c.onLabelEdit(b,a,g,a.parent)})},onLabelEdit:function(b,a,c,d){return c||this.allowEmptyLabel?void ("label"==a.name?b.name=c:d._gp(a,c)===!1&&(a.data=c,this.invalidateElement(b))):(e4.alert("Label Can't Empty"),!1)},setInteractionMode:function(b,a){this.interactionMode=b,this.interactionProperties=a},upSubNetwork:function(){return this._3j?this.currentSubNetwork=ed(this._3j):!1},_$v:!1,invalidateVisibility:function(){this._$v=!0,this.invalidate()},getBundleLabel:function(b){var a=b.getEdgeBundle(!0);return a&&a.agentEdge==b?"+"+a.bindableEdges.length:null},zoomAnimation:null,pauseRendering:function(b,a){(this.delayedRendering||a)&&this._85._6j(b)},_4u:iC,enableRectangleSelectionByRightButton:!0},iN(dd.prototype,{center:{get:function(){return this.toLogical(this.html.clientWidth/2,this.html.clientHeight/2)}},visibleFilter:{get:function(){return this._icFilter},set:function(a){this._icFilter=a,this.invalidateVisibility()}},topCanvas:{get:function(){return this._85._topCanvas}},propertyChangeDispatcher:{get:function(){return this._$w}},listChangeDispatcher:{get:function(){return this._1l}},dataPropertyChangeDispatcher:{get:function(){return this._$b}},selectionChangeDispatcher:{get:function(){return this._$q}},parentChangeDispatcher:{get:function(){return this._14}},childIndexChangeDispatcher:{get:function(){return this._$m}},interactionDispatcher:{get:function(){return this._1d}},cursor:{set:function(a){this.canvasPanel.style.cursor=a||this._31.defaultCursor},get:function(){return this.canvasPanel.style.cursor}},interactionMode:{get:function(){return this._31._mourrentMode},set:function(b){var a=this.interactionMode;a!=b&&(this._31.currentMode=b,this._44(new gV(this,"interactionMode",b,a)))}},scaleStep:{get:function(){return this._85._eq},set:function(a){this._85._eq=a}},maxScale:{get:function(){return this._85._fs},set:function(a){this._85._fs=a}},minScale:{get:function(){return this._85._h0},set:function(a){this._85._h0=a}},scale:{get:function(){return this._85._scale},set:function(a){return this._85._scale=a}},tx:{get:function(){return this._85._tx}},ty:{get:function(){return this._85._ty}},styles:{get:function(){return this._jk},set:function(a){this._jk=a}},selectionModel:{get:function(){return this._krModel._selectionModel}},graphModel:{get:function(){return this._krModel},set:function(b){if(this._krModel==b){return !1}var a=this._krModel,c=new gV(this,"graphModel",a,b);return this._1s(c)===!1?!1:(null!=a&&(a.propertyChangeDispatcher.removeListener(this._$w,this),a.listChangeDispatcher.removeListener(this._1l,this),a.dataChangeDispatcher.removeListener(this._$b,this),a.parentChangeDispatcher.removeListener(this._14,this),a.childIndexChangeDispatcher.removeListener(this._$m,this),a.selectionChangeDispatcher.removeListener(this._$q,this)),this._krModel=b,this._krModel&&(this._krModel.propertyChangeDispatcher.addListener(this._$w,this),this._krModel.listChangeDispatcher.addListener(this._1l,this),this._krModel.dataChangeDispatcher.addListener(this._$b,this),this._krModel.parentChangeDispatcher.addListener(this._14,this),this._krModel.childIndexChangeDispatcher.addListener(this._$m,this),this._krModel.selectionChangeDispatcher.addListener(this._$q,this)),this._85&&this._85._ld(),void this._44(c))}},count:{get:function(){return this._krModel.length}},width:{get:function(){return this.html.clientWidth}},height:{get:function(){return this.html.clientHeight}},viewportBounds:{get:function(){return this._85._viewportBounds}},bounds:{get:function(){return this._85._4k()}},canvasPanel:{get:function(){return this._85._mmn}},html:{get:function(){return this._85._mmn.parentNode}},navigationType:{get:function(){return this._85._68},set:function(a){this._85._3c(a)}},_3j:{get:function(){return this._krModel._3j}},currentSubNetwork:{get:function(){return this._krModel.currentSubNetwork},set:function(a){this._krModel.currentSubNetwork=a}},limitedBounds:{get:function(){return this._limitedBounds},set:function(a){return fU.equals(a,this._limitedBounds)?!1:a?void (this._limitedBounds=new fU(a)):void (this._limitedBounds=null)}},ratio:{get:function(){return this._85.ratio}},delayedRendering:{get:function(){return this._4u===iC?cX.DELAYED_RENDERING:this._4u},set:function(a){a!=this.delayedRendering&&(this._4u=a,this.pauseRendering(!1,!0))}},fullRefresh:{get:function(){return this._85.fullRefresh},set:function(a){this._85.fullRefresh=a}}}),cX.DELAYED_RENDERING=!0,cX.GROUP_MIN_WIDTH=60,cX.GROUP_MIN_HEIGHT=60,du.prototype={initialize:function(){jB(this,du,"initialize"),this.checkBody()},_mle:function(){this._m6=new db,this.shape=new j3(this._m6),this.shape.layoutByPath=!1,this.addChild(this.shape,0),this.body=this.shape},checkBody:function(){return this._5s()?(this._28=!0,this.shape?(this.shape.visible=!0,this.body=this.shape):(this._mle(),ku.initBindingProperties(this)),void (this.image&&(this.image.visible=!1))):(this.image?(this.image.visible=!0,this.body=this.image):this._mmc(),void (this.shape&&(this.shape.visible=!1)))},_5s:function(){return this.$data._i5()&&this.$data.expanded},_m6:null,_28:!0,_5u:function(){this._1e=!0,this._28=!0},doValidate:function(){if(this._28&&this._5s()){if(this._28=!1,this.shape.invalidateData(),this.$data.groupImage){this.shape.data=this.$data.groupImage;var b=this._1x();return this.shape.offsetX=b.x+b.width/2,this.shape.offsetY=b.y+b.height/2,this.shape.size={width:b.width,height:b.height},cE.prototype.doValidate.call(this)}this.shape.offsetX=0,this.shape.offsetY=0;var a=this._8l(this.$data.groupType);this._m6.clear(),a instanceof fU?e1(this._m6,a.x,a.y,a.width,a.height,a.rx,a.ry):a instanceof fO?jk(this._m6,a):a instanceof bS&&af(this._m6,a),this._m6._63=!0,this.shape.invalidateData()}return cE.prototype.doValidate.call(this)},_7i:function(b,a,f,g,d){switch("number"!=typeof g&&(g=-a/2),"number"!=typeof d&&(d=-f/2),b){case aF.GROUP_TYPE_CIRCLE:var c=Math.max(a,f)/2;return new fO(g+a/2,d+f/2,c);case aF.GROUP_TYPE_ELLIPSE:return new bS(g+a/2,d+f/2,a,f);default:return new fU(g,d,a,f)}},_1x:function(){return this._8l(null)},_8l:function(x){var H,D,A=this.data,z=A.padding,C=A.minSize,N=cX.GROUP_MIN_WIDTH,I=cX.GROUP_MIN_HEIGHT;if(C&&("number"==typeof C.width&&(N=C.width),"number"==typeof C.height&&(I=C.height),H=C.x,D=C.y),!A.hasChildren()){return this._7i(x,N,I,H,D)}var G,P=this.$data._g0._k2;(x==aF.GROUP_TYPE_CIRCLE||x==aF.GROUP_TYPE_ELLIPSE)&&(G=[]);for(var q,M,L,K,J=new fU,k=0,w=P.length;w>k;k++){var F=P[k];if(this.graph.isVisible(F)){var B=this.graph.getUI(F);B&&(q=B.$x+B._g7.x,M=B.$y+B._g7.y,L=B._g7.width,K=B._g7.height,J.addRect(q,M,L,K),G&&(G.push({x:q,y:M}),G.push({x:q+L,y:M}),G.push({x:q+L,y:M+K}),G.push({x:q,y:M+K})))}}if(J.isEmpty()){return this._7i(x,N,I,H,D)}var j=this.$data.$location;j?j.invalidateFlag&&(j.invalidateFlag=!1,H===iC&&(j.x=J.cx),D===iC&&(j.y=J.cy)):j=this.$data.$location={x:J.cx,y:J.cy},z&&J.grow(z),"number"==typeof H&&H+j.x<J.x&&(J.width+=J.x-(H+j.x),J.x=H+j.x,G&&G.push({x:J.x,y:J.cy})),"number"==typeof D&&D+j.y<J.y&&(J.height+=J.y-(J.y,D+j.y),J.y=D+j.y,G&&G.push({x:J.cx,y:J.y}));var b,H=j.x,D=j.y;if(x==aF.GROUP_TYPE_CIRCLE){b=f2(G),b.cx-=H,b.cy-=D;var e=Math.max(N,I)/2;return b.r<e&&(b.cx+=e-b.r,b.cy+=e-b.r,b.r=e),b}return x==aF.GROUP_TYPE_ELLIPSE?(b=hv(G,J),b.cx-=H,b.cy-=D,b.width<N&&(b.cx+=(N-b.width)/2,b.width=N),b.height<I&&(b.cy+=(I-b.height)/2,b.height=I),b):(b=J,J.width<N&&(J.width=N),J.height<I&&(J.height=I),J.offset(-H,-D),b)},_$x:function(b,a,c){if(!this._5s()){return jB(this,du,"_$x",arguments)}var d=this._moe.onBindingPropertyChange(this,b,a,c);return d=f6.onBindingPropertyChange(this,b,a,c)||d,d=b1.onBindingPropertyChange(this,b,a,c)||d,ku.onBindingPropertyChange(this,b,a,c)||d}},i2(du,cE),e4.GroupUI=du;var dV={draw:function(){}};cX.NAVIGATION_IMAGE_LEFT=null,cX.NAVIGATION_IMAGE_TOP=null;var hR={position:"absolute","text-align":"center"},cu={padding:"10px",transition:"opacity 0.2s ease-in"},iI={position:"relative",display:"block"};aY(".Q-Graph-Nav img","opacity:0.7;vertical-align:middle;"),aY(".Q-Graph-Nav img:hover,img.hover","opacity:1;background-color: rgba(0, 0, 0, 0.5)"),jR||(aY(".Q-Graph-Nav","opacity:0;"+bE("transition")+":opacity 3s cubic-bezier(0.8, 0, 0.8, 1)"),aY(".Q-Graph-Nav:hover","opacity:1;"+bE("transition")+":opacity 0.3s linear")),dM.prototype={_d9:function(b,a){return b._ic==a?!1:(b._ic=a,void (b.style.visibility=a?"visible":"hidden"))},_3a:function(b,a){var c=a/2-this._left._img.clientHeight/2+"px";this._left._img.style.top=c,this._right._img.style.top=c,this._navPane.style.width=b+"px",this._navPane.style.height=a+"px"},_9x:function(b,a,c,d){this._d9(this._top,b),this._d9(this._left,a),this._d9(this._mmottom,c),this._d9(this._right,d)},_ig:function(){var a=this._navPane.parentNode;a&&a.removeChild(this._navPane)},_jo:function(){var b=this._mmaseCanvas._kr;if(b){var a=b.bounds;if(a.isEmpty()){return void this._9x(!1,!1,!1,!1)}var f=b.viewportBounds,h=f.y>a.y+1,d=f.x>a.x+1,c=f.bottom<a.bottom-1,g=f.right<a.right-1;this._9x(h,d,c,g)}}};var fP=10;aY(".Q-Graph-ScrollBar","margin: 2px; position: absolute;box-sizing: border-box;box-shadow: #FFF 0px 0px 1px; background-color: rgba(120,120,120,0.3);border-radius: 4px;margin: 1px;"),aY(".Q-Graph-ScrollBar.hover, .Q-Graph-ScrollBar:hover","background-color: #7E7E7E;"+bE("transition")+": background-color 0.2s linear;"),aY(".Q-Graph-ScrollBar--V","width: 8px;right: 0px;"),aY(".Q-Graph-ScrollBar--H","height: 8px;bottom: 0px;"),aY(".Q-Graph-ScrollBar--V.Both","margin-bottom: 8px;"),aY(".Q-Graph-ScrollBar--H.Both","margin-right: 8px;"),jR||(aY(".Q-Graph-ScrollPane","opacity:0;"+bE("transition")+":opacity 3s cubic-bezier(0.8, 0, 0.8, 1);"),aY(".Q-Graph:hover .Q-Graph-ScrollPane","opacity:1;"+bE("transition")+":opacity 0.3s linear;")),hI.prototype={_ig:function(){this._verticalDragSupport._ig(),this._horizontalDragSupport._ig(),delete this._verticalDragSupport,delete this._horizontalDragSupport,this._lr.parentNode&&this._lr.parentNode.removeChild(this._lr)},_lr:null,_mm5:null,_8p:null,init:function(a){var d=iu.createElement("div");d.className="Q-Graph-ScrollPane",g0(d,{width:"100%",height:"100%",position:"relative"});var g=iu.createElement("div");g.className="Q-Graph-ScrollBar Q-Graph-ScrollBar--V";var c=iu.createElement("div");c.className="Q-Graph-ScrollBar Q-Graph-ScrollBar--H",d.appendChild(g),d.appendChild(c),a.appendChild(d),this._lr=d,this._8p=c,this._mm5=g,c.isH=!0;var b=this,f={onstart:function(h,e){e.classList.add("hover")},onrelease:function(h,e){e.classList.remove("hover")},ondrag:function(j,h){var l=b._mmaseCanvas._kr;if(l){var p=h.isH,k=p?j.dx:j.dy;if(k&&h.scale){var m=l.scale/h.scale;p?l.translate(-m*k,0):l.translate(0,-m*k),e4.stopEvent(j)}}},enddrag:function(j,h){var l=b._mmaseCanvas._kr;if(l&&l.enableInertia){var p=h.isH,k=p?j.vx:j.vy;if(Math.abs(k)>0.1){var m=l.scale/h.scale;k*=m,p?l._mla(-k,0):l._mla(0,-k)}}}};this._verticalDragSupport=new dv(g,f),this._horizontalDragSupport=new dv(c,f)},_3a:function(){var a=this._mmaseCanvas._kr;a&&a.callLater(this._jo.bind(this))},_jo:function(){var p=this._mmaseCanvas._kr;if(p){var g=p.bounds;if(g.isEmpty()){return this._4h(!1),void this._47(!1)}var k=p.viewportBounds,d=p.width,b=p.height,q=p.scale,c=1/q,m=k.x>g.x+c||k.right<g.right-c,j=k.y>g.y+c||k.bottom<g.bottom-c,f=m&&j;f?(i4(this._mm5,"Both"),i4(this._8p,"Both")):(ik(this._mm5,"Both"),ik(this._8p,"Both")),this._4h(m,k,g,f?d-fP:d),this._47(j,k,g,f?b-fP:b)}},_4h:function(d,c,h,k){if(!d){return this._8p.style.display="none",void (this._8p.scale=0)}var g=Math.min(c.x,h.x),f=Math.max(c.right,h.right),j=f-g,b=k/j;this._8p.scale=b,this._8p.style.left=parseInt((c.x-g)*b)+"px",this._8p.style.right=parseInt((f-c.right)*b)+"px",this._8p.style.display=""},_47:function(d,c,h,k){if(!d){return this._mm5.style.display="none",void (this._mm5.scale=0)}var g=Math.min(c.y,h.y),f=Math.max(c.bottom,h.bottom),j=f-g,b=k/j;this._mm5.scale=b,this._mm5.style.top=parseInt((c.y-g)*b)+"px",this._mm5.style.bottom=parseInt((f-c.bottom)*b)+"px",this._mm5.style.display=""}},cb.prototype={shape:null,initialize:function(){jB(this,cb,"initialize"),this._mmc(),jM.initBindingProperties(this)},_mmc:function(){this.image=new dD(this.$data.path),this.addChild(this.image,0),this.body=this.image},invalidateShape:function(){this.image.invalidateData(),this.invalidateRender()},_$x:function(b,a,c){var d=this._moe.onBindingPropertyChange(this,b,a,c);return d=f6.onBindingPropertyChange(this,b,a,c)||d,jM.onBindingPropertyChange(this,b,a,c)||d},doValidate:function(){this.body&&(this.image.data=this.data.path,this.body.$layoutByAnchorPoint=null!=this._2k,this.body.anchorPosition=this._2k);var b=this.$data.$location,a=0,c=0;b&&(a=b.x,c=b.y);var d=this.$x!=a||this.$y!=c;return d&&(this.$invalidateBounds=!0),this.$x=a,this.$y=c,fI.prototype.doValidate.call(this)||d}},i2(cb,fI),iN(cb.prototype,{path:{get:function(){return this.data.path}},length:{get:function(){return this.data.length}}}),cb.prototype.addPoint=function(b,a,f){var g=this._i0(b,a),d=this.data,c=eP(d.path,g.x,g.y,f);c&&(d.pathSegments=c)},im.prototype={_m1:function(){this._jg.style.visibility="visible"},_k4:function(){this._jg.style.visibility="hidden"},clear:function(){this._9v.clear(),this._mod()},contains:function(a){return a instanceof Object&&a.id&&(a=a.id),this._9v.containsById(a)},_53:function(a){gy.setStyle(this._jg,"transform",a?"matrix("+a.join(",")+")":"")},addDrawable:function(b,a){if(a){var c={id:++kw,drawable:b,scope:a};return this._9v.add(c),c}return b.id||(b.id=++kw),this._9v.add(b),b},removeDrawable:function(a){return a.id?void this._9v.remove(a):this._9v.removeById(a)},_9v:null,invalidate:function(){this._mod()},_mod:function(){this._mmaseCanvas._63||this._jp()},_it:function(b,a){this._jg.setSize(b,a)},_jp:function(){var b=this._mmaseCanvas._scale,a=this.g;a._l0(),a.save(),this._mmaseCanvas._9e(a);for(var d=this._9v._k2,f=0,c=d.length;c>f;f++){a.save(),a.beginPath(),this._hl(a,d[f],b),a.restore()}a.restore()},_hl:function(b,a,c){return a instanceof Function?void a(b,c):void (a.drawable instanceof Function&&a.scope&&a.drawable.call(a.scope,b,c))}},cX.ZOOM_ANIMATE=!0;var bP=function(a){this._kr=a};cX.ANIMATION_MAXTIME=600,cX.ANIMATION_TYPE=cq.easeOut,bP.prototype={_kr:null,_e2:null,_h3:function(l,f,j){this._lq();var d=Math.abs(l/2),b=Math.abs(f/2),m=Math.min(cX.ANIMATION_MAXTIME,0.6*Math.max(d,b)*1000);if(10>m){return !1}var c=function(a){return -(2*Math.pow(a,1.5)-3*a)},k=l*m/3,g=f*m/3;this._l7(this._kr.tx+k,this._kr.ty+g,0,{duration:m,animationType:c},j)},_7n:function(b,a,d,f,c){this._e2&&this._e2._lq(),c&&(this.__delayRender=!0,this._kr.pauseRendering(!0)),this._4w(),this._e2=new j0(b,this,a,d),this._e2._7h=this._7h.bind(this),this._e2._l1(f)},_4w:function(){this._kr.onAnimationStart()},_7h:function(){this.__delayRender&&(this._kr.pauseRendering(!1),delete this.__delayRender),this._kr.onAnimationEnd()},_e3:function(){return this._e2&&this._e2._e3()},_lq:function(){this._e2&&this._e2._lq()},_ir:function(b){var a=this._fromTX+(this._toTX-this._fromTX)*b,c=this._fromTY+(this._toTY-this._fromTY)*b,d=this._fromScale+(this._toScale-this._fromScale)*b;this._kr.translateTo(a,c,d,this.toInt)},_l7:function(z,k,p,g,b){this._lq();var A=this._kr,f=A.scale;if(0>=p&&(p=f),z!=A.tx||k!=A.ty||p!=f){var w,m,j;g instanceof Object&&(w=g.duration,m=g.maxTime,j=g.animationType);var x=A.tx,y=A.ty;if(!w){if(p!=f){var v=p>f?p/f:f/p;v=Math.log(v)/Math.log(1.3),w=60*v}else{var q=ig(z,k,x,y);w=q/2}}m=m||cX.ANIMATION_MAXTIME,j=j||cX.ANIMATION_TYPE,w=Math.min(m,w),this._fromTX=x,this._fromTY=y,this._fromScale=f,this._toTX=z,this._toTY=k,this._toScale=p,this._7n(this._ir,w,j,b,p!=f)}}},cX.INTERACTION_HANDLER_SIZE_TOUCH=8,cX.INTERACTION_HANDLER_SIZE_DESKTOP=4,cX.INTERACTION_ROTATE_HANDLER_SIZE_TOUCH=30,cX.INTERACTION_ROTATE_HANDLER_SIZE_DESKTOP=20;var fV=Math.PI/4;fS.prototype={onElementRemoved:function(b,a){this.element&&(b==this.element||jt(b)&&hV(b,this.element))&&this.destroy(a)},onClear:function(a){this.element&&this.destroy(a)},destroy:function(){delete this.element,this.removeDrawable()},invalidate:function(){this.topCanvas.invalidate()},removeDrawable:function(){this._fuId&&(this.topCanvas.removeDrawable(this._fuId),delete this._fuId,this.invalidate())},addDrawable:function(){this._fuId||(this._fuId=this.topCanvas.addDrawable(this.doDraw,this).id,this.invalidate())},doDraw:function(){},escapable:!0,onkeydown:function(b,a){this.escapable&&27==b.keyCode&&(iO(b),this.destroy(a))}},e4.DrawableInteraction=fS,hc.prototype={defaultCursor:"default",getInteractionInstances:function(b){if(!this.interactions){return null}for(var a=[],d=0,f=this.interactions.length;f>d;d++){var c=this.interactions[d];c instanceof Function?a.push(new c(b)):c instanceof Object&&a.push(c)}return a}},d3.prototype={_e8:null,_ka:null,destroy:function(){jB(this,d3,"destroy",arguments),delete this._ka,delete this._94,delete this._e8},doDraw:function(b){var a=this.points;a&&(a.forEach(function(c){this.drawPoint(b,c)},this),this.isClosePath&&b.closePath(),this.styleDraw(b))},styleDraw:function(b){var a=cD(this.graph.interactionProperties,this.getDefaultDrawStyles(this.graph));a.lineWidth&&(b.lineWidth=a.lineWidth,a.lineCap&&(b.lineCap=a.lineCap),a.lineJoin&&(b.lineJoin=a.lineJoin),a.lineDash&&(b.lineDash=a.lineDash,b.lineDashOffset=a.lineDashOffset||0),b.strokeStyle=a.strokeStyle,b.stroke()),a.fillStyle&&(b.fillStyle=a.fillStyle,b.fill())},drawPoint:function(b,a,d){if(d){return void b.moveTo(a.x,a.y)}if(e4.isArray(a)){var f=a[0],c=a[1];b.quadraticCurveTo(f.x,f.y,c.x,c.y)}else{b.lineTo(a.x,a.y)}},setCurrentPoint:function(a){this.currentPoint=a},addPoint:function(a){this._ka||(this._ka=[],this.addDrawable()),this._ka.push(a),this.invalidate()}},i2(d3,fS),iN(d3.prototype,{currentPoint:{get:function(){return this._94},set:function(a){this._94=a,this.invalidate()}},prevPoint:{get:function(){return this._ka&&this._ka.length?this._ka[this._ka.length-1]:null}},points:{get:function(){return this._94&&this._ka&&this._ka.length?this._ka.concat(this._94):void 0}}}),e4.DrawPathInteraction=d3,b3.prototype={destroy:function(){jB(this,b3,"destroy",arguments),delete this.start,this._la&&(clearTimeout(this._la),delete this._la)},doDraw:function(b,a){return this._ka?this._ka.length<=1?gb.prototype.doDraw.call(this,b,a):void jB(this,b3,"doDraw",arguments):void 0},ondblclick:function(b,a){this.destroy(a)},finish:function(b,a,c){var d;this._ka&&this._ka.length>=2&&(this._ka.shift(),d=new c2,iz(this._ka,function(g){if(e4.isArray(g)){var f=g[0],h=g[1];d.add(new ey(aF.SEGMENT_QUAD_TO,[f.x,f.y,h.x,h.y]))}else{d.add(new ey(aF.SEGMENT_LINE_TO,[g.x,g.y]))}},this)),a.createEdgeByInteraction(this.start,c,b,d),this.destroy(a)},_mm9:function(b,a){return b instanceof jc&&a.canLinkFrom(b)},_ed:function(b,a){return b instanceof jc&&a.canLinkTo(b,this.start)},_9d:function(b,a){var c=a.getUI(b);return c&&c.bodyBounds?c.bodyBounds.center:b.location},onstart:function(b,a){if(this.start){var c=b.getData();return this._ed(c,a)?void this.finish(b,a,c):void this.addPoint(this.toLogicalPoint(b))}},startdrag:function(b,a){if(!this.start&&!b.responded){var c=b.getData();c&&this._mm9(c,a)&&(b.responded=!0,this.start=c,this.addPoint(this._9d(c,a)))}},_dl:function(a){this._la&&(clearTimeout(this._la),delete this._la),this._la=setTimeout(function(c){if(delete this._la,this.start&&this.currentPoint){var b=c.x-this.currentPoint.x,d=c.y-this.currentPoint.y;Math.sqrt(b*b+d*d)*this.graph.scale<=2&&this.addPoint(this.currentPoint)}}.bind(this,this.toLogicalPoint(a)),cX.LONG_PRESS_INTERVAL)},ondrag:function(b,a){this.onmousemove(b,a)},enddrag:function(b,a){if(this.start){var c=b.getData();this._ed(c,a)&&this.finish(b,a,c)}},onrelease:function(b,a){aB(b)&&this.destroy(a)},onmousemove:function(b,a){this.start&&(this.currentPoint=this.toLogicalPoint(b),aB(b)&&this._dl(b,a))},toLogicalPoint:function(a){return this.graph.toLogical(a)},getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(bm.EDGE_WIDTH),strokeStyle:this.graph.getDefaultStyle(bm.EDGE_COLOR),lineDash:this.graph.getDefaultStyle(bm.EDGE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(bm.EDGE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(bm.LINE_CAP),lineJoin:this.graph.getDefaultStyle(bm.LINE_JOIN)}}},i2(b3,d3),e4.CreateEdgeInteraction=b3,dG.prototype={getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(bm.SHAPE_STROKE),strokeStyle:this.graph.getDefaultStyle(bm.SHAPE_STROKE_STYLE),fillStyle:this.graph.getDefaultStyle(bm.SHAPE_FILL_COLOR)}},finish:function(b,a){if(this._ka&&this._ka.length){var f=this._ka,h=0,d=0,c=0;f.forEach(function(e){return e4.isArray(e)?void e.forEach(function(){h+=e.x,d+=e.y,c++}):(h+=e.x,d+=e.y,void c++)}),h/=c,d/=c;var g=[];f.forEach(function(k,j){if(0==j){return void g.push(new ey(aF.SEGMENT_MOVE_TO,[k.x-h,k.y-d]))}if(e4.isArray(k)){var m=k[0],l=k[1];g.push(new ey(aF.SEGMENT_QUAD_TO,[m.x-h,m.y-d,l.x-h,l.y-d]))}else{g.push(new ey(aF.SEGMENT_LINE_TO,[k.x-h,k.y-d]))}}),this.createElement(b,g,h,d),this.destroy(a)}},startdrag:function(a){a.responded=!0},createElement:function(b,a,c,d){return this.graph.createShapeByInteraction(b,a,c,d)},onstart:function(b,a){var c=a.toLogical(b);this._e8=c,this.addPoint(c)},onmousemove:function(b,a){this._e8&&(this.currentPoint=a.toLogical(b))},ondblclick:function(b,a){if(this._e8){if(this._ka.length<3){return void this.destroy(a)}delete this._ka[this._ka.length-1],this.finish(b,a)}},isClosePath:!0},i2(dG,d3),e4.CreateShapeInteraction=dG,jJ.prototype={isClosePath:!1,createElement:function(b,a,c,d){return this.graph.createLineByInteraction(b,a,c,d)},getDefaultDrawStyles:function(){return{lineWidth:c5[bm.SHAPE_STROKE],strokeStyle:c5[bm.SHAPE_STROKE_STYLE],lineDash:this.graph.getDefaultStyle(bm.SHAPE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(bm.SHAPE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(bm.LINE_CAP),lineJoin:this.graph.getDefaultStyle(bm.LINE_JOIN)}}},i2(jJ,dG),e4.CreateLineInteraction=jJ,gb.prototype={destroy:function(a){jB(this,gb,"destroy",arguments),a.cursor="",this.start=null},doDraw:function(b){if(this.start&&this.currentPoint){var a,d;this.graph.interactionProperties&&(a=this.graph.interactionProperties.uiClass,d=this.graph.interactionProperties.edgeType),a=a||this.graph.edgeUIClass||e4.EdgeUI,d=d||this.graph.edgeType;var f=a.drawReferenceLine||e4.EdgeUI.drawReferenceLine,c=this.graph.getUI(this.start);c&&c.bodyBounds&&(c=c.bodyBounds.center,f(b,c,this.currentPoint,d),this.styleDraw(b))}},canLinkFrom:function(b,a){return b instanceof jc&&a.canLinkFrom(b)},canLinkTo:function(b,a){return b instanceof jc&&a.canLinkTo(b,this.start)},startdrag:function(b,a){var c=b.getData();this.canLinkFrom(c,a)&&(b.responded=!0,this.start=c,a.cursor="crosshair",this.addDrawable())},ondrag:function(b,a){this.start&&(e4.stopEvent(b),this.currentPoint=a.toLogical(b),this.invalidate())},enddrag:function(b,a){if(this.start){this.invalidate();var c=b.getData();this.canLinkTo(c,a)&&a.createEdgeByInteraction(this.start,c,b),this.destroy(a)}},getDefaultDrawStyles:function(){return{lineWidth:this.graph.getDefaultStyle(bm.EDGE_WIDTH),strokeStyle:this.graph.getDefaultStyle(bm.EDGE_COLOR),lineDash:this.graph.getDefaultStyle(bm.EDGE_LINE_DASH),lineDashOffset:this.graph.getDefaultStyle(bm.EDGE_LINE_DASH_OFFSET),lineCap:this.graph.getDefaultStyle(bm.LINE_CAP),lineJoin:this.graph.getDefaultStyle(bm.LINE_JOIN)}}},i2(gb,d3),e4.CreateSimpleEdgeInteraction=gb,cX.LABEL_EDITOR_SUBMIT_WHEN_LOST_FOCUS=!1,gT.prototype={html:null,createHTML:function(){var a=iu.createElement("textarea");a.className="Q-LabelEditor",a.style.position="absolute",a.style.textAlign="center",a.style.border="solid #08E 1px",a.style.padding="5px",a.style.boxShadow="0px 0px 10px rgba(40, 85, 184, 0.75)",a.style.display="none",a.style.overflow="hidden";var b=this;return a.oninput=function(c){b.onValueChange(c)},a.onkeydown=function(c){return 27==c.keyCode?void b.cancelEdit():void 0},a.onkeypress=function(c){if(13==c.keyCode||10==c.keyCode){if(c.preventDefault(),c.altKey||c.ctrlKey||c.shiftKey){return h1(a,"\n"),void b.onValueChange(c)}b.stopEdit()}},iu.body.appendChild(a),a},setText:function(b,a){this.html.value=b||"",a&&(this.html.style.fontSize=a),hD(this.html),this.onSizeChange(this.html)},onSizeChange:function(b){var a=(b.offsetWidth,b.offsetHeight,bq(b));return b.style.width=a.width+30+"px",b.style.height=a.height+10+"px",a},onValueChange:function(b){var a=b.target;this.onSizeChange(a);a.style.left=a.x-a.offsetWidth/2+"px"},onClickOnWindow:function(a){a.target!=this.html&&(cX.LABEL_EDITOR_SUBMIT_WHEN_LOST_FOCUS?this.stopEdit():this.cancelEdit())},startEdit:function(a,d,f,c,b){this.html||(this.html=this.createHTML()),this.stopEditWhenClickOnWindow||(this.stopEditWhenClickOnWindow=function(e){this.onClickOnWindow(e)}.bind(this)),h0.addEventListener("mousedown",this.stopEditWhenClickOnWindow,!0),this.callback=b,this.html.x=a,this.html.y=d,this.html.style.display="block",aj(this.html,a,d),this.setText(f,c||10),aj(this.html,a,d)},isEditing:function(){return"none"!=this.html.style.display},cancelEdit:function(){this.stopEdit(!0)},stopEdit:function(a){if(this.isEditing()){h0.removeEventListener("mousedown",this.stopEditWhenClickOnWindow);var b=this.html.value;if(!a&&this.callback&&this.callback(b)===!1){return !1}this.html.style.display="none",this.html.value=null,this.callback=null}},destroy:function(){this.html&&iu.body.removeChild(this.html)}},e4.LabelEditor=gT;var hj=function(a){this.graph=a};hj.prototype={destroy:function(a){a.labelEditor&&(a.labelEditor.destroy(),delete a.labelEditor)},ondblclick:function(l,f){var j=l.getData();if(j){if(j.dblclickable!==!1){if(f.editable&&f.isEditable(j)){var d=f.hitTest(l);if(d instanceof ev&&d.editable!==!1){var b=f.labelEditor;b||(f.labelEditor=b=new gT);var m=d.getBounds();return m=f.toCanvas(m.x+m.width/2,m.y+m.height/2),m=eR(m.x,m.y,f.html),void f.startLabelEdit(j,d,b,m)}}var c=j instanceof ap,k=j instanceof hz&&j.hasEdgeBundle();return j._42&&(kc(l)||!c&&!k)?void (f.currentSubNetwork=j):c?(j.expanded=!j.expanded,void this.graph.onInteractionEvent(new eE(this.graph,eE.GROUP_EXPANDED,l,j))):void (k&&this.graph.reverseExpanded(j)&&this.graph.onInteractionEvent(new eE(this.graph,eE.EDGE_BUNDLE,l,j)))}}else{if(f.currentSubNetwork){return void f.upSubNetwork()}if(f.enableDoubleClickToOverview){var g=f.resetScale||1;Math.abs(f.scale-g)<0.0001?f.zoomToOverview():f.moveToCenter(g)}}}};var d9=function(a){this.graph=a};d9.prototype={onkeydown:function(b,a){if(a.editable){var c=b.keyCode;if(8==c||46==c||127==c){return a.removeSelectionByInteraction(b),void j1(b)}if(kc(b)){if(67==c){}else{if(86==c){}else{if(90==c){}else{if(89!=c){return}}}}j1(b)}}}},e4.EditInteraction=d9;var cI=function(a){this.graph=a};cI.prototype={onkeydown:function(a,d){if(a.metaKey&&83==a.keyCode){var g=d.exportImage(d.scale,d.viewportBounds),c=h0.open(),b=c.document;b.title="export image - "+g.width+" x "+g.height;var f=b.createElement("img");f.src=g.data,b.body.appendChild(f),j1(a)}}};var b8=function(a){this.graph=a};b8.prototype={destroy:function(){delete this.draggingElements,delete this.currentDraggingElement},_23:function(b){var a=new c2;return b.selectionModel.forEach(function(c){b.isMovable(c)&&b.isVisible(c)&&a.add(c)},this),a},onstart:function(b,a){this.currentDraggingElement&&this.destroy(a)},startdrag:function(b,a){if(!(b.responded||b.touches&&1!=b.touches.length)){var c=b.getData();if(!c||!a.isSelected(c)||!a.isMovable(c)){return void this.destroy(a)}b.responded=!0,this.currentDraggingElement=c,this.draggingElements=this._23(a);var d=new eE(a,eE.ELEMENT_MOVE_START,b,this.currentDraggingElement,this.draggingElements.datas);return a.beforeInteractionEvent(d)===!1?void this.destroy(a):void a.onInteractionEvent(d)}},ondrag:function(b,a){if(this.currentDraggingElement){if(b.touches&&1!=b.touches.length){return void this.enddrag(b,a)}iO(b);var f=b.dx,g=b.dy,d=a.scale;f/=d,g/=d;var c=new eE(a,eE.ELEMENT_MOVING,b,this.currentDraggingElement,this.draggingElements.datas);a.moveElements(this.draggingElements.datas,f,g),a.onInteractionEvent(c)}},enddrag:function(b,a){if(this.currentDraggingElement){if(this.draggingElements&&this.draggingElements.length){if(b.shiftKey){var f,h=a.toLogical(b),d=h.x,c=h.y;a.forEachReverseVisibleUI(function(j){var e=j.data;if(!this.draggingElements.contains(e)&&j.uiBounds.intersectsPoint(d-j.x,c-j.y)&&j.hitTest(d,c,1)){if(e instanceof e4.Edge){if(!e.enableSubNetwork){return}for(var l=this.draggingElements.length;l-->0;){var k=this.draggingElements.get(l);if(k instanceof e4.Node&&k.linkedWith(e)){return}}return f=e,!1}return(e.enableSubNetwork||e._i5()&&e.expanded)&&(f=e),!1}},this),f&&this.draggingElements.forEach(function(j){for(var e=j.parent;e;){if(this.draggingElements.contains(e)){return}e=e.parent}j.parent=f},this)}var g=new eE(a,eE.ELEMENT_MOVE_END,b,this.currentDraggingElement,this.draggingElements.datas);a.onInteractionEvent(g)}this.destroy(a)}},onpinch:function(b,a){this.currentDraggingElement&&this.enddrag(b,a)},step:1,onkeydown:function(b,a){if(kc(b)){var f,h;if(37==b.keyCode?f=-1:39==b.keyCode?f=1:38==b.keyCode?h=-1:40==b.keyCode&&(h=1),f||h){var d=this._23(a).datas;if(0!=d.length){j1(b),f=f||0,h=h||0;var c=this.step/a.scale,g=new eE(a,eE.ELEMENT_MOVE_END,b,null,d);a.moveElements(d,f*c,h*c),a.onInteractionEvent(g)}}}}};var dK=function(a){this.graph=a};dK.prototype={onkeydown:function(b,a){kc(b)||(37==b.keyCode?(this._5w(a,1,0),j1(b)):39==b.keyCode?(this._5w(a,-1,0),j1(b)):38==b.keyCode?(this._5w(a,0,1),j1(b)):40==b.keyCode&&(this._5w(a,0,-1),j1(b)))},_5w:function(b,a,c){b._mla(a,c)},onstart:function(b,a){this._l1&&this.destroy(a)},_l1:!1,startdrag:function(b,a){if(!b.responded){b.responded=!0,this._l1=!0,a.cursor=fJ;var c=new eE(a,eE.PAN_START,b);a.onInteractionEvent(c)}},ondrag:function(b,a){this._l1&&a.translate(b.dx||0,b.dy||0)},enddrag:function(b,a){if(this._l1){if(a.enableInertia!==!1){var d=b.vx,f=b.vy;(Math.abs(d)>0.1||Math.abs(f)>0.1)&&a._mla(d,f)}this.destroy(a);var c=new eE(a,eE.PAN_END,b);a.onInteractionEvent(c)}},startpinch:function(b,a){a.pauseRendering(!0)},onpinch:function(b,a){this._l1=!0;var c=b.dScale;if(c){var d=a.globalToLocal(b.center);a.zoomAt(c,d.x,d.y,!1)}},endpinch:function(b,a){a.pauseRendering(!1)},destroy:function(a){this._l1=!1,a.cursor=null}},gB.prototype={_1g:function(a){this.element&&a.source==this.element&&this.graph.callLater(function(){this._jo()},this)},_6:function(){this._lgPropertyChangeListing||(this._lgPropertyChangeListing=!0,this.graph.dataPropertyChangeDispatcher.addListener(this._1g,this))},_5:function(){this._lgPropertyChangeListing=!1,this.graph.dataPropertyChangeDispatcher.removeListener(this._1g,this)},onElementRemoved:function(b,a){this.element&&(b==this.element||Array.isArray(b)&&hV(b,this.element))&&this.destroy(a)},onClear:function(a){this.element&&this.destroy(a)},destroy:function(){this.graph.cursor=null,this.element&&delete this.element._editting,this._mousePressed=!1,delete this.element,delete this._9i,delete this._94,delete this._moanEdit,this._74(),this._5()},_74:function(){this.drawLineId&&(this.topCanvas.removeDrawable(this.drawLineId),delete this.drawLineId,this.topCanvas.invalidate())},_mly:function(){this.drawLineId&&this.topCanvas.contains(this.drawLineId)||(this.drawLineId=this.topCanvas.addDrawable(this.drawLine,this).id,this.topCanvas.invalidate())},_9i:null,_5r:function(a){this._9i=a,this.invalidate()},_eb:function(b,a,c){b.beginPath(),a.isControlPoint?b.rect(a.x-this.handlerSize/c,a.y-this.handlerSize/c,this.handlerSize/c*2,this.handlerSize/c*2):b.arc(a.x,a.y,this.handlerSize/c,0,2*Math.PI,!1),b.lineWidth=1/c,b.lineDash=[],b.strokeStyle="#888",b.fillStyle="rgba(255, 255, 0, 0.8)",b.stroke(),b.fill()},_fu:function(b,a,c,d){d?b.moveTo(a,c):b.lineTo(a,c)},drawLine:function(b,a){if(this._9i&&this._9i.length){b.save();var d=this.element instanceof e6;d&&(b.translate(this.element.x,this.element.y),this.element.rotate&&b.rotate(this.element.rotate));var f,c=[];b.beginPath();this._9i.length;this._9i.forEach(function(j){if(j.type!=aF.SEGMENT_CLOSE){for(var m=0,l=j.points;m+1<l.length;){var n=l[m],g=l[m+1],k={x:n,y:g,isControlPoint:this._7d(j,m)};c.push(k),this._fu(b,k.x,k.y,null==f),f=k,m+=2}}},this),b.lineWidth=1/a,b.lineDash=[2/a,3/a],b.strokeStyle="#555",b.stroke(),c.forEach(function(g){this._eb(b,g,a)},this),b.restore()}},invalidate:function(){this.topCanvas.invalidate()},_3h:function(b){if(this.element!=b&&(this.element&&this.destroy(),b&&this.isEditable(b))){var a=this._5q(b,this.graph);a&&(this.element=b,b._editting=!0,this._moanEdit=!0,this._5r(a),this._6(),this._mly())}},_jo:function(){if(this.drawLineId&&this.element){var a=this._5q(this.element,this.graph);return a?void this._5r(a):void this.destroy(this.graph)}},_5q:function(z,k){if(k.isEditable(z)){var p=z.pathSegments||[];p instanceof c2&&(p=p.toDatas());var g=k.getUI(z);if(g instanceof e4.EdgeUI){var b=z.fromAgent,A=z.toAgent,f=k.getUI(b),w=k.getUI(A),m=f.bodyBounds.clone(),j=w.bodyBounds.clone(),x=m.center,y=j.center,v=g.getStyle(e4.Styles.EDGE_FROM_OFFSET),q=g.getStyle(e4.Styles.EDGE_TO_OFFSET);v&&(x.x+=v.x||0,x.y+=v.y||0),q&&(y.x+=q.x||0,y.y+=q.y||0),p.splice(0,0,new e4.PathSegment(aF.SEGMENT_MOVE_TO,[x.x,x.y])),p.push(new e4.PathSegment(aF.SEGMENT_MOVE_TO,[y.x,y.y]))}return p}},_i0:function(b,a){b-=this.element.x,a-=this.element.y;var c={x:b,y:a};return this.element.rotate&&ab(c,-this.element.rotate),c},onclick:function(b,a){if(a.editable&&b.altKey&&this.element){var d=this._fp(b,a);if(d&&d.isControlPoint){return void this.element.removePathSegmentByIndex(d.index)}if(this.element==b.getData()){var f=a.toLogical(b),c=a.getUI(this.element);c.addPoint(f.x,f.y,this.handlerSize||2)}}},isEditable:function(a){return this.graph.isEditable(a)&&(a instanceof e6||a instanceof hz&&(!a.isLooped()||a.hasPathSegments()))},ondblclick:function(b,a){if(!a.editable){return void (this.element&&this.destroy(a))}var c=b.getData();return !c||c==this.element||c._editting?void this.destroy(a):void this._3h(c)},onstart:function(b,a){if(this._mousePressed=!0,!a.editable){return void (this.element&&this.destroy(a))}if(!b.responded){if(this.element&&this._fp(b,a)){return void (b.responded=!0)}var c=b.getData();return c&&a.isResizable(c)&&c instanceof e6?void (this.element&&c!=this.element&&this.destroy()):void this._3h(c)}},onrelease:function(){this._mousePressed=!1,this.element&&(this._moanEdit=!0)},_94:null,_fp:function(l,f){var j=f.toLogical(l);this.element instanceof e6&&(j=this._i0(j.x,j.y));var d,b=f.scale,m=this.handlerSize/b,c=this._9i,k=c.length,g=this.element instanceof e4.Edge;return c.forEach(function(w,a){for(var e=0,q=w.points;e+1<q.length;){var s=q[e],o=q[e+1],n=ig(j.x,j.y,s,o);if(m>n){if(d={oldPoints:q.slice(0),segment:w,index:a,pointIndex:e},g&&(d.index-=1),g&&!a1(w)&&(0==a||a==c.length-1)){d.isEndPoint=!0;var i=0==a;d.isFrom=i;var h=i?e4.Styles.EDGE_FROM_OFFSET:e4.Styles.EDGE_TO_OFFSET,p=f.getStyle(this.element,h)||{};d.oldPoints=[p.x||0,p.y||0]}return this._7d(w,e)&&(d.isControlPoint=!0,a>0&&(d.prevSegment=c instanceof c2?c.getByIndex(a-1):c[a-1]),k>a+1&&(d.nextSegment=c instanceof c2?c.getByIndex(a+1):c[a+1],d.nextSegment.points&&(d.oldNextPoints=d.nextSegment.points.slice(0)))),!1}e+=2}},this),d},_7d:function(b,a){return a==b.points.length-2},startdrag:function(b,a){if(this.element&&this._moanEdit&&(this._94=this._fp(b,a),this._94)){this._74(),b.responded=!0;var c=new eE(a,eE.POINT_MOVE_START,b,this.element);c.point=this._94,a.onInteractionEvent(c)}},onkeyup:function(b,a){this._mousePressed&&16!=!b.keyCode&&this.element&&this._94&&this._94.delta&&this._dn(this._94.delta.x,this._94.delta.y,a,b,!1)},onkeydown:function(b,a){this._mousePressed&&this.element&&this._94&&b.shiftKey&&this._94.delta&&this._dn(this._94.delta.x,this._94.delta.y,a,b,!0)},_dn:function(B,K,P,H,D){var C=this._94,G=this.element,S=C.oldPoints,L=C.segment;if(C.isEndPoint){var J=C.isFrom?e4.Styles.EDGE_FROM_OFFSET:e4.Styles.EDGE_TO_OFFSET,U={x:S[0]+B,y:S[1]+K};return void G.setStyle(J,U)}if(D&&C.isControlPoint){var z={x:S[S.length-2]+B,y:S[S.length-1]+K},R=C.prevSegment,Q=C.nextSegment,N=20/P.scale,M=Number.MAX_VALUE,x=M,A=M,I=M;R&&(R=R.lastPoint,M=Math.abs(z.x-R.x),A=Math.abs(z.y-R.y)),Q&&(Q=Q.lastPoint,x=Math.abs(z.x-Q.x),I=Math.abs(z.y-Q.y)),N>M&&x>M?B+=R.x-z.x:N>x&&M>x&&(B+=Q.x-z.x),N>A&&I>A?K+=R.y-z.y:N>I&&A>I&&(K+=Q.y-z.y)}if(C.isControlPoint&&a1(L)){for(var F=L.points.length-4;F<L.points.length;){var k=S[F]+B,b=S[F+1]+K;L.points[F]=k,L.points[F+1]=b,F+=2}if(C.nextSegment&&a1(C.nextSegment)){var j=C.oldNextPoints,k=j[0]+B,b=j[1]+K;C.nextSegment.points[0]=k,C.nextSegment.points[1]=b}}else{var F=C.pointIndex,k=S[F]+B,b=S[F+1]+K;L.points[F]=k,L.points[F+1]=b}G.firePathChange();var q=new eE(P,eE.POINT_MOVING,H,G);q.point=C,P.onInteractionEvent(q)},ondrag:function(d,c){if(this.element&&this._94){var h=this._94,k=this.element,g=d.totalDeltaX,f=d.totalDeltaY,j=c.scale;if(g/=j,f/=j,k.rotate){var b={x:g,y:f};ab(b,-k.rotate),g=b.x,f=b.y}h.delta={x:g,y:f},this._dn(g,f,c,d,d.shiftKey)}},enddrag:function(b,a){if(this.element&&this._94){this._mly(),this._jo();var c=new eE(a,eE.POINT_MOVE_END,b,this.element);c.point=this._94,a.onInteractionEvent(c)}},onmousemove:function(b,a){this.element&&(a.cursor=b.altKey&&(this._fp(b,a)||this.element==b.getData())?"crosshair":null)}},cX.SELECTION_RECTANGLE_STROKE=1,cX.SELECTION_RECTANGLE_STROKE_COLOR=iR(3724541951),cX.SELECTION_RECTANGLE_FILL_COLOR=iR(1430753245);var jQ=function(a){this.graph=a,this.topCanvas=a._85._topCanvas};jQ.prototype={onstart:function(b,a){this._l1&&this.destroy(a)},startdrag:function(b,a){b.responded||(b.responded=!0,this._l1=a.toLogical(b),a.cursor="crosshair",this._10Id=this.topCanvas.addDrawable(this._10,this).id)},ondrag:function(b,a){if(this._l1){iO(b),this._end=a.toLogical(b),this.invalidate();var c=new eE(a,eE.SELECT_START,b,a.selectionModel);a.onInteractionEvent(c)}},enddrag:function(b,a){if(this._l1){this._fqTimer&&(clearTimeout(this._fqTimer),this._fqTimer=null),this._fq(!0),this.destroy(a);var c=new eE(a,eE.SELECT_END,b,a.selectionModel);a.onInteractionEvent(c)}},onpinch:function(b,a){this._l1&&this.enddrag(b,a)},_10:function(b,a){b.strokeStyle=cX.SELECTION_RECTANGLE_STROKE_COLOR,b.fillStyle=cX.SELECTION_RECTANGLE_FILL_COLOR,b.lineWidth=cX.SELECTION_RECTANGLE_STROKE/a;var c=this._l1.x,d=this._l1.y;b.rect(c,d,this._end.x-c,this._end.y-d),b.fill(),b.stroke()},invalidate:function(){return this.invalidateFlag?void this.topCanvas.invalidate():(this.invalidateFlag=!0,void (this._fqTimer=setTimeout(this._fq.bind(this),100)))},_fq:function(l){if(this.invalidateFlag=!1,this._fqTimer=null,!this._l1||gG&&!l){return void this.topCanvas.invalidate()}var f=Math.min(this._l1.x,this._end.x),j=Math.min(this._l1.y,this._end.y),d=Math.abs(this._l1.x-this._end.x),b=Math.abs(this._l1.y-this._end.y);if(!d||!b){return void this.graph.selectionModel.clear()}var m,c=[],k=this.graph.scale;if(this.graph.forEachVisibleUI(function(a){a._ic&&this.graph.isSelectable(a.$data)&&(m=a._g7,(jU(f,j,d,b,m.x+a._x,m.y+a._y,m.width,m.height)||bJ(f,j,d,b,a,k))&&c.push(a.$data))},this),this.graph.selectionModel.set(c),this.topCanvas.invalidate(),!l){var g=new eE(this.graph,eE.SELECT_BETWEEN,null,this.graph.selectionModel);this.graph.onInteractionEvent(g)}},destroy:function(a){this._l1=null,a.cursor=null,this._10Id&&(this.topCanvas.removeDrawable(this._10Id),delete this._10Id,this.topCanvas.invalidate())}};var gg=jg({"super":jQ,onstart:null,startdrag:null,ondrag:null,enddrag:null,accept:function(b,a,c){return c.enableRectangleSelectionByRightButton!==!1},oncontextmenu:function(b,a){a.popupmenu||iO(b)},onstart2:function(){jQ.prototype.onstart.apply(this,arguments)},startdrag2:function(b,a){b.responded||(a.popupmenu&&a.popupmenu.hide instanceof Function&&a.popupmenu.hide(),jQ.prototype.startdrag.apply(this,arguments))},ondrag2:function(){jQ.prototype.ondrag.apply(this,arguments)},enddrag2:function(){jQ.prototype.enddrag.apply(this,arguments)}}),fV=Math.PI/4;aS.prototype={_ee:!1,_eg:!1,_1g:function(a){this.element&&a.source==this.element&&this.graph.callLater(function(){this._93()},this)},_6:function(){this._lgPropertyChangeListing||(this._lgPropertyChangeListing=!0,this.graph.dataPropertyChangeDispatcher.addListener(this._1g,this))},_5:function(){this._lgPropertyChangeListing=!1,this.graph.dataPropertyChangeDispatcher.removeListener(this._1g,this)},onElementRemoved:function(b,a){this.element&&(b==this.element||jt(b)&&hV(b,this.element))&&this.destroy(a)},onClear:function(a){this.element&&this.destroy(a)},ondblclick:function(b,a){this.element&&this.destroy(a)},destroy:function(a){a.cursor=null,delete this.element,delete this._di,delete this._mmody,delete this._94,delete this._moanEdit,delete this._ka,delete this._rotatePoint,delete this._eg,delete this._ee,delete this._insets,this._74(),this._5()},_74:function(){this._fuId&&(this.topCanvas.removeDrawable(this._fuId),delete this._fuId,this.topCanvas.invalidate())},_mly:function(){this._fuId&&this.topCanvas.contains(this._fuId)||(this._fuId=this.topCanvas.addDrawable(this._fu,this).id,this.topCanvas.invalidate())},_di:null,_ka:null,_91:function(b){this._di=b;var a=this._di.x,f=this._di.y,g=this._di.width,d=this._di.height;this.element instanceof ap&&this.element.expanded;if(this._eg){var c=[];c.push({x:a,y:f,p:d7.LEFT_TOP,cursor:"nwse-resize",rotate:5*fV}),c.push({x:a+g/2,y:f,p:d7.CENTER_TOP,cursor:"ns-resize",rotate:6*fV}),c.push({x:a+g,y:f,p:d7.RIGHT_TOP,cursor:"nesw-resize",rotate:7*fV}),c.push({x:a,y:f+d/2,p:d7.LEFT_MIDDLE,cursor:"ew-resize",rotate:4*fV}),c.push({x:a,y:f+d,p:d7.LEFT_BOTTOM,cursor:"nesw-resize",rotate:3*fV}),c.push({x:a+g,y:f+d/2,p:d7.RIGHT_MIDDLE,cursor:"ew-resize",rotate:0}),c.push({x:a+g/2,y:f+d,p:d7.CENTER_BOTTOM,cursor:"ns-resize",rotate:2*fV}),c.push({x:a+g,y:f+d,p:d7.RIGHT_BOTTOM,cursor:"nwse-resize",rotate:fV}),this._ka=c}this._rotatePoint=this._ee?{x:a+g/2,y:f,cursor:bV}:null,this._mod()},_eb:function(b,a,d,f){b.beginPath();var c=(this.handlerSize-1)/f;b.rect(a-c,d-c,2*c,2*c),b.lineWidth=1/f,b.lineDash=[],b.strokeStyle="#888",b.fillStyle="rgba(255, 255, 255, 0.8)",b.stroke(),b.fill()},_5k:function(b,a,f,g,d,c){d=d||this.handlerSize,c=c||"rgba(0, 255, 0, 1)",b.beginPath(),d/=g,b.arc(a,f,d,0,2*Math.PI,!1),b.lineWidth=1/g,b.lineDash=[],b.strokeStyle="#888",b.fillStyle=c,b.stroke(),b.fill()},_i0:function(b,a){b-=this.element.x,a-=this.element.y;var c={x:b,y:a};return this.element.rotate&&ab(c,-this.element.rotate),c},_fu:function(d,c){if(this._di){if(d.save(),d.translate(this.element.x,this.element.y),this.element.rotate&&d.rotate(this.element.rotate),this._rotatePoint){this._5k(d,0,0,c,3,"#FF0");var h=this._rotatePoint.x,k=this._rotatePoint.y-this._rotateHandleLength/c;d.beginPath(),d.moveTo(h,this._rotatePoint.y),d.lineTo(h,k),d.lineWidth=1/c,d.strokeStyle="#555",d.stroke(),this._5k(d,h,k,c)}if(this._ka){var g=this._di.x,f=this._di.y,j=this._di.width,b=this._di.height;d.beginPath(),d.rect(g,f,j,b),d.lineWidth=1/c,d.lineDash=[2/c,3/c],d.strokeStyle="#555",d.stroke(),iz(this._ka,function(a){this._eb(d,a.x,a.y,c)},this)}d.restore()}},_mod:function(){this.topCanvas.invalidate()},_3h:function(b,a,d,f){this.element=b,this._mly();var c=a.getUI(b);this._mmody=c.body,this._eg=d,this._ee=f,this._93(),this._6()},_93:function(){if(this._fuId){var b=ez(this._mmody,this._mmody._js),a=ez(this._mmody,this._mmody._80);this._insets=new hf(b.y-a.y,b.x-a.x,a.bottom-b.bottom,a.right-b.right),this._91(a)}},_mlt:function(b,a){return a.isResizable(b)},_mlr:function(b,a){return(!b._i5()||!b.expanded)&&a.isRotatable(b)},_df:function(b,a){return b instanceof jc&&a.isEditable(b)},onstart:function(b,a){if(!a.editable){return void (this.element&&this.destroy(a))}if(!b.responded){var f=a.getUI(b),g=b.getData();if(g!=this.element){if(this.element){if(this._fp(b,a)){return void (b.responded=!0)}this.destroy(a)}if(g&&!g._editting&&this._df(g,a)){var d=this._mlt(g,a,f),c=this._mlr(g,a,f);(d||c)&&this._3h(g,a,d,c)}}}},onrelease:function(b,a){this.element&&(this._moanEdit=!0,this._mly(),a.callLater(function(){this._93()},this))},_94:null,_fp:function(d,c){var h=c.toLogical(d);h=this._i0(h.x,h.y);var k=c.scale,g=this.handlerSize/k;if(this._rotatePoint){var f=this._rotatePoint.x,j=this._rotatePoint.y-this._rotateHandleLength/k;if(ig(h.x,h.y,f,j)<g){return this._rotatePoint}}if(this._ka&&this._ka.length){var b;return iz(this._ka,function(a){return ig(h.x,h.y,a.x,a.y)<g?(b=a,!1):void 0},this),b}},onmousemove:function(b,a){if(this.element){var c=this._fp(b,a);if(!c){return void (a.cursor=null)}if(c!=this._rotatePoint&&this.element.rotate){var d=c.rotate+this.element.rotate;return void (a.cursor=dj(d))}a.cursor=c.cursor}},startdrag:function(b,a){if(this.element&&(this._74(),this._moanEdit&&(this._94=this._fp(b,a),this._94))){if(b.responded=!0,this._94==this._rotatePoint){return this._94.start=a.toLogical(b),void (this._94.rotate=this.element.rotate||0)}var c=new eE(a,eE.RESIZE_START,b,this.element);c.point=this._94,a.onInteractionEvent(c)}},_70:function(F,p,y,k,b,G){var j=this._di,B=j.x,q=j.y,m=j.width,D=j.height;if(G){var E=k!=m;E?b=k*D/m:k=b*m/D}var A=F.path._fm,z=k/m,x=b/D,w=-B*z+p,C=-q*x+y;A.forEach(function(c){if(c.type!=aF.SEGMENT_CLOSE){var g=c.points;if(g&&g.length){for(var e=0,d=g.length;d>e;e+=2){var f=g[e],a=g[e+1];g[e]=(f-B)*z+p-w,g[e+1]=(a-q)*x+y-C}}}}),this._di.set(p-w,y-C,k,b),F.setLocation(F.x+w,F.y+C),F.firePathChange()},_95:function(b,a,d,f,c){this._di.set(a,d,f,c),b.minSize={x:a,y:d,width:f,height:c}},_4i:function(z,k,p,g,b){if(this.element instanceof ap){return this._95(this.element,z,k,p,g,b)}if(this.element instanceof e6){return this._70(this.element,z,k,p,g,b)}var A=this._mmody instanceof ev;if(!A&&b){var f=this._di,w=this._mmody.originalBounds,m=p!=f.width;m?g=p*w.height/w.width:p=g*w.width/w.height}var j=this.element.anchorPosition,x=new bN(p-this._insets.left-this._insets.right,g-this._insets.top-this._insets.bottom);if(x.width<1&&(p=this._insets.left+this._insets.right+1,x.width=1),x.height<1&&(g=this._insets.top+this._insets.bottom+1,x.height=1),A?this.element.setStyle(bm.LABEL_SIZE,x):this.element.size=x,j){var y=eY(j,p,g),v=y.x+z-(this._mmody.offsetX||0),q=y.y+k-(this._mmody.offsetY||0);if(this._di.set(z-v,k-q,p,g),this.element.rotate){var y=ab({x:v,y:q},this.element.rotate);v=y.x,q=y.y}this.element.x+=v,this.element.y+=q}else{var v=this._di.x*p/this._di.width-z,q=this._di.y*g/this._di.height-k;if(this._di.set(z+v,k+q,p,g),this.element.rotate){var y=ab({x:v,y:q},this.element.rotate);v=y.x,q=y.y}this.element.x-=v,this.element.y-=q}},ondrag:function(z,k){if(this.element&&this._94){if(this._94!=this._rotatePoint){var p=z.dx,g=z.dy,b=k.scale;if(p/=b,g/=b,this.element.rotate){var A={x:p,y:g};ab(A,-this.element.rotate),p=A.x,g=A.y}var f=this._94.p,w=this._di,m=w.x,j=w.y,x=w.width,y=w.height;f.horizontalPosition==cG?p>=x?(m+=x,x=p-x||1):(m+=p,x-=p):f.horizontalPosition==dI&&(-p>=x?(x=-p-x||1,m-=x):x+=p),f.verticalPosition==jN?g>=y?(j+=y,y=g-y||1):(j+=g,y-=g):f.verticalPosition==eT&&(-g>=y?(y=-g-y||1,j-=y):y+=g),this._4i(m,j,x,y,z.shiftKey);var v=new eE(k,eE.RESIZING,z,this.element);v.point=this._94,k.onInteractionEvent(v)}else{var A=k.toLogical(z),q=bA(A.x,A.y,this.element.x,this.element.y,this._94.start.x,this._94.start.y,!0);q+=this._94.rotate||0,z.shiftKey&&(q=Math.round(q/Math.PI*4)*Math.PI/4),this.element.rotate=q%(2*Math.PI);var v=new eE(k,eE.ROTATING,z,this.element)}}},enddrag:function(b,a){if(this.element&&this._94&&this._94!=this._rotatePoint){var c=new eE(a,eE.RESIZE_END,b,this.element);c.point=this._94,a.onInteractionEvent(c)}}},e4.ResizeInteraction=aS;var eV=function(a){this.graph=a};eV.prototype={onstart2:function(b,a){this.onstart(b,a)},onstart:function(b,a){if(!b.responded){var c=b.getData();if(c&&!a.isSelectable(c)&&(c=null),c&&kc(b)){a.reverseSelect(c);var d=new eE(a,eE.SELECT,b,a.selectionModel);return void a.onInteractionEvent(d)}if(!c||!a.selectionModel.isSelected(c)){c?(a.setSelection(c),a.sendToTop(c)):a.setSelection(null);var d=new eE(a,eE.SELECT,b,a.selectionModel);a.onInteractionEvent(d)}}},onkeydown:function(b,a){return 27==b.keyCode?void a.unSelectAll():void (kc(b)&&65==b.keyCode&&(a.selectAll(),j1(b)))}};var av=0,bx=15;cX.TOOLTIP_DURATION=3000,cX.TOOLTIP_DELAY=1000;var ic="Q-Tooltip";aY("."+ic,{"background-color":"#FFFFCA",overflow:"hidden","box-shadow":"0 5px 10px rgba(136, 136, 136, 0.5)",color:"#000","pointer-events":"none",border:"1px solid #D9D9D9",padding:"2px 4px",display:"block",position:"absolute"});var hG=function(a){this.graph=a,this._mmm={}};hG.prototype={_mmm:null,_mmk:null,_mmi:function(){delete this._initTimer,this._mmm.data&&(this._mmk||(this._mmk=iu.createElement("div"),this._mmk.className=ic),this._mmk.parentNode||iu.body.appendChild(this._mmk),this._do(this.graph,this._mmm.data))},_do:function(b,a){var f=b.getTooltip(a),g="text"==a.tooltipType;f&&!g&&(f=f.replace(/\n/g,"<br>")),g?this._mmk.textContent=f||"":this._mmk.innerHTML=f||"";var d=this._mmm.evt.pageX+av,c=this._mmm.evt.pageY+bx;j5(this._mmk,d,c),this._deleteTimer&&(clearTimeout(this._deleteTimer),delete this._deleteTimer),this._deleteTimer=setTimeout(this._8q.bind(this),b.tooltipDuration||cX.TOOLTIP_DURATION)},_8q:function(){delete this._deleteTimer,this._mmk&&this._mmk.parentNode&&this._mmk.parentNode.removeChild(this._mmk),delete this._mmk,this._mmm={}},_e7:function(b,a,d,f){if(!this._mmk){var c=f.tooltipDelay;return isNaN(c)&&(c=cX.TOOLTIP_DELAY),void (this._initTimer=setTimeout(this._mmi.bind(this),c))}this._do(f,b)},onstart:function(b,a){this.destroy(a)},onmousemove:function(b,a){if(a.enableTooltip){var c=b.getData();if(this._mmm.evt=b,this._mmm.data!=c&&(this._mmm.data=c,this._initTimer&&(clearTimeout(this._initTimer),delete this._initTimer),c)){var d=a.getTooltip(c);d&&this._e7(c,d,b,a)}}},destroy:function(){this._initTimer&&(clearTimeout(this._initTimer),delete this._initTimer),this._deleteTimer&&(clearTimeout(this._deleteTimer),delete this._deleteTimer),this._mmk&&this._8q(),this._mmm={}}};var gX=function(a){this.graph=a};gX.prototype={_fq:function(){delete this._la},destroy:function(a){this._la&&this._fq(a)},onmousewheel:function(b,a){if(a.enableWheelZoom!==!1&&b.delta){var d=b.delta>0,f=a.scale;if(!(d&&a.maxScale-f<0.0001||!d&&f-a.minScale<0.0001)){iO(b);var c=Math.sqrt(Math.abs(b.delta));d||(c=-c),this._la&&clearTimeout(this._la),this._la=setTimeout(this._fq.bind(this,a),100),a.zoomByMouseEvent(b,c)}}}};var gF=function(a){this.graph=a};gF.prototype={onclick:function(b,a){a.zoomByMouseEvent(b,!kc(b))}};var a6=function(a){this.graph=a};a6.prototype={onclick:function(b,a){a.zoomByMouseEvent(b,kc(b))}},i2(eE,h6),eE.ELEMENT_MOVE_START="element.move.start",eE.ELEMENT_MOVING="element.moving",eE.ELEMENT_MOVE_END="element.move.end",eE.ELEMENT_CREATED="element.created",eE.ELEMENT_REMOVED="element.removed",eE.POINT_MOVE_START="point.move.start",eE.POINT_MOVING="point.moving",eE.POINT_MOVE_END="point.move.end",eE.RESIZE_START="resize.start",eE.RESIZING="resizing",eE.RESIZE_END="resize.end",eE.ROTATING="rotating",eE.ROTATE_END="rotate.end",eE.PAN_START="pan.start",eE.PAN_END="pan.end",eE.GROUP_EXPANDED="group.expanded",eE.EDGE_BUNDLE="edge.bundle",eE.SELECT="select",eE.SELECT_START="select.start",eE.SELECT_BETWEEN="select.between",eE.SELECT_END="select.end",eE.LONG_CLICK="long.click",gj.prototype={_9q:function(a){if(this._interactionSupport){switch(a.kind){case aM.KIND_REMOVE:this._interactionSupport._onElementRemoved(a.data);break;case aM.KIND_CLEAR:this._interactionSupport._onElementClear(a.data)}}},destroy:function(){delete this._kr,delete this._40,this._interactionSupport&&(this._interactionSupport._ig(),delete this._interactionSupport)},_kr:null,_40:null,defaultMode:null,_hm:function(b,a,c){this._40[b]=new hc(a,c),b==this.currentMode&&this._interactionSupport._mfInteraction(a)},addCustomInteraction:function(a){this._interactionSupport._maCustomInteractionListener(a)},removeCustomInteraction:function(a){this._interactionSupport._kkCustomInteractionListener(a)},_mg:function(b){var a=this._40[b];return a?a:aX[b]}},iN(gj.prototype,{defaultCursor:{get:function(){return this.currentInteractionMode?this.currentInteractionMode.defaultCursor:void 0}},currentMode:{get:function(){return this._mourrentMode},set:function(a){if(this._mourrentMode!=a){this._mourrentMode;this._interactionSupport||(this._interactionSupport=new dP(this._kr)),this._mourrentMode=a,this.currentInteractionMode=this._mg(this._mourrentMode),this._kr.cursor=this.defaultCursor,this._interactionSupport._mfInteraction(this.currentInteractionMode?this.currentInteractionMode.getInteractionInstances(this._kr):[])}}}});var aX={};cX.registerInteractions=function(b,a,c){var d=new hc(a,c);aX[b]=d},aF.INTERACTION_MODE_VIEW="view",aF.INTERACTION_MODE_DEFAULT="default",aF.INTERACTION_MODE_SELECTION="selection",aF.INTERACTION_MODE_ZOOMIN="zoomin",aF.INTERACTION_MODE_ZOOMOUT="zoomout",aF.INTERACTION_MODE_CREATE_SIMPLE_EDGE="create.simple.edge",aF.INTERACTION_MODE_CREATE_EDGE="create.edge",aF.INTERACTION_MODE_CREATE_SHAPE="create.shape",aF.INTERACTION_MODE_CREATE_LINE="create.line",cX.registerInteractions(aF.INTERACTION_MODE_VIEW,[eV,dK,gX,cI,hj,hG,gg]),cX.registerInteractions(aF.INTERACTION_MODE_CREATE_SIMPLE_EDGE,[d9,gb,eV,dK,gX,cI,hG]),cX.registerInteractions(aF.INTERACTION_MODE_CREATE_EDGE,[d9,gB,eV,b3,dK,gX,cI,hG]),cX.registerInteractions(aF.INTERACTION_MODE_CREATE_SHAPE,[d9,dG,eV,dK,gX,cI,hG]),cX.registerInteractions(aF.INTERACTION_MODE_CREATE_LINE,[jJ,eV,dK,gX,cI,hG]),cX.registerInteractions(aF.INTERACTION_MODE_DEFAULT,[d9,aS,gB,eV,b8,dK,gX,cI,hj,hG,gg]),cX.registerInteractions(aF.INTERACTION_MODE_SELECTION,[d9,aS,gB,eV,b8,jQ,dK,gX,cI,hj,hG]),cX.registerInteractions(aF.INTERACTION_MODE_ZOOMIN,[gX,cI,gF],hL),cX.registerInteractions(aF.INTERACTION_MODE_ZOOMOUT,[gX,cI,a6],cf),e4.PanInteraction=dK,e4.SelectionInteraction=eV,e4.MoveInteraction=b8,e4.WheelZoomInteraction=gX,e4.DoubleClickInteraction=hj,e4.ExportInteraction=cI,e4.TooltipInteraction=hG,e4.RectangleSelectionInteraction=jQ,e4.RectangleSelectionInteractionByRightButton=gg,e4.PointsInteraction=gB;var eD=function(a){this.graph=a};e4.Layouter=eD,eD.prototype={getNodeBounds:function(a){return this.graph.getUIBounds(a)},isLayoutable:function(a){return this.graph.isVisible(a)&&a.layoutable!==!1},getLayoutResult:function(){},updateLocations:function(p,g,k,d,b){if(g===!0){if(this.animate||(this.animate=new iB),k&&(this.animate.duration=k),d&&(this.animate.animationType=d),this.animate.locations=p,b){var q=b,c=this;b=function(){q.call(c,p)}}return void this.animate.start(b)}for(var m in p){var j=p[m],f=j.node;f.setLocation(j.x,j.y)}b&&b.call(this,p)},_fw:function(b){var a,f,g,d=null;b&&(a=b.byAnimate,d=b.callback,f=b.duration,g=b.animationType);var c=this.getLayoutResult(b);return c?(this.updateLocations(c,a,f,g,d),c):!1},doLayout:function(b,a){return this.graph&&a!==!0?void this.graph.callLater(function(){this._fw(b)},this):this._fw(b)}};var dq=110,kb=120,eL=130,gv=210,aO=220,cy=230,hw=111,i3=112,e3=121,jq=122,ag=211,bG=212,fu=221,bj=222;aF.DIRECTION_RIGHT=dq,aF.DIRECTION_LEFT=kb,aF.DIRECTION_CENTER=eL,aF.DIRECTION_BOTTOM=gv,aF.DIRECTION_TOP=aO,aF.DIRECTION_MIDDLE=cy,aF.DIRECTION_RIGHT_TOP=hw,aF.DIRECTION_RIGHT_BOTTOM=i3,aF.DIRECTION_LEFT_TOP=e3,aF.DIRECTION_LEFT_BOTTOM=jq,aF.DIRECTION_BOTTOM_LEFT=ag,aF.DIRECTION_BOTTOM_RIGHT=bG,aF.DIRECTION_TOP_LEFT=fu,aF.DIRECTION_TOP_RIGHT=bj;var f3="even",gN="two.side",ff="even.h",g5="even.v";aF.LAYOUT_TYPE_EVEN=f3,aF.LAYOUT_TYPE_EVEN_HORIZONTAL=ff,aF.LAYOUT_TYPE_EVEN_VERTICAL=g5,aF.LAYOUT_TYPE_TWO_SIDE=gN,e4.isHorizontalDirection=aJ;var bZ=function(a){this.graph=a};bZ.prototype={hGap:50,vGap:50,parentChildrenDirection:gv,layoutType:f3,defaultSize:{width:50,height:60},getNodeSize:function(b){if(this.graph._85._mlf){var a=this.graph.getUI(b);if(a){return a._g7}}return b.image&&b.image.bounds?{width:b.image.bounds.width,height:b.image.bounds.height}:this.defaultSize},_mo6:function(b,a){if(this.isLayoutable(b)){var f,g=this.getNodeSize(b);f=g instanceof fU?[-g.x,-g.y]:[g.width/2,g.height/2];var d=b.id,c=(b.parentChildrenDirection,a?this._9z[a.id]:this._mmg);this._9z[d]=new kq(this.getHGap(b),this.getVGap(b),this.getLayoutType(b),b.parentChildrenDirection,c,b,g.width,g.height,f)}},getHGap:function(a){return a&&i6(a.hGap)?a.hGap:this.hGap},getVGap:function(a){return a&&i6(a.vGap)?a.vGap:this.vGap},getLayoutType:function(a){return a&&a.layoutType?a.layoutType:this.layoutType},_9z:null,_mmg:null,_l0:function(){this._9z=null,this._mmg=null},getLayoutResult:function(d){var c,h,k,g,f=this.graph;d instanceof Object&&(c=d.x,h=d.y,f=d.root||this.graph,k=d.bounds,g=d.undirected),this._9z={},this._mmg=new kq,this._mmg._mf(this.hGap,this.vGap,this.parentChildrenDirection,this.layoutType);var j={},b=f7(f,this._mo6,this,!1,g);return b&&(this._mmg._fw(c||0,h||0,j),k&&k.set(this._mmg.x,this._mmg.y,this._mmg.width,this._mmg.height)),this._l0(),j},doLayout:function(b,a){if(i6(b)){var c=b,d=0;i6(a)&&(d=a),b={x:c,y:d},a=!0}return jB(this,bZ,"doLayout",[b,a])}},i2(bZ,eD);var kq=function(l,f,j,d,b,m,c,k,g){this._lv=l||0,this._lw=f||0,this.layoutType=j,this.parentChildrenDirection=d,this.parentBounds=b,b&&b._gr(this),this.node=m,this._f0=c,this._dd=k,this._mlnchorLocation=g};kq.prototype={_mf:function(b,a,c,d){this._lv=b,this._lw=a,this.parentChildrenDirection=c,this.layoutType=d},_8h:function(){this._g0=[]},_lv:0,_lw:0,_g0:null,_f0:0,_dd:0,layoutType:null,parentChildrenDirection:null,_gr:function(a){this._g0||(this._g0=[]),this._g0.push(a)},_db:function(b,a,d,f){var c=new fU;return d(this._g0,function(g){g._3t(b,a),c.add(g),f?b+=g.width+this._lv:a+=g.height+this._lw},this),c},_8f:function(C,N,R,J,F){var D,I=J?this._lv:this._lw,V=J?this._lw:this._lv,P=J?"width":"height",M=J?"height":"width",W=J?"_f0":"_dd",z=J?"_dd":"_f0",U=J?"hostDX":"hostDY",S=J?"hostDY":"hostDX",Q=new fU,x=0,B=0,K=[],H=0,k=0;R(this._g0,function(c){var a=k>=B;c._inheritedParentChildrenDirection=a?J?kb:aO:J?dq:gv,c._3t(C,N),a?(K.push(c),x=Math.max(x,c[P]),B+=c[M]+V):(D||(D=[]),D.push(c),H=Math.max(H,c[P]),k+=c[M]+V)},this),B-=V,k-=V;var b=Math.max(B,k),f=I,q=0;this.node&&(F&&(f+=this[W]+I,b>this[z]?this[S]=(b-this[z])/2:q=(this[z]-b)/2),this[U]=x+f/2-this[W]/2);var G=0,j=q;return iz(K,function(a){J?a.offset(x-a[P],j):a.offset(j,x-a[P]),j+=V+a[M],Q.add(a)},this),D?(j=q,G=x+f,iz(D,function(a){J?a.offset(G,j):a.offset(j,G),j+=V+a[M],Q.add(a)},this),Q):Q},offset:function(b,a){this.x+=b,this.y+=a,this.nodeX+=b,this.nodeY+=a,this._7b(b,a)},_mmr:function(b,a){return 2*this.cx-b-a-b},_mmp:function(b,a){return 2*this.cy-b-a-b},_ly:function(a){if(this._g0&&0!=this._g0.length){if(a){return this.node&&(this.nodeX+=this._mmr(this.nodeX,this._f0)),void iz(this._g0,function(b){b.offset(this._mmr(b.x,b.width),0)},this)}this.node&&(this.nodeY+=this._mmp(this.nodeY,this._dd)),iz(this._g0,function(b){b.offset(0,this._mmp(b.y,b.height))},this)}},_7b:function(b,a){this._g0&&iz(this._g0,function(c){c.offset(b,a)},this)},_3t:function(b,a){return this.x=b||0,this.y=a||0,this._g0&&0!=this._g0.length?void this._1h(this.x,this.y,this.layoutType):void (this.node&&(this.width=this._f0,this.height=this._dd,this.nodeX=this.x,this.nodeY=this.y))},_71:function(b){if(this.node){var a=this._mlnchorLocation,c=a[0],d=a[1];b[this.node.id]={node:this.node,x:this.nodeX+c,y:this.nodeY+d,left:this.nodeX,top:this.nodeY,width:this._f0,height:this._dd}}this._g0&&iz(this._g0,function(e){e._71(b)},this)},_fw:function(b,a,c){this._3t(b,a),this._71(c)},_1h:function(z,k,f){var b,B=z,e=k;!this.parentChildrenDirection&&this.parentBounds&&(this.parentChildrenDirection=this._inheritedParentChildrenDirection||this.parentBounds.parentChildrenDirection);var w=this.parentChildrenDirection,m=aJ(w);if(this.node){b=w==eL||w==cy;var j=cm(w);b||(m?z+=this._f0+this._lv:k+=this._dd+this._lw)}var x,y=this.node&&this.node.layoutReverse?hY:iz;if(f==gN){x=this._8f(z,k,y,!m,b)}else{var v;v=f==f3?!m:f==ff,x=this._db(z,k,y,v,b)}var q=0,p=0;if(x&&!x.isEmpty()&&(q=x.width,p=x.height,this.add(x)),this.node){if(this.nodeX=B,this.nodeY=e,this.hostDX!==iC||this.hostDY!==iC){this.nodeX+=this.hostDX||0,this.nodeY+=this.hostDY||0}else{var A;A=w==gv||w==aO||w==kb||w==dq?1:w==bG||w==bj||w==jq||w==i3?0:2,m?1==A?this.nodeY+=p/2-this._dd/2:2==A&&(this.nodeY+=p-this._dd):1==A?this.nodeX+=q/2-this._f0/2:2==A&&(this.nodeX+=q-this._f0)}this.addRect(this.nodeX,this.nodeY,this._f0,this._dd),j&&this._ly(m)}},node:null,uiBounds:null},i2(kq,fU),iS.prototype={layoutDatas:null,isMovable:function(a){return !this.currentMovingNodes[a.id]},_66:!1,_3u:function(){this._66=!0,this.graph._1l.addListener(this._ml8,this),this.graph._1d.addListener(this._20,this)},_1i:function(){this._66=!1,this.graph._1l.removeListener(this._ml8,this),this.graph._1d.removeListener(this._20,this)},invalidateFlag:!0,invalidateLayoutDatas:function(){this.invalidateFlag=!0},resetLayoutDatas:function(){return this.invalidateFlag=!1,this.layoutDatas=hk.call(this)},_20:function(a){eE.ELEMENT_MOVE_START==a.kind?(this.currentMovingNodes={},a.datas.forEach(function(b){this.currentMovingNodes[b.id]=b},this)):eE.ELEMENT_MOVE_END==a.kind&&(this.currentMovingNodes={})},_ml8:function(){this.invalidateLayoutDatas()},isRunning:function(){return this.timer&&this.timer._e3()},getLayoutResult:function(){this.stop(),this.resetLayoutDatas();for(var b=this.getMaxIterations(this.layoutDatas.nodeCount||0,this.layoutDatas.edgeCount||0),a=0;b>a&&this.step(!1)!==!1;a++){}var c=this.layoutDatas.nodes;return this.onstop(),c},_ll:function(){return !1},step:function(b){if(b===!1){return this._ll(this.timeStep)}(this.invalidateFlag||!this.layoutDatas)&&this.resetLayoutDatas();var a=this._ll(b),f=this.layoutDatas.nodes;for(var g in f){var d=f[g],c=d.node;this.isMovable(c)?c.setLocation(d.x,d.y):(d.x=c.x,d.y=c.y,d.vx=0,d.vy=0)}return a},onstop:function(){delete this.layoutDatas},start:function(b){if(this.isRunning()){return !1}this._66||this._3u(),this._jer||(this._jer=function(c){return this.step(c)}.bind(this)),this.invalidateLayoutDatas(),this.timer=new dT(this._jer);var a=this;return this.timer._l1(function(){a.onstop(),b&&b()}),!0},stop:function(){this.timer&&(this.timer._lq(),this.onstop())},getMaxIterations:function(a){return Math.min(1000,3*a+10)},minEnergyFunction:function(b,a){return 10+Math.pow(b+a,1.4)},resetGraph:function(){this._66||this._3u(),this.resetLayoutDatas()},destroy:function(){this.stop(),this._1i()}},i2(iS,eD);var aE=function(b,a,c,d){this.graph=b,i6(a)&&(this.radius=a),i6(c)&&(this.gap=c),i6(d)&&(this.startAngle=d)};e4.BalloonLayouter=aE;var d2="proportional",jI="regular",cQ="uniform",fE="variable";aF.ANGLE_SPACING_PROPORTIONAL=d2,aF.ANGLE_SPACING_REGULAR=jI,aF.RADIUS_MODE_UNIFORM=cQ,aF.RADIUS_MODE_VARIABLE=fE,aE.prototype={angleSpacing:d2,radiusMode:fE,gap:4,radius:50,startAngle:0,_9z:null,_mmg:null,_l0:function(){this._9z=null,this._mmg=null},getLayoutResult:function(b){var a,f=0,h=0,d=this.graph;b instanceof Object&&(f=b.cx||0,h=b.cy||0,d=b.root||this.graph,a=b.bounds),this._9z={},this._mmg=new dA(this);var c={},g=hA(d,this._mo6,this);return g&&(this._mmg._g0&&1==this._mmg._g0.length&&(this._mmg=this._mmg._g0[0]),this._mmg._f5(!0),this._mmg._4z(f,h,this.startAngle,c,a)),this._l0(),c},_mo6:function(b,a){if(this.isLayoutable(b)){var c=a?this._9z[a.id]:this._mmg;this._9z[b.id]=new dA(this,b,c)}},defaultSize:40,getRadius:function(){return this.radius},getNodeSize:function(b){if(this.graph._85._mlf){var a=this.graph.getUI(b);if(a){return(a._g7.width+a._g7.height)/2}}return this.defaultSize},getGap:function(){return this.gap},_2n:function(b,a,c){return this.getNodeSize(b,a,c)+this.getGap(b,a,c)}};var jZ=function(l){var f,j=this._g0.length,d=0,b=0;if(iz(this._g0,function(a){var h=a._f5();1>h&&(h=1),b+=h,h>d&&(d=h,f=a)},this),j>1){var m=0,c={},k=b/j/3;b=0,iz(this._g0,function(e){var a=e._m3;k>a&&(a=k),c[e.id]=a,b+=a},this);var g=eH/b;iz(this._g0,function(a,o){var p=c[a.id],h=p*g;0===o&&(m=l?-h/2:-h),a._kx=m+h/2,a._kz=h,m+=h},this)}return[d,f._kz]},eq=function(b){var a=this._7y,d=2*Math.PI/a,f=0,c=b?0:a>1?-d/2:0;return iz(this._g0,function(g){g._kx=c%eH,c+=d,g._kz=d;var e=g._f5();e>f&&(f=e)},this),[f,d]},dA=function(b,a,c){this.layouter=b,a&&(this._m4=a,this.id=a.id),c&&(c._gr(this),c._lz=!1,this._kw=c._kw+1)},eH=2*Math.PI;dA.prototype={_kz:0,_kx:0,_kb:0,_f3:0,_d8:0,_kw:0,_lz:!0,_m3:0,_h9:0,_g0:null,_m4:null,_gr:function(a){this._g0||(this._g0=[]),this._g0.push(a),a.parent=this},_hf:function(b){if(this._kx=(this._kx+b)%eH,this._g0){var a=this._g0.length;if(1==a){return void this._g0[0]._hf(this._kx)}b=this._kx+Math.PI,iz(this._g0,function(c){c._hf(b)},this)}},_7y:0,_7l:function(a){if(this._m4&&(this._h9=this.layouter._2n(this._m4,this._kw,this._lz)/2),!this._g0){return null}this._h9;return this._7y=this._g0.length,this._7y<=2||this.layouter.angleSpacing==jI?eq.call(this,a):jZ.call(this,a)},_f5:function(b){var a=this._7l(b);if(!a){return this._m3=this._h9}var f=a[0],g=a[1],d=this.layouter.getRadius(this._m4,this._kw);if(d<this._h9&&(d=this._h9),this._f3=d,this._h9+f>d&&(d=this._h9+f),f&&this._7y>1&&g<Math.PI){var c=f/Math.sin(g/2);c>d&&(d=c)}return this._kb=d,this._m3=d+f,this._m4&&this._g0&&this.layouter.radiusMode==fE&&iz(this._g0,function(j){var h=j._m3;1==j._7y&&(h/=2);var m=this._h9+h,o=j._kz;if(o&&o<Math.PI){var l=Math.sin(o/2),k=h/l;k>h&&(h=k)}m>h&&(h=m),j._d8=h},this),(!this._m4||b)&&this._hf(0),this._m3},_4z:function(b,a,f,h,d){if(this._m4&&(h[this._m4.id]={x:b,y:a,node:this._m4},d&&d.addRect(b-this._h9/2,a-this._h9/2,this._h9,this._h9)),this._g0){if(!this._m4&&1==this._g0.length){return void this._g0[0]._4z(b,a,f,h,d)}f=f||0;var c=this._kb,g=this._f3;iz(this._g0,function(i){var m=c;i._d8&&(m=Math.max(g,i._d8));var e=i._kx+f,k=b+m*Math.cos(e),j=a+m*Math.sin(e);i._4z(k,j,f,h,d)},this)}}},i2(aE,eD);var c1=function(){hX(this,c1,arguments)};i2(c1,eW);var c9=function(b,a){this.node1=b,this.node2=a,b==a?(this.isLooped=!0,this._kv=b._kt):this._kv=new c2,this._89=[],this._hp=cX.EDGE_BUNDLE_EXPANDED};cX.EDGE_BUNDLE_EXPANDED=!0,c9.prototype={node1:null,node2:null,_kv:null,_hp:cX.EDGE_BUNDLE_EXPANDED,_89:null,_hr:null,agentEdge:null,_mli:function(b,a,c){this._kv.forEach(function(d){return c&&d.$from!=c&&d.fromAgent!=c?void 0:b.call(a,d)})},_55:0,_57:0,_ja:function(b,a){return this._kv.add(b)===!1?!1:(a==this.node1?this._55++:this._57++,this._mlf?void this._11(b):void (this._mlf=!0))},_moz:function(b,a){return this._kv.remove(b)===!1?!1:(a==this.node1?this._55--:this._57--,this._11(b),void this._kv.forEach(function(c){c._edgeBundleInvalidateFlag=!0,c.__4g=!0},this))},_11:function(a){this._modBindableFlag=!0,this._63=!0,a._edgeBundleInvalidateFlag=!0,a.__4g=!0},_mod:function(){this._63||(this._63=!0,this._kv.forEach(function(a){a._edgeBundleInvalidateFlag=!0}))},isEmpty:function(){return this._kv.isEmpty()},isPositiveOrder:function(a){return this.node1==a.$from||this.node1==a.fromAgent},canBind:function(a){return a&&this._63&&this._fq(a),this._kv.length>1&&this._89.length>1},_i2:function(a){return this._89.indexOf(a)},getYOffset:function(a){return this._hr[a.id]},_4c:function(d){if(!this.canBind()){return void (this._hr={})}var c={},h=this._89.length;if(!(2>h)){var k=0,g=this._89[0];c[g.id]=0;for(var f=1;h>f;f++){g=this._89[f];var j=d.getStyle(g,bm.EDGE_BUNDLE_GAP)||c5[bm.EDGE_BUNDLE_GAP];k+=j,c[g.id]=k}if(!this.isLooped){for(var b=k/2,f=0;h>f;f++){g=this._89[f],c[g.id]-=b}}this._hr=c}},_mms:function(a){return this._hp==a?!1:(this._hp=a,this._mod(),!0)},reverseExpanded:function(){return this._mms(!this._hp)},_1a:function(){this._modBindableFlag=!1,this._89.length=0;var a;this._kv.forEach(function(b){if(b.isBundleEnabled()){if(!this.isPositiveOrder(b)){return a||(a=[]),void a.push(b)}this._89.push(b)}},this),a&&(this._89=a.concat(this._89))},_dp:function(a){return a==this.agentEdge||!this.canBind()||this._hp},_fq:function(b){this._63=!1,this._kv.forEach(function(e){e._edgeBundleInvalidateFlag=!1}),this._modBindableFlag&&this._1a();var a=this._hp,c=this.canBind(),d=!c||a;iz(this._89,function(e){e._$v=!0,e._icInBundle=d,d&&(e.__4g=!0)},this),d?this._9u(null,b):(this._9u(this._89[0],b),this.agentEdge._icInBundle=!0,this.agentEdge.__4g=!0),d&&this._4c(b)},_9u:function(b,a){if(b!=this.agentEdge){var c=this.agentEdge;return this.agentEdge=b,a&&a._44(new gV(this,"agentEdge",b,c)),!0}}},iN(c9.prototype,{bindableEdges:{get:function(){return this._89}},edges:{get:function(){return this._kv._k2}},length:{get:function(){return this._kv?this._kv.length:1}},expanded:{get:function(){return this._hp},set:function(a){return this._hp==a?!1:(this._hp=a,void this._mod())}}});var dS=function(){function B(c,a){this.node=c,this.body=a}function m(){this.stack=[],this.popIdx=0}var v=-1000000,j=0.8;m.prototype={isEmpty:function(){return 0===this.popIdx},push:function(a,c){var d=this.stack[this.popIdx];d?(d.node=a,d.body=c):this.stack[this.popIdx]=new B(a,c),++this.popIdx},pop:function(){return this.popIdx>0?this.stack[--this.popIdx]:void 0},reset:function(){this.popIdx=0}};var b=[],C=new m,g=function(){this.body=null,this.quads=[],this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.isInternal=!1},y=[],p=0,k=function(){var a;return y[p]?(a=y[p],a.quads[0]=null,a.quads[1]=null,a.quads[2]=null,a.quads[3]=null,a.body=null,a.mass=a.massX=a.massY=0,a.left=a.right=a.top=a.bottom=0,a.isInternal=!1):(a=new g,y[p]=a),++p,a},z=k(),A=function(c,a){var d=Math.abs(c.x-a.x),f=Math.abs(c.y-a.y);return 1e-8>d&&1e-8>f},x=function(F){for(C.reset(),C.push(z,F);!C.isEmpty();){var L=C.pop(),P=L.node,J=L.body;if(P.isInternal){var G=J.x,I=J.y;P.mass=P.mass+J.mass,P.massX=P.massX+J.mass*G,P.massY=P.massY+J.mass*I;var S=0,M=P.left,R=(P.right+M)/2,Q=P.top,O=(P.bottom+Q)/2;if(G>R){S+=1;var N=M;M=R,R+=R-N}if(I>O){S+=2;var u=Q;Q=O,O+=O-u}var D=P.quads[S];D||(D=k(),D.left=M,D.top=Q,D.right=R,D.bottom=O,P.quads[S]=D),C.push(D,J)}else{if(P.body){var K=P.body;if(P.body=null,P.isInternal=!0,A(K,J)){if(P.right-P.left<1e-8){return}do{var H=Math.random(),s=(P.right-P.left)*H,l=(P.bottom-P.top)*H;K.x=P.left+s,K.y=P.top+l}while(A(K,J))}C.push(P,K),C.push(P,J)}else{P.body=J}}}},w=function(J){var r,K,e,H,D=b,n=1,I=0,G=1;for(D[0]=z;n;){var F=D[I],E=F.body;n-=1,I+=1,E&&E!==J?(K=E.x-J.x,e=E.y-J.y,H=Math.sqrt(K*K+e*e),0===H&&(K=(Math.random()-0.5)/50,e=(Math.random()-0.5)/50,H=Math.sqrt(K*K+e*e)),r=v*E.mass*J.mass/(H*H),-1000>r&&(r=-1000),r/=H,J.fx=J.fx+r*K,J.fy=J.fy+r*e):(K=F.massX/F.mass-J.x,e=F.massY/F.mass-J.y,H=Math.sqrt(K*K+e*e),0===H&&(K=(Math.random()-0.5)/50,e=(Math.random()-0.5)/50,H=Math.sqrt(K*K+e*e)),(F.right-F.left)/H<j?(r=v*F.mass*J.mass/(H*H),-1000>r&&(r=-1000),r/=H,J.fx=J.fx+r*K,J.fy=J.fy+r*e):(F.quads[0]&&(D[G]=F.quads[0],n+=1,G+=1),F.quads[1]&&(D[G]=F.quads[1],n+=1,G+=1),F.quads[2]&&(D[G]=F.quads[2],n+=1,G+=1),F.quads[3]&&(D[G]=F.quads[3],n+=1,G+=1)))}},q=function(K,l){v=l;var h,c=Number.MAX_VALUE,M=Number.MAX_VALUE,e=Number.MIN_VALUE,H=Number.MIN_VALUE,J=K,G=J.length;for(h=G;h--;){var F=J[h].x,D=J[h].y;c>F&&(c=F),F>e&&(e=F),M>D&&(M=D),D>H&&(H=D)}var I=e-c,L=H-M;for(I>L?H=M+I:e=c+L,p=0,z=k(),z.left=c,z.right=e,z.top=M,z.bottom=H,h=G;h--;){x(J[h],z)}};return{init:q,update:w}},hO=function(a){a.fx-=a.x*this.attractive,a.fy-=a.y*this.attractive},ck=function(q){if(0!=q.k){var g=this._mop,k=q.from,d=q.to,b=d.x-k.x,u=d.y-k.y,c=b*b+u*u,m=Math.sqrt(c)||0.1,j=(m-g)*q.k*this.elastic;j/=m;var f=j*b,p=j*u;d.fx-=f,d.fy-=p,k.fx+=f,k.fy+=p}};eW.prototype={appendNodeInfo:function(b,a){a.mass=b.layoutMass||1,a.fx=0,a.fy=0,a.vx=0,a.vy=0},appendEdgeInfo:function(b,a){a.k=b.layoutElasticity||1},setMass:function(b,a){b.layoutMass=a,this.layoutDatas&&this.layoutDatas.nodes&&(b=this.layoutDatas.nodes[b.id],b&&(b.mass=a))},setElasticity:function(b,a){b.layoutElasticity=a,this.layoutDatas&&this.layoutDatas.edges&&(b=this.layoutDatas.edges[b.id],b&&(b.k=a))},_mop:50,_ix:0.5,timeStep:0.15,repulsion:50,attractive:0.1,elastic:3,_lx:1000,_kj:function(a){return this._lx+0.3*(a-this._lx)},_ll:function(x,j){var m=(Date.now(),this.layoutDatas.nodes);for(var f in m){var b=m[f];j&&(b.x+=Math.random()-0.5,b.y+=Math.random()-0.5),hO.call(this,b)}var y=this.layoutDatas.groups;if(y){for(var f in y){var d=y[f],q=d.children,k=0,g=0;q.forEach(function(a){k+=a.x,g+=a.y}),k/=q.length,g/=q.length;var v=10*this.attractive;q.forEach(function(a){a.fx-=(a.x-k)*v,a.fy-=(a.y-g)*v})}}var w=this._nbodyForce;w||(w=this._nbodyForce=dS()),w.init(this.layoutDatas.nodesArray,-this.repulsion*this.repulsion*this.repulsion);for(var f in m){w.update(m[f])}if(this.elastic){var p=this.layoutDatas.edges;for(var f in p){ck.call(this,p[f])}}return this._lp(x)},_lp:function(q){var g=this.layoutDatas.minEnergy,k=(this.layoutDatas.currentEnergy,this.layoutDatas.nodes),q=this.timeStep,d=0,b=this._ix;for(var u in k){var c=k[u],m=c.fx/c.mass,j=c.fy/c.mass,f=c.vx+=m*q,p=c.vy+=j*q;c.x+=f*q,c.y+=p*q,g>d&&(d+=2*(f*f+p*p)),c.fx=0,c.fy=0,c.vx*=b,c.vy*=b}return this.layoutDatas.currentEnergy=d,d>=g}},i2(eW,iS),e4.SpringLayouter=eW;var iB=function(a){this.locations=a};iB.prototype={oldLocations:null,_f7:null,duration:700,animationType:cq.easeOutStrong,_72:function(b){if(this._f7=b,this.oldLocations={},b){for(var a in b){var c=b[a],d=c.node;this.oldLocations[a]={x:d.x,y:d.y}}}},setLocation:function(b,a,c){b.setLocation(a,c)},forEach:function(b,a){for(var d in this.locations){var f=this.oldLocations[d],c=this.locations[d];b.call(a,f,c)}},_kh:function(a){this.forEach(function(b,f){var g=f.node,d=b.x+(f.x-b.x)*a,c=b.y+(f.y-b.y)*a;this.setLocation(g,d,c)},this)},stop:function(){this._mlnimate&&this._mlnimate._lq()},start:function(a){this._mlnimate?(this._mlnimate._lq(),this._mlnimate._in=this.duration,this._mlnimate._e2Type=this.animationType,this._mlnimate._onfinish=this._onfinish):this._mlnimate=new j0(this._kh,this,this.duration,this.animationType),this._mlnimate._l1(a)}},iN(iB.prototype,{locations:{get:function(){return this._f7},set:function(a){this._f7!=a&&this._72(a)}}});var fM=function(b){var a,c=new c2;return b.forEach(function(d){d instanceof jc&&(d.hasInEdge()?!a&&d.hasOutEdge()&&(a=d):c.add(d))}),c.isEmpty()&&a&&c.add(a),c},bW=function(b,a,f,h,d,c){if(a instanceof cv){return b(a,f,h,d,c),a}if(a instanceof dd){var g=new c2;a._krModel.forEach(function(e){return a.isVisible(e)?e._i5()&&e._hp&&e.hasChildren()?void (e.$location&&(e.$location.invalidateFlag=!1)):void g.add(e):void 0}),a=g}var a=fM(a,h);return iz(a,function(e){b(e,f,h,d,c)}),a},f7=function(b,a,d,f,c){return bW(ew,b,a,d,f,c)},hA=function(b,a,d,f,c){return bW(cU,b,a,d,f,c)};dQ.prototype.forEachByTopoDepthFirstSearch=function(b,a,c,d){f7(this,b,a,c,d)},dQ.prototype.forEachByTopoBreadthFirstSearch=function(b,a,c,d){b instanceof Object&&1==arguments.length&&(a=b.scope),hA(this,b,a,c,d)},e4.forEachByTopoDepthFirstSearch=f7,e4.forEachByTopoBreadthFirstSearch=hA;var ew=function(b,a,f,g,d){function c(l,k,q,u,p,s,j,m){l._marker=s,u||k.call(q,l,m,j),i5(l,function(e){c(e,k,q,u,p,s,j+1,l)},m,p,s,q),u&&k.call(q,l,m,j)}c(b,a,f,g,d,{},0)},cU=function(b,a,f,g,d){function c(w,q,u,m,j,k,v){var s,p=w.length;w.forEach(function(h,i){var e=h.v;e._marker=k,m||q.call(u,e,h._from,v,i,p),i5(e,function(l){s||(s=[]),l._marker=k,s.push({v:l,_from:e})},e,j,k,u)}),s&&c(s,q,u,m,j,k,v+1),m&&w.forEach(function(e,h){q.call(u,e.v,e._from,v,h,p)})}c([{v:b}],a,f,g,d,{},0)};e4.toColor=iR,e4.log=bQ,e4.error=hp,e4.trace=fY,e4.isIE=bb,e4.isOpera=fg,e4.isWebkit=e9,e4.isGecko=gY,e4.isFirefox=bT,e4.isSafari=aw,e4.isChrome=kg,e4.isMac=dX,e4.DefaultStyles=c5,e4.Defaults=cX,e4.Styles=bm,e4.Consts=aF,e4.Graphs=hU,e4.Graph=dd,e4.BaseUI=bI,e4.ElementUI=fI,e4.NodeUI=cE,e4.EdgeUI=d4,e4.LabelUI=ev,e4.ImageUI=j3,e4.Shapes=jz,e4.Path=db,e4.Gradient=bM,e4.InteractionEvent=eE,e4.Element=cB,e4.Node=jc,e4.Edge=hz,e4.GraphModel=dQ,e4.EdgeBundle=c9,e4.TreeLayouter=bZ,e4.name="Qunee for HTML5";e4.version="2.6.1.4",e4.about="Qunee - Diagramming Components for HTML5/Canvas",e4.copyright="Copyright © 2017 Qunee.com",e4.css=g0;return e4.IDrawable=dV,bQ=function(){},e4.publishDate="17/7/2017",e4},window,document,undefined);